{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{3248:function(t,r,e){\"use strict\";function a(t){return\"object\"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}e.d(r,\"a\",(function(){return a}))},3423:function(t,r,e){\"use strict\";function a(t,r){return Object.keys(r).reduce((function(e,a){a.startsWith(t)&&(e[a.substr(t.length)]=r[a]);return e}),{})}e.r(r),e.d(r,\"queryString\",(function(){return n}));var i=e(538),s=e(3248);function n(t,r){var e=document.createElement(\"a\");e.href=r;var n=e.search.slice(1).split(\"&\").reduce((function(t,r){var e=r.split(\"=\"),a=e[0],s=e[1];return t[a]=Object(i.a)(s),t}),{}),u=[],o=n.ajs_uid,c=n.ajs_event,d=n.ajs_aid,j=Object(s.a)(t.options.useQueryString)?t.options.useQueryString:{},_=j.aid,f=void 0===_?/.+/:_,p=j.uid,v=void 0===p?/.+/:p;if(d){var y=Array.isArray(n.ajs_aid)?n.ajs_aid[0]:n.ajs_aid;f.test(y)&&t.setAnonymousId(y)}if(o){var l=Array.isArray(n.ajs_uid)?n.ajs_uid[0]:n.ajs_uid;if(v.test(l)){var b=a(\"ajs_trait_\",n);u.push(t.identify(l,b))}}if(c){var h=Array.isArray(n.ajs_event)?n.ajs_event[0]:n.ajs_event,w=a(\"ajs_prop_\",n);u.push(t.track(h,w))}return Promise.all(u)}}}]);","name":"js/queryString-52088c7fb3dcc0dd777d.chunk.js","map":{"version":3,"names":["window","push","module","__webpack_exports__","__webpack_require__","isPlainObject","obj","Object","prototype","toString","call","slice","toLowerCase","d","pickPrefix","prefix","object","keys","reduce","acc","key","startsWith","substr","length","r","queryString","gracefulDecodeURIComponent","helpers","analytics","query","a","document","createElement","href","params","search","split","str","_a","k","v","calls","ajs_uid","ajs_event","ajs_aid","options","useQueryString","_b","aid","aidPattern","_c","uid","uidPattern","anonId","Array","isArray","test","setAnonymousId","traits","identify","event_1","props","track","Promise","all"],"sources":["js/queryString-52088c7fb3dcc0dd777d.chunk.js"],"mappings":"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAE7D,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAeA,SAASC,EAAcC,GACrB,MAA0E,WAAnEC,OAAOC,UAAUC,SAASC,KAAKJ,GAAKK,MAAM,GAAI,GAAGC,cAZ3BR,EAAoBS,EAAEV,EAAqB,KAAK,WAAa,OAAOE,MAuB7F,KACA,SAAUH,EAAQC,EAAqBC,GAE7C,aAcA,SAASU,EAAWC,EAAQC,GAC1B,OAAOT,OAAOU,KAAKD,GAAQE,QAAO,SAAUC,EAAKC,GAC3CA,EAAIC,WAAWN,KAEjBI,EADYC,EAAIE,OAAOP,EAAOQ,SACjBP,EAAOI,IAGtB,OAAOD,IACN,IApBLf,EAAoBoB,EAAErB,GAGtBC,EAAoBS,EAAEV,EAAqB,eAAe,WAAa,OAAqBsB,KAoB5F,IAAIC,EAA6BtB,EAAoB,KAGjDuB,EAAUvB,EAAoB,MAMlC,SAASqB,EAAYG,EAAWC,GAC9B,IAAIC,EAAIC,SAASC,cAAc,KAC/BF,EAAEG,KAAOJ,EACT,IACIK,EADSJ,EAAEK,OAAOxB,MAAM,GACRyB,MAAM,KAAKlB,QAAO,SAAUC,EAAKkB,GACnD,IAAIC,EAAKD,EAAID,MAAM,KACfG,EAAID,EAAG,GACPE,EAAIF,EAAG,GAGX,OADAnB,EAAIoB,GAAKhC,OAAOmB,EAA+D,EAAtEnB,CAAyEiC,GAC3ErB,IACN,IACCsB,EAAQ,GACRC,EAAUR,EAAOQ,QACjBC,EAAYT,EAAOS,UACnBC,EAAUV,EAAOU,QAEjBN,EAAK/B,OAAOoB,EAA+B,EAAtCpB,CAAyCqB,EAAUiB,QAAQC,gBAAkBlB,EAAUiB,QAAQC,eAAiB,GACrHC,EAAKT,EAAGU,IACRC,OAAoB,IAAPF,EAAgB,KAAOA,EACpCG,EAAKZ,EAAGa,IACRC,OAAoB,IAAPF,EAAgB,KAAOA,EAExC,GAAIN,EAAS,CACX,IAAIS,EAASC,MAAMC,QAAQrB,EAAOU,SAAWV,EAAOU,QAAQ,GAAKV,EAAOU,QAEpEK,EAAWO,KAAKH,IAClBzB,EAAU6B,eAAeJ,GAI7B,GAAIX,EAAS,CACX,IAAIS,EAAMG,MAAMC,QAAQrB,EAAOQ,SAAWR,EAAOQ,QAAQ,GAAKR,EAAOQ,QAErE,GAAIU,EAAWI,KAAKL,GAAM,CACxB,IAAIO,EAAS5C,EAAW,aAAcoB,GACtCO,EAAMxC,KAAK2B,EAAU+B,SAASR,EAAKO,KAIvC,GAAIf,EAAW,CACb,IAAIiB,EAAUN,MAAMC,QAAQrB,EAAOS,WAAaT,EAAOS,UAAU,GAAKT,EAAOS,UACzEkB,EAAQ/C,EAAW,YAAaoB,GACpCO,EAAMxC,KAAK2B,EAAUkC,MAAMF,EAASC,IAGtC,OAAOE,QAAQC,IAAIvB"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[25],{\n\n/***/ 3248:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export isString */\n/* unused harmony export isNumber */\n/* unused harmony export isFunction */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return isPlainObject; });\n/* unused harmony export hasUser */\nfunction isString(obj) {\n  return typeof obj === 'string';\n}\nfunction isNumber(obj) {\n  return typeof obj === 'number';\n}\nfunction isFunction(obj) {\n  return typeof obj === 'function';\n}\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() === 'object';\n}\nfunction hasUser(event) {\n  var _a, _b, _c;\n\n  var id = (_c = (_b = (_a = event.userId) !== null && _a !== void 0 ? _a : event.anonymousId) !== null && _b !== void 0 ? _b : event.groupId) !== null && _c !== void 0 ? _c : event.previousId;\n  return isString(id);\n}\n\n/***/ }),\n\n/***/ 3423:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"queryString\", function() { return /* binding */ queryString; });\n\n// CONCATENATED MODULE: ./node_modules/@june-so/analytics-next/dist/pkg/core/query-string/pickPrefix.js\n/**\n * Returns an object containing only the properties prefixed by the input\n * string.\n * Ex: prefix('ajs_traits_', { ajs_traits_address: '123 St' })\n * will return { address: '123 St' }\n **/\nfunction pickPrefix(prefix, object) {\n  return Object.keys(object).reduce(function (acc, key) {\n    if (key.startsWith(prefix)) {\n      var field = key.substr(prefix.length);\n      acc[field] = object[key];\n    }\n\n    return acc;\n  }, {});\n}\n// EXTERNAL MODULE: ./node_modules/@june-so/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js\nvar gracefulDecodeURIComponent = __webpack_require__(538);\n\n// EXTERNAL MODULE: ./node_modules/@segment/analytics-core/dist/esm/validation/helpers.js\nvar helpers = __webpack_require__(3248);\n\n// CONCATENATED MODULE: ./node_modules/@june-so/analytics-next/dist/pkg/core/query-string/index.js\n\n\n\nfunction queryString(analytics, query) {\n  var a = document.createElement('a');\n  a.href = query;\n  var parsed = a.search.slice(1);\n  var params = parsed.split('&').reduce(function (acc, str) {\n    var _a = str.split('='),\n        k = _a[0],\n        v = _a[1];\n\n    acc[k] = Object(gracefulDecodeURIComponent[\"a\" /* gracefulDecodeURIComponent */])(v);\n    return acc;\n  }, {});\n  var calls = [];\n  var ajs_uid = params.ajs_uid,\n      ajs_event = params.ajs_event,\n      ajs_aid = params.ajs_aid;\n\n  var _a = Object(helpers[\"a\" /* isPlainObject */])(analytics.options.useQueryString) ? analytics.options.useQueryString : {},\n      _b = _a.aid,\n      aidPattern = _b === void 0 ? /.+/ : _b,\n      _c = _a.uid,\n      uidPattern = _c === void 0 ? /.+/ : _c;\n\n  if (ajs_aid) {\n    var anonId = Array.isArray(params.ajs_aid) ? params.ajs_aid[0] : params.ajs_aid;\n\n    if (aidPattern.test(anonId)) {\n      analytics.setAnonymousId(anonId);\n    }\n  }\n\n  if (ajs_uid) {\n    var uid = Array.isArray(params.ajs_uid) ? params.ajs_uid[0] : params.ajs_uid;\n\n    if (uidPattern.test(uid)) {\n      var traits = pickPrefix('ajs_trait_', params);\n      calls.push(analytics.identify(uid, traits));\n    }\n  }\n\n  if (ajs_event) {\n    var event_1 = Array.isArray(params.ajs_event) ? params.ajs_event[0] : params.ajs_event;\n    var props = pickPrefix('ajs_prop_', params);\n    calls.push(analytics.track(event_1, props));\n  }\n\n  return Promise.all(calls);\n}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--6-0!/home/chatwoot/chatwoot/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js","/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--6-0!/home/chatwoot/chatwoot/node_modules/@june-so/analytics-next/dist/pkg/core/query-string/pickPrefix.js","/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--6-0!/home/chatwoot/chatwoot/node_modules/@june-so/analytics-next/dist/pkg/core/query-string/index.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;;AAEA;AACA;AACA,C;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA,8BAA8B,+BAA+B;AAC7D,gBAAgB;AAChB;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG,IAAI;AACP,C;;;;;;;;ACf0C;AACgC;AAClB;AACjD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,wEAA0B;AACvC;AACA,GAAG,IAAI;AACP;AACA;AACA;AACA;;AAEA,WAAW,wCAAa,0EAA0E;AAClG;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;;AAEA;AACA,C","file":"x","sourcesContent":["export function isString(obj) {\n  return typeof obj === 'string';\n}\nexport function isNumber(obj) {\n  return typeof obj === 'number';\n}\nexport function isFunction(obj) {\n  return typeof obj === 'function';\n}\nexport function isPlainObject(obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() === 'object';\n}\nexport function hasUser(event) {\n  var _a, _b, _c;\n\n  var id = (_c = (_b = (_a = event.userId) !== null && _a !== void 0 ? _a : event.anonymousId) !== null && _b !== void 0 ? _b : event.groupId) !== null && _c !== void 0 ? _c : event.previousId;\n  return isString(id);\n}","/**\n * Returns an object containing only the properties prefixed by the input\n * string.\n * Ex: prefix('ajs_traits_', { ajs_traits_address: '123 St' })\n * will return { address: '123 St' }\n **/\nexport function pickPrefix(prefix, object) {\n  return Object.keys(object).reduce(function (acc, key) {\n    if (key.startsWith(prefix)) {\n      var field = key.substr(prefix.length);\n      acc[field] = object[key];\n    }\n\n    return acc;\n  }, {});\n}","import { pickPrefix } from './pickPrefix';\nimport { gracefulDecodeURIComponent } from './gracefulDecodeURIComponent';\nimport { isPlainObject } from '@segment/analytics-core';\nexport function queryString(analytics, query) {\n  var a = document.createElement('a');\n  a.href = query;\n  var parsed = a.search.slice(1);\n  var params = parsed.split('&').reduce(function (acc, str) {\n    var _a = str.split('='),\n        k = _a[0],\n        v = _a[1];\n\n    acc[k] = gracefulDecodeURIComponent(v);\n    return acc;\n  }, {});\n  var calls = [];\n  var ajs_uid = params.ajs_uid,\n      ajs_event = params.ajs_event,\n      ajs_aid = params.ajs_aid;\n\n  var _a = isPlainObject(analytics.options.useQueryString) ? analytics.options.useQueryString : {},\n      _b = _a.aid,\n      aidPattern = _b === void 0 ? /.+/ : _b,\n      _c = _a.uid,\n      uidPattern = _c === void 0 ? /.+/ : _c;\n\n  if (ajs_aid) {\n    var anonId = Array.isArray(params.ajs_aid) ? params.ajs_aid[0] : params.ajs_aid;\n\n    if (aidPattern.test(anonId)) {\n      analytics.setAnonymousId(anonId);\n    }\n  }\n\n  if (ajs_uid) {\n    var uid = Array.isArray(params.ajs_uid) ? params.ajs_uid[0] : params.ajs_uid;\n\n    if (uidPattern.test(uid)) {\n      var traits = pickPrefix('ajs_trait_', params);\n      calls.push(analytics.identify(uid, traits));\n    }\n  }\n\n  if (ajs_event) {\n    var event_1 = Array.isArray(params.ajs_event) ? params.ajs_event[0] : params.ajs_event;\n    var props = pickPrefix('ajs_prop_', params);\n    calls.push(analytics.track(event_1, props));\n  }\n\n  return Promise.all(calls);\n}"]}}