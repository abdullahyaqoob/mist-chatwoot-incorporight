{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{2645:function(t,e,r){\"use strict\";r.d(e,\"b\",(function(){return n})),r.d(e,\"c\",(function(){return s})),r.d(e,\"a\",(function(){return i})),r.d(e,\"d\",(function(){return u})),r.d(e,\"e\",(function(){return p}));var n={1:{id:1,period:\"day\"},2:{id:2,period:\"week\"},3:{id:3,period:\"month\"},4:{id:4,period:\"year\"}},s={DAY:{id:\"DAY\",period:\"day\",translationKey:\"REPORT.GROUPING_OPTIONS.DAY\"},WEEK:{id:\"WEEK\",period:\"week\",translationKey:\"REPORT.GROUPING_OPTIONS.WEEK\"},MONTH:{id:\"MONTH\",period:\"month\",translationKey:\"REPORT.GROUPING_OPTIONS.MONTH\"},YEAR:{id:\"YEAR\",period:\"year\",translationKey:\"REPORT.GROUPING_OPTIONS.YEAR\"}},i={LAST_7_DAYS:{id:\"LAST_7_DAYS\",translationKey:\"REPORT.DATE_RANGE_OPTIONS.LAST_7_DAYS\",offset:6,groupByOptions:[s.DAY]},LAST_30_DAYS:{id:\"LAST_30_DAYS\",translationKey:\"REPORT.DATE_RANGE_OPTIONS.LAST_30_DAYS\",offset:29,groupByOptions:[s.DAY,s.WEEK]},LAST_3_MONTHS:{id:\"LAST_3_MONTHS\",translationKey:\"REPORT.DATE_RANGE_OPTIONS.LAST_3_MONTHS\",offset:89,groupByOptions:[s.DAY,s.WEEK,s.MONTH]},LAST_6_MONTHS:{id:\"LAST_6_MONTHS\",translationKey:\"REPORT.DATE_RANGE_OPTIONS.LAST_6_MONTHS\",offset:179,groupByOptions:[s.WEEK,s.MONTH]},LAST_YEAR:{id:\"LAST_YEAR\",translationKey:\"REPORT.DATE_RANGE_OPTIONS.LAST_YEAR\",offset:364,groupByOptions:[s.WEEK,s.MONTH]},CUSTOM_DATE_RANGE:{id:\"CUSTOM_DATE_RANGE\",translationKey:\"REPORT.DATE_RANGE_OPTIONS.CUSTOM_DATE_RANGE\",offset:null,groupByOptions:[s.DAY,s.WEEK,s.MONTH,s.YEAR]}},o='PlusJakarta,-apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif',a={type:\"bar\",backgroundColor:\"rgb(31, 147, 255)\"},l={datasets:[a],scales:{xAxes:[{ticks:{fontFamily:o},gridLines:{drawOnChartArea:!1}}],yAxes:[{id:\"y-left\",type:\"linear\",position:\"left\",ticks:{fontFamily:o,beginAtZero:!0,stepSize:1,callback:function(t,e,r){return e&&e!==r.length-1?\"\":t}},gridLines:{drawOnChartArea:!1}}]}},c={datasets:[a],scales:{xAxes:[{ticks:{fontFamily:o},gridLines:{drawOnChartArea:!1}}],yAxes:[{id:\"y-left\",type:\"linear\",position:\"left\",ticks:{fontFamily:o,callback:function(t,e,r){return e&&e!==r.length-1?\"\":function(t){if(!t)return\"\";if(t<60)return\"\".concat(t,\"s\");if(t<3600){var e=Math.floor(t/60);return\"\".concat(e,\"m\")}if(t<86400){var r=Math.floor(t/3600);return\"\".concat(r,\"h\")}var n=Math.floor(t/86400);return\"\".concat(n,\"d\")}(t)}},gridLines:{drawOnChartArea:!1}}]}},u={conversations_count:l,incoming_messages_count:l,outgoing_messages_count:l,avg_first_response_time:c,reply_time:c,avg_resolution_time:c,resolutions_count:l,bot_resolutions_count:l,bot_handoffs_count:l},p={open:\"OPEN\",unattended:\"UNATTENDED\",unassigned:\"UNASSIGNED\",pending:\"PENDING\",online:\"ONLINE\",busy:\"BUSY\",offline:\"OFFLINE\"}},2654:function(t,e,r){\"use strict\";r(56),r(88),r(51),r(75),r(13),r(9),r(11),r(15),r(12),r(16);var n=r(32),s=r(281);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.a={props:{accountSummaryKey:{type:String,default:\"getAccountSummary\"}},computed:o(o({},Object(n.mapGetters)({accountReport:\"getAccountReports\"})),{},{accountSummary:function(){return this.$store.getters[this.accountSummaryKey]}}),methods:{calculateTrend:function(t){if(!this.accountSummary.previous[t])return 0;var e=this.accountSummary[t]-this.accountSummary.previous[t];return Math.round(e/this.accountSummary.previous[t]*100)},displayMetric:function(t){return this.isAverageMetricType(t)?Object(s.e)(this.accountSummary[t]):Number(this.accountSummary[t]||\"\").toLocaleString()},displayInfoText:function(t){if(this.metrics[this.currentSelection].KEY!==t)return\"\";if(this.isAverageMetricType(t)){var e=this.accountReport.data.map((function(t){return t.count})).reduce((function(t,e){return t+e}),0);return\"\".concat(this.metrics[this.currentSelection].INFO_TEXT,\" \").concat(e)}return\"\"},isAverageMetricType:function(t){return[\"avg_first_response_time\",\"avg_resolution_time\",\"reply_time\"].includes(t)}}}},2829:function(t,e,r){\"use strict\";r(13),r(88),r(51),r(9),r(11),r(15),r(12),r(16);var n=r(2645),s=r(194),i=r(288),o=r(281),a=r(2654),l={mixins:[a.a],props:{metric:{type:Object,default:function(){return{}}}},methods:{trendColor:function(t,e){return this.isAverageMetricType(e)?t>0?\"border-red-500 text-red-500\":\"border-green-500 text-green-500\":t<0?\"border-red-500 text-red-500\":\"border-green-500 text-green-500\"}}},c=r(8);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m={components:{ChartStats:Object(c.a)(l,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"text-slate-900 dark:text-slate-100\"},[e(\"span\",{staticClass:\"text-sm\"},[t._v(\"\\n    \"+t._s(t.metric.NAME)+\"\\n  \")]),t._v(\" \"),e(\"div\",{staticClass:\"flex items-end\"},[e(\"div\",{staticClass:\"font-medium text-xl\"},[t._v(\"\\n      \"+t._s(t.displayMetric(t.metric.KEY))+\"\\n    \")]),t._v(\" \"),t.metric.trend?e(\"div\",{staticClass:\"text-xs ml-4 flex items-center mb-0.5\"},[t.metric.trend<0?e(\"div\",{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-t-[8px] mr-1\",class:t.trendColor(t.metric.trend,t.metric.KEY)}):e(\"div\",{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-b-[8px] mr-1\",class:t.trendColor(t.metric.trend,t.metric.KEY)}),t._v(\" \"),e(\"span\",{staticClass:\"font-medium\",class:t.trendColor(t.metric.trend,t.metric.KEY)},[t._v(\"\\n        \"+t._s(t.calculateTrend(t.metric.KEY))+\"%\\n      \")])]):t._e()])])}),[],!1,null,null,null).exports},mixins:[a.a],props:{groupBy:{type:Object,default:function(){return{}}},reportKeys:{type:Object,default:function(){return{CONVERSATIONS:\"conversations_count\",INCOMING_MESSAGES:\"incoming_messages_count\",OUTGOING_MESSAGES:\"outgoing_messages_count\",FIRST_RESPONSE_TIME:\"avg_first_response_time\",RESOLUTION_TIME:\"avg_resolution_time\",RESOLUTION_COUNT:\"resolutions_count\",REPLY_TIME:\"reply_time\"}}}},computed:{metrics:function(){var t=this,e=Object.keys(this.reportKeys),r={FIRST_RESPONSE_TIME:this.$t(\"REPORT.METRICS.FIRST_RESPONSE_TIME.INFO_TEXT\"),RESOLUTION_TIME:this.$t(\"REPORT.METRICS.RESOLUTION_TIME.INFO_TEXT\")};return e.map((function(e){return{NAME:t.$t(\"REPORT.METRICS.\".concat(e,\".NAME\")),KEY:t.reportKeys[e],DESC:t.$t(\"REPORT.METRICS.\".concat(e,\".DESC\")),INFO_TEXT:r[e],TOOLTIP_TEXT:\"REPORT.METRICS.\".concat(e,\".TOOLTIP_TEXT\"),trend:t.calculateTrend(t.reportKeys[e])}}))}},methods:{getCollection:function(t){var e=this;if(!this.accountReport.data[t.KEY])return{};var r=this.accountReport.data[t.KEY];return{labels:r.map((function(t){var r,o,a;if((null===(r=e.groupBy)||void 0===r?void 0:r.period)===n.b[2].period){var l=new Date(Object(s.a)(t.timestamp)),c=l.getDate()-l.getDay(),u=c+6,p=new Date(l.setDate(c)),d=new Date(l.setDate(u));return\"\".concat(Object(i.a)(p,\"dd-MMM\"),\" - \").concat(Object(i.a)(d,\"dd-MMM\"))}return(null===(o=e.groupBy)||void 0===o?void 0:o.period)===n.b[3].period?Object(i.a)(Object(s.a)(t.timestamp),\"MMM-yyyy\"):(null===(a=e.groupBy)||void 0===a?void 0:a.period)===n.b[4].period?Object(i.a)(Object(s.a)(t.timestamp),\"yyyy\"):Object(i.a)(Object(s.a)(t.timestamp),\"dd-MMM\")})),datasets:n.d[t.KEY].datasets.map((function(n){switch(n.type){case\"bar\":return p(p({},n),{},{yAxisID:\"y-left\",label:t.NAME,data:r.map((function(t){return t.value}))});case\"line\":return p(p({},n),{},{yAxisID:\"y-right\",label:e.metrics[0].NAME,data:r.map((function(t){return t.count}))});default:return n}}))}},getChartOptions:function(t){var e=this,r={};return this.isAverageMetricType(t.KEY)&&(r.callbacks={label:function(r){return e.$t(t.TOOLTIP_TEXT,{metricValue:Object(o.e)(r.yLabel),conversationCount:e.accountReport.data[t.KEY][r.index].count})}}),{scales:n.d[t.KEY].scales,tooltips:r}}}},f=Object(c.a)(m,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 bg-white dark:bg-slate-800 p-2 border border-slate-100 dark:border-slate-700 rounded-md\"},t._l(t.metrics,(function(r){return e(\"div\",{key:r.KEY,staticClass:\"p-4 rounded-md mb-3\"},[e(\"chart-stats\",{attrs:{metric:r,\"account-summary-key\":t.accountSummaryKey}}),t._v(\" \"),e(\"div\",{staticClass:\"mt-4 h-72\"},[t.accountReport.isFetching[r.KEY]?e(\"woot-loading-state\",{staticClass:\"text-xs\",attrs:{message:t.$t(\"REPORT.LOADING_CHART\")}}):e(\"div\",{staticClass:\"h-72 flex items-center justify-center\"},[t.accountReport.data[r.KEY].length?e(\"woot-bar\",{staticClass:\"h-72 w-full\",attrs:{collection:t.getCollection(r),\"chart-options\":t.getChartOptions(r)}}):e(\"span\",{staticClass:\"text-sm text-slate-600\"},[t._v(\"\\n          \"+t._s(t.$t(\"REPORT.NO_ENOUGH_DATA\"))+\"\\n        \")])],1)],1)],1)})),0)}),[],!1,null,null,null);e.a=f.exports},2839:function(t,e,r){\"use strict\";r(11),r(10),r(28),r(36);var n=r(1788),s=r(1905),i=r(168),o=r(1778),a=r(271),l=r(2973),c=r(2645),u={components:{WootDateRangePicker:l.a,Thumbnail:a.a},props:{filterItemsList:{type:Array,default:function(){return[]}},groupByFilterItemsList:{type:Array,default:function(){return[]}},type:{type:String,default:\"agent\"},selectedGroupByFilter:{type:Object,default:function(){}}},data:function(){return{currentSelectedFilter:null,currentDateRangeSelection:this.$t(\"REPORT.DATE_RANGE\")[0],dateRange:this.$t(\"REPORT.DATE_RANGE\"),customDateRange:[new Date,new Date],currentSelectedGroupByFilter:null,businessHoursSelected:!1}},computed:{isDateRangeSelected:function(){return 5===this.currentDateRangeSelection.id},to:function(){return this.isDateRangeSelected?this.toCustomDate(this.customDateRange[1]):this.toCustomDate(new Date)},from:function(){if(this.isDateRangeSelected)return this.fromCustomDate(this.customDateRange[0]);var t={0:6,1:29,2:89,3:179,4:364}[this.currentDateRangeSelection.id],e=Object(o.a)(new Date,t);return this.fromCustomDate(e)},multiselectLabel:function(){return{agent:this.$t(\"AGENT_REPORTS.FILTER_DROPDOWN_LABEL\"),label:this.$t(\"LABEL_REPORTS.FILTER_DROPDOWN_LABEL\"),inbox:this.$t(\"INBOX_REPORTS.FILTER_DROPDOWN_LABEL\"),team:this.$t(\"TEAM_REPORTS.FILTER_DROPDOWN_LABEL\")}[this.type]||this.$t(\"FORMS.MULTISELECT.SELECT_ONE\")},groupBy:function(){return this.isDateRangeSelected?c.b[4].period:{0:c.b[1].period,1:c.b[2].period,2:c.b[3].period,3:c.b[3].period,4:c.b[4].period}[this.currentDateRangeSelection.id]},notLast7Days:function(){return this.groupBy!==c.b[1].period}},watch:{filterItemsList:function(t){this.currentSelectedFilter=t[0],this.changeFilterSelection()},groupByFilterItemsList:function(){this.currentSelectedGroupByFilter=this.selectedGroupByFilter},businessHoursSelected:function(){this.$emit(\"business-hours-toggle\",this.businessHoursSelected)}},mounted:function(){this.onDateRangeChange()},methods:{onDateRangeChange:function(){this.$emit(\"date-range-change\",{from:this.from,to:this.to,groupBy:this.groupBy})},fromCustomDate:function(t){return Object(s.a)(Object(i.a)(t))},toCustomDate:function(t){return Object(s.a)(Object(n.a)(t))},changeDateSelection:function(t){this.currentDateRangeSelection=t,this.onDateRangeChange()},changeFilterSelection:function(){this.$emit(\"filter-change\",this.currentSelectedFilter)},onChange:function(t){this.customDateRange=t,this.onDateRangeChange()},changeGroupByFilterSelection:function(){this.$emit(\"group-by-filter-change\",this.currentSelectedGroupByFilter)}}},p=r(8),d=Object(p.a)(u,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"flex flex-col md:flex-row\"},[e(\"div\",{staticClass:\"flex items-center w-full flex-col md:flex-row\"},[\"agent\"===t.type?e(\"div\",{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[e(\"p\",{staticClass:\"text-xs mb-2 font-medium\"},[t._v(\"\\n        \"+t._s(t.$t(\"AGENT_REPORTS.FILTER_DROPDOWN_LABEL\"))+\"\\n      \")]),t._v(\" \"),e(\"multiselect\",{attrs:{placeholder:t.multiselectLabel,label:\"name\",\"track-by\":\"id\",options:t.filterItemsList,\"option-height\":24,\"show-labels\":!1},on:{input:t.changeFilterSelection},scopedSlots:t._u([{key:\"singleLabel\",fn:function(r){return[e(\"div\",{staticClass:\"flex items-center gap-2\"},[e(\"thumbnail\",{attrs:{src:r.option.thumbnail,status:r.option.availability_status,username:r.option.name,size:\"22px\"}}),t._v(\" \"),e(\"span\",{staticClass:\"reports-option__desc\"},[e(\"span\",{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[t._v(t._s(r.option.name))])])],1)]}},{key:\"option\",fn:function(r){return[e(\"div\",{staticClass:\"flex items-center gap-2\"},[e(\"thumbnail\",{attrs:{src:r.option.thumbnail,status:r.option.availability_status,username:r.option.name,size:\"22px\"}}),t._v(\" \"),e(\"p\",{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[t._v(\"\\n              \"+t._s(r.option.name)+\"\\n            \")])],1)]}}],null,!1,4025078773),model:{value:t.currentSelectedFilter,callback:function(e){t.currentSelectedFilter=e},expression:\"currentSelectedFilter\"}})],1):\"label\"===t.type?e(\"div\",{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[e(\"p\",{staticClass:\"text-xs mb-2 font-medium\"},[t._v(\"\\n        \"+t._s(t.$t(\"LABEL_REPORTS.FILTER_DROPDOWN_LABEL\"))+\"\\n      \")]),t._v(\" \"),e(\"multiselect\",{attrs:{placeholder:t.multiselectLabel,label:\"title\",\"track-by\":\"id\",options:t.filterItemsList,\"option-height\":24,\"show-labels\":!1},on:{input:t.changeFilterSelection},scopedSlots:t._u([{key:\"singleLabel\",fn:function(r){return[e(\"div\",{staticClass:\"flex gap-2 items-center\"},[e(\"div\",{staticClass:\"rounded-full h-5 w-5\",style:{backgroundColor:r.option.color}}),t._v(\" \"),e(\"span\",{staticClass:\"reports-option__desc\"},[e(\"span\",{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[t._v(\"\\n                \"+t._s(r.option.title)+\"\\n              \")])])])]}},{key:\"option\",fn:function(r){return[e(\"div\",{staticClass:\"flex items-center gap-2\"},[e(\"div\",{staticClass:\"rounded-full h-5 w-5 flex-shrink-0 border border-solid border-slate-100 dark:border-slate-800\",style:{backgroundColor:r.option.color}}),t._v(\" \"),e(\"span\",{staticClass:\"reports-option__desc\"},[e(\"span\",{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[t._v(\"\\n                \"+t._s(r.option.title)+\"\\n              \")])])])]}}]),model:{value:t.currentSelectedFilter,callback:function(e){t.currentSelectedFilter=e},expression:\"currentSelectedFilter\"}})],1):e(\"div\",{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[e(\"p\",{staticClass:\"text-xs mb-2 font-medium\"},[\"inbox\"===t.type?[t._v(\"\\n          \"+t._s(t.$t(\"INBOX_REPORTS.FILTER_DROPDOWN_LABEL\"))+\"\\n        \")]:\"team\"===t.type?[t._v(\"\\n          \"+t._s(t.$t(\"TEAM_REPORTS.FILTER_DROPDOWN_LABEL\"))+\"\\n        \")]:[t._v(\"\\n          \"+t._s(t.$t(\"FORMS.MULTISELECT.SELECT_ONE\"))+\"\\n        \")]],2),t._v(\" \"),e(\"multiselect\",{attrs:{\"track-by\":\"id\",label:\"name\",placeholder:t.multiselectLabel,\"selected-label\":\"\",\"select-label\":t.$t(\"FORMS.MULTISELECT.ENTER_TO_SELECT\"),\"deselect-label\":\"\",options:t.filterItemsList,searchable:!1,\"allow-empty\":!1},on:{input:t.changeFilterSelection},model:{value:t.currentSelectedFilter,callback:function(e){t.currentSelectedFilter=e},expression:\"currentSelectedFilter\"}})],1),t._v(\" \"),e(\"div\",{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[e(\"p\",{staticClass:\"text-xs mb-2 font-medium\"},[t._v(\"\\n        \"+t._s(t.$t(\"REPORT.DURATION_FILTER_LABEL\"))+\"\\n      \")]),t._v(\" \"),e(\"multiselect\",{attrs:{\"track-by\":\"name\",label:\"name\",placeholder:t.$t(\"FORMS.MULTISELECT.SELECT_ONE\"),\"selected-label\":\"\",\"select-label\":t.$t(\"FORMS.MULTISELECT.ENTER_TO_SELECT\"),\"deselect-label\":\"\",options:t.dateRange,searchable:!1,\"allow-empty\":!1},on:{select:t.changeDateSelection},model:{value:t.currentDateRangeSelection,callback:function(e){t.currentDateRangeSelection=e},expression:\"currentDateRangeSelection\"}})],1),t._v(\" \"),t.isDateRangeSelected?e(\"div\",{},[e(\"p\",{staticClass:\"text-xs mb-2 font-medium\"},[t._v(\"\\n        \"+t._s(t.$t(\"REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER\"))+\"\\n      \")]),t._v(\" \"),e(\"woot-date-range-picker\",{attrs:{\"show-range\":\"\",value:t.customDateRange,\"confirm-text\":t.$t(\"REPORT.CUSTOM_DATE_RANGE.CONFIRM\"),placeholder:t.$t(\"REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER\")},on:{change:t.onChange}})],1):t._e(),t._v(\" \"),t.notLast7Days?e(\"div\",{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[e(\"p\",{staticClass:\"text-xs mb-2 font-medium\"},[t._v(\"\\n        \"+t._s(t.$t(\"REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL\"))+\"\\n      \")]),t._v(\" \"),e(\"multiselect\",{attrs:{\"track-by\":\"id\",label:\"groupBy\",placeholder:t.$t(\"REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL\"),options:t.groupByFilterItemsList,\"allow-empty\":!1,\"show-labels\":!1},on:{input:t.changeGroupByFilterSelection},model:{value:t.currentSelectedGroupByFilter,callback:function(e){t.currentSelectedGroupByFilter=e},expression:\"currentSelectedGroupByFilter\"}})],1):t._e()]),t._v(\" \"),e(\"div\",{staticClass:\"flex items-center my-2\"},[e(\"span\",{staticClass:\"text-sm mx-2 whitespace-nowrap\"},[t._v(\"\\n      \"+t._s(t.$t(\"REPORT.BUSINESS_HOURS\"))+\"\\n    \")]),t._v(\" \"),e(\"span\",[e(\"woot-switch\",{model:{value:t.businessHoursSelected,callback:function(e){t.businessHoursSelected=e},expression:\"businessHoursSelected\"}})],1)])])}),[],!1,null,null,null).exports,m=r(2829),f=r(2654),_=r(262),O=r(94);function h(t,e,r,n,s,i,o){try{var a=t[i](o),l=a.value}catch(c){return void r(c)}a.done?e(l):Promise.resolve(l).then(n,s)}var E={CONVERSATIONS:\"conversations_count\",INCOMING_MESSAGES:\"incoming_messages_count\",OUTGOING_MESSAGES:\"outgoing_messages_count\",FIRST_RESPONSE_TIME:\"avg_first_response_time\",RESOLUTION_TIME:\"avg_resolution_time\",RESOLUTION_COUNT:\"resolutions_count\",REPLY_TIME:\"reply_time\"},y={components:{ReportFilters:d,ReportContainer:m.a},mixins:[f.a],props:{type:{type:String,default:\"account\"},getterKey:{type:String,default:\"\"},actionKey:{type:String,default:\"\"},downloadButtonLabel:{type:String,default:\"Download Reports\"}},data:function(){return{from:0,to:0,selectedFilter:null,groupBy:c.b[1],groupByfilterItemsList:this.$t(\"REPORT.GROUP_BY_DAY_OPTIONS\"),selectedGroupByFilter:null,businessHours:!1}},computed:{filterItemsList:function(){return this.$store.getters[this.getterKey]||[]}},mounted:function(){this.$store.dispatch(this.actionKey)},methods:{fetchAllData:function(){if(this.selectedFilter){var t=this.from,e=this.to,r=this.groupBy,n=this.businessHours;this.$store.dispatch(\"fetchAccountSummary\",{from:t,to:e,type:this.type,id:this.selectedFilter.id,groupBy:r.period,businessHours:n}),this.fetchChartData()}},fetchChartData:function(){var t=this;[\"CONVERSATIONS\",\"INCOMING_MESSAGES\",\"OUTGOING_MESSAGES\",\"FIRST_RESPONSE_TIME\",\"RESOLUTION_TIME\",\"RESOLUTION_COUNT\",\"REPLY_TIME\"].forEach(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var n,s,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.from,s=t.to,i=t.groupBy,o=t.businessHours,t.$store.dispatch(\"fetchAccountReport\",{metric:E[r],from:n,to:s,type:t.type,id:t.selectedFilter.id,groupBy:i.period,businessHours:o})}catch(a){t.showAlert(t.$t(\"REPORT.DATA_FETCHING_FAILED\"))}case 1:case\"end\":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,s){var i=e.apply(t,r);function o(t){h(i,n,s,o,a,\"next\",t)}function a(t){h(i,n,s,o,a,\"throw\",t)}o(void 0)}))});return function(t){return r.apply(this,arguments)}}())},downloadReports:function(){var t=this.from,e=this.to,r=this.type,n=this.businessHours,s={agent:\"downloadAgentReports\",label:\"downloadLabelReports\",inbox:\"downloadInboxReports\",team:\"downloadTeamReports\"};if(s[r]){var i={from:t,to:e,fileName:Object(_.b)({type:r,to:e,businessHours:n}),businessHours:n};this.$store.dispatch(s[r],i)}},onDateRangeChange:function(t){var e=this,r=t.from,n=t.to,s=t.groupBy;0!==this.from&&0!==this.to&&this.$track(O.j.FILTER_REPORT,{filterType:\"date\",reportType:this.type}),this.from=r,this.to=n,this.groupByfilterItemsList=this.fetchFilterItems(s);var i=this.groupByfilterItemsList.filter((function(t){return t.id===e.groupBy.id}));i.length>0?this.selectedGroupByFilter=i[0]:(this.selectedGroupByFilter=this.groupByfilterItemsList[0],this.groupBy=c.b[this.selectedGroupByFilter.id]),this.fetchAllData()},onFilterChange:function(t){t&&(this.selectedFilter=t,this.fetchAllData())},onGroupByFilterChange:function(t){var e;this.groupBy=c.b[t.id],this.fetchAllData(),this.$track(O.j.FILTER_REPORT,{filterType:\"groupBy\",filterValue:null===(e=this.groupBy)||void 0===e?void 0:e.period,reportType:this.type})},fetchFilterItems:function(t){switch(t){case c.b[2].period:return this.$t(\"REPORT.GROUP_BY_WEEK_OPTIONS\");case c.b[3].period:return this.$t(\"REPORT.GROUP_BY_MONTH_OPTIONS\");case c.b[4].period:return this.$t(\"REPORT.GROUP_BY_YEAR_OPTIONS\");default:return this.$t(\"REPORT.GROUP_BY_DAY_OPTIONS\")}},onBusinessHoursToggle:function(t){this.businessHours=t,this.fetchAllData(),this.$track(O.j.FILTER_REPORT,{filterType:\"businessHours\",filterValue:t,reportType:this.type})}}},R=y,T=Object(p.a)(R,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"flex-1 overflow-auto p-4\"},[e(\"woot-button\",{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",icon:\"arrow-download\"},on:{click:t.downloadReports}},[t._v(\"\\n    \"+t._s(t.downloadButtonLabel)+\"\\n  \")]),t._v(\" \"),t.filterItemsList?e(\"report-filters\",{attrs:{type:t.type,\"filter-items-list\":t.filterItemsList,\"group-by-filter-items-list\":t.groupByfilterItemsList,\"selected-group-by-filter\":t.selectedGroupByFilter},on:{\"date-range-change\":t.onDateRangeChange,\"filter-change\":t.onFilterChange,\"group-by-filter-change\":t.onGroupByFilterChange,\"business-hours-toggle\":t.onBusinessHoursToggle}}):t._e(),t._v(\" \"),t.filterItemsList.length?e(\"report-container\",{attrs:{\"group-by\":t.groupBy}}):t._e()],1)}),[],!1,null,null,null);e.a=T.exports},2973:function(t,e,r){\"use strict\";var n={components:{DatePicker:r(2831).a},props:{confirmText:{type:String,default:\"\"},placeholder:{type:String,default:\"\"},value:{type:Array,default:function(){return[]}}},methods:{handleChange:function(t){this.$emit(\"change\",t)}}},s=r(8),i=Object(s.a)(n,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"date-picker\"},[e(\"date-picker\",{attrs:{range:!0,confirm:!0,clearable:!1,editable:!1,\"confirm-text\":t.confirmText,placeholder:t.placeholder,value:t.value},on:{change:t.handleChange}})],1)}),[],!1,null,null,null);e.a=i.exports}}]);","name":"js/8-cc44c4692022d9310900.chunk.js","map":{"version":3,"names":["window","push","module","__webpack_exports__","__webpack_require__","d","GROUP_BY_FILTER","GROUP_BY_OPTIONS","DATE_RANGE_OPTIONS","METRIC_CHART","OVERVIEW_METRICS","id","period","DAY","translationKey","WEEK","MONTH","YEAR","LAST_7_DAYS","offset","groupByOptions","LAST_30_DAYS","LAST_3_MONTHS","LAST_6_MONTHS","LAST_YEAR","CUSTOM_DATE_RANGE","CHART_FONT_FAMILY","DEFAULT_BAR_CHART","type","backgroundColor","DEFAULT_CHART","datasets","scales","xAxes","ticks","fontFamily","gridLines","drawOnChartArea","yAxes","position","beginAtZero","stepSize","callback","value","index","values","length","TIME_CHART_CONFIG","timeInSeconds","concat","minutes","Math","floor","hours","days","formatTime","conversations_count","incoming_messages_count","outgoing_messages_count","avg_first_response_time","reply_time","avg_resolution_time","resolutions_count","bot_resolutions_count","bot_handoffs_count","open","unattended","unassigned","pending","online","busy","offline","vuex__WEBPACK_IMPORTED_MODULE_10__","_chatwoot_utils__WEBPACK_IMPORTED_MODULE_11__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","props","accountSummaryKey","String","default","computed","accountReport","accountSummary","this","$store","getters","methods","calculateTrend","previous","diff","round","displayMetric","isAverageMetricType","Number","toLocaleString","displayInfoText","metrics","currentSelection","KEY","total","data","map","item","count","reduce","prev","curr","INFO_TEXT","includes","constants","fromUnixTime","format","utils_esm","reportMixin","ChartElements_ChartStatsvue_type_script_lang_js_","mixins","metric","trendColor","componentNormalizer","reports_ReportContainervue_type_script_lang_js_","components","ChartStats","_vm","_c","_self","staticClass","_v","_s","NAME","trend","class","_e","groupBy","reportKeys","CONVERSATIONS","INCOMING_MESSAGES","OUTGOING_MESSAGES","FIRST_RESPONSE_TIME","RESOLUTION_TIME","RESOLUTION_COUNT","REPLY_TIME","_this","infoText","$t","DESC","TOOLTIP_TEXT","getCollection","_this2","labels","element","_this2$groupBy","_this2$groupBy2","_this2$groupBy3","week_date","Date","timestamp","first_day","getDate","getDay","last_day","week_first_date","setDate","week_last_date","dataset","yAxisID","label","getChartOptions","_this3","tooltips","callbacks","tooltipItem","metricValue","yLabel","conversationCount","ReportContainer_component","_l","attrs","isFetching","message","collection","endOfDay","getUnixTime","startOfDay","subDays","Thumbnail","DateRangePicker","components_ReportFiltersvue_type_script_lang_js_","WootDateRangePicker","filterItemsList","Array","groupByFilterItemsList","selectedGroupByFilter","currentSelectedFilter","currentDateRangeSelection","dateRange","customDateRange","currentSelectedGroupByFilter","businessHoursSelected","isDateRangeSelected","to","toCustomDate","from","fromCustomDate","fromDate","multiselectLabel","agent","inbox","team","notLast7Days","watch","val","changeFilterSelection","$emit","mounted","onDateRangeChange","date","changeDateSelection","selectedRange","onChange","changeGroupByFilterSelection","ReportFilters","placeholder","options","on","input","scopedSlots","_u","fn","src","option","thumbnail","status","availability_status","username","name","size","model","$$v","expression","style","color","title","searchable","select","change","ReportContainer","downloadHelper","events","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","REPORTS_KEYS","WootReportsvue_type_script_lang_js_","getterKey","actionKey","downloadButtonLabel","selectedFilter","groupByfilterItemsList","businessHours","dispatch","fetchAllData","fetchChartData","_ref","regeneratorRuntime","mark","_callee","wrap","_context","next","_unused","showAlert","stop","self","args","err","undefined","_x","downloadReports","dispatchMethods","params","fileName","_ref2","$track","FILTER_REPORT","filterType","reportType","fetchFilterItems","filterItems","onFilterChange","payload","onGroupByFilterChange","_this$groupBy","filterValue","onBusinessHoursToggle","components_WootReportsvue_type_script_lang_js_","WootReports_component","icon","click","ui_DateRangePickervue_type_script_lang_js_","DatePicker","confirmText","handleChange","component","range","confirm","clearable","editable"],"sources":["js/8-cc44c4692022d9310900.chunk.js"],"mappings":"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5D,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAE+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOG,KACpEF,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOI,KACpEH,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOK,KAKpEJ,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOM,KACpEL,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOO,KACnG,IAA4YJ,EAAgB,CAAC,EAAE,CAACK,GAAG,EAAEC,OAAO,OAAO,EAAE,CAACD,GAAG,EAAEC,OAAO,QAAQ,EAAE,CAACD,GAAG,EAAEC,OAAO,SAAS,EAAE,CAACD,GAAG,EAAEC,OAAO,SAAaL,EAAiB,CAACM,IAAI,CAACF,GAAG,MAAMC,OAAO,MAAME,eAAe,+BAA+BC,KAAK,CAACJ,GAAG,OAAOC,OAAO,OAAOE,eAAe,gCAAgCE,MAAM,CAACL,GAAG,QAAQC,OAAO,QAAQE,eAAe,iCAAiCG,KAAK,CAACN,GAAG,OAAOC,OAAO,OAAOE,eAAe,iCAAqCN,EAAmB,CAACU,YAAY,CAACP,GAAG,cAAcG,eAAe,wCAAwCK,OAAO,EAAEC,eAAe,CAACb,EAAiBM,MAAMQ,aAAa,CAACV,GAAG,eAAeG,eAAe,yCAAyCK,OAAO,GAAGC,eAAe,CAACb,EAAiBM,IAAIN,EAAiBQ,OAAOO,cAAc,CAACX,GAAG,gBAAgBG,eAAe,0CAA0CK,OAAO,GAAGC,eAAe,CAACb,EAAiBM,IAAIN,EAAiBQ,KAAKR,EAAiBS,QAAQO,cAAc,CAACZ,GAAG,gBAAgBG,eAAe,0CAA0CK,OAAO,IAAIC,eAAe,CAACb,EAAiBQ,KAAKR,EAAiBS,QAAQQ,UAAU,CAACb,GAAG,YAAYG,eAAe,sCAAsCK,OAAO,IAAIC,eAAe,CAACb,EAAiBQ,KAAKR,EAAiBS,QAAQS,kBAAkB,CAACd,GAAG,oBAAoBG,eAAe,8CAA8CK,OAAO,KAAKC,eAAe,CAACb,EAAiBM,IAAIN,EAAiBQ,KAAKR,EAAiBS,MAAMT,EAAiBU,QAAYS,EAAkB,6GAAsNC,EAAkB,CAACC,KAAK,MAAMC,gBAAgB,qBAAyBC,EAAc,CAACC,SAAS,CAACJ,GAAmBK,OAAO,CAACC,MAAM,CAAC,CAACC,MAAM,CAACC,WAAWT,GAAmBU,UAAU,CAACC,iBAAgB,KAASC,MAAM,CAAC,CAAC3B,GAAG,SAASiB,KAAK,SAASW,SAAS,OAAOL,MAAM,CAACC,WAAWT,EAAkBc,aAAY,EAAKC,SAAS,EAAEC,SAAS,SAAkBC,EAAMC,EAAMC,GAAQ,OAAID,GAAOA,IAAQC,EAAOC,OAAO,EAAuB,GAAbH,IAAmBP,UAAU,CAACC,iBAAgB,OAAeU,EAAkB,CAAChB,SAAS,CAACJ,GAAmBK,OAAO,CAACC,MAAM,CAAC,CAACC,MAAM,CAACC,WAAWT,GAAmBU,UAAU,CAACC,iBAAgB,KAASC,MAAM,CAAC,CAAC3B,GAAG,SAASiB,KAAK,SAASW,SAAS,OAAOL,MAAM,CAACC,WAAWT,EAAkBgB,SAAS,SAAkBC,EAAMC,EAAMC,GAAQ,OAAID,GAAOA,IAAQC,EAAOC,OAAO,EAAmC,GAA11F,SAAoBE,GAAe,IAAIA,EAAe,MAAM,GAAI,GAAGA,EAAc,GAAI,MAAM,GAAGC,OAAOD,EAAc,KAAM,GAAGA,EAAc,KAAK,CAAC,IAAIE,EAAQC,KAAKC,MAAMJ,EAAc,IAAI,MAAM,GAAGC,OAAOC,EAAQ,KAAM,GAAGF,EAAc,MAAM,CAAC,IAAIK,EAAMF,KAAKC,MAAMJ,EAAc,MAAM,MAAM,GAAGC,OAAOI,EAAM,KAAM,IAAIC,EAAKH,KAAKC,MAAMJ,EAAc,OAAO,MAAM,GAAGC,OAAOK,EAAK,KAA+8EC,CAAWZ,KAAoBP,UAAU,CAACC,iBAAgB,OAAe5B,EAAa,CAAC+C,oBAAoB1B,EAAc2B,wBAAwB3B,EAAc4B,wBAAwB5B,EAAc6B,wBAAwBZ,EAAkBa,WAAWb,EAAkBc,oBAAoBd,EAAkBe,kBAAkBhC,EAAciC,sBAAsBjC,EAAckC,mBAAmBlC,GAAmBpB,EAAiB,CAACuD,KAAK,OAAOC,WAAW,aAAaC,WAAW,aAAaC,QAAQ,UAAUC,OAAO,SAASC,KAAK,OAAOC,QAAQ,YAI12G,KACA,SAAUrE,EAAQC,EAAqBC,GAE7C,aACiGA,EAAoB,IAE7BA,EAAoB,IAEjBA,EAAoB,IAElBA,EAAoB,IAEvBA,EAAoB,IAEzBA,EAAoB,GAEdA,EAAoB,IAEEA,EAAoB,IAE7BA,EAAoB,IAEVA,EAAoB,IAlBjH,IAoBIoE,EAAqCpE,EAAoB,IAEzDqE,EAAgDrE,EAAoB,KAC7F,SAASsE,EAAQC,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAK5E,KAAKoF,MAAMR,EAAKG,GAAU,OAAOH,EAAM,SAASS,EAAcC,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEC,UAAU3C,OAAO0C,IAAI,CAAC,IAAIE,EAAqB,MAAdD,UAAUD,GAASC,UAAUD,GAAG,GAAMA,EAAE,EAAGd,EAAQI,OAAOY,IAAQ,GAAMC,SAAQ,SAASC,GAAKC,EAAgBN,EAAOK,EAAIF,EAAOE,OAAkBd,OAAOgB,0BAA2BhB,OAAOiB,iBAAiBR,EAAOT,OAAOgB,0BAA0BJ,IAAehB,EAAQI,OAAOY,IAASC,SAAQ,SAASC,GAAKd,OAAOkB,eAAeT,EAAOK,EAAId,OAAOK,yBAAyBO,EAAOE,OAAW,OAAOL,EAAQ,SAASM,EAAgBI,EAAIL,EAAIjD,GAAyI,OAA/HiD,KAAOK,EAAKnB,OAAOkB,eAAeC,EAAIL,EAAI,CAACjD,MAAMA,EAAMyC,YAAW,EAAKc,cAAa,EAAKC,UAAS,IAAaF,EAAIL,GAAKjD,EAAcsD,EAAkC9F,EAAuB,EAAI,CAAEiG,MAAM,CAACC,kBAAkB,CAACzE,KAAK0E,OAAOC,QAAQ,sBAAsBC,SAASlB,EAAcA,EAAc,GAAGR,OAAON,EAA+C,WAAtDM,CAAyD,CAAC2B,cAAc,uBAAuB,GAAG,CAACC,eAAe,WAA0B,OAAOC,KAAKC,OAAOC,QAAQF,KAAKN,sBAAuBS,QAAQ,CAACC,eAAe,SAAwBnB,GAAK,IAAIe,KAAKD,eAAeM,SAASpB,GAAK,OAAO,EAAE,IAAIqB,EAAKN,KAAKD,eAAed,GAAKe,KAAKD,eAAeM,SAASpB,GAAK,OAAOzC,KAAK+D,MAAMD,EAAKN,KAAKD,eAAeM,SAASpB,GAAK,MAAOuB,cAAc,SAAuBvB,GAAK,OAAGe,KAAKS,oBAAoBxB,GAAad,OAAOL,EAAkE,EAAzEK,CAA4E6B,KAAKD,eAAed,IAAcyB,OAAOV,KAAKD,eAAed,IAAM,IAAI0B,kBAAmBC,gBAAgB,SAAyB3B,GAAK,GAAGe,KAAKa,QAAQb,KAAKc,kBAAkBC,MAAM9B,EAAK,MAAM,GAAI,GAAGe,KAAKS,oBAAoBxB,GAAK,CAAC,IAAI+B,EAAMhB,KAAKF,cAAcmB,KAAKC,KAAI,SAASC,GAAM,OAAOA,EAAKC,SAASC,QAAO,SAASC,EAAKC,GAAM,OAAOD,EAAKC,IAAO,GAAG,MAAM,GAAGjF,OAAO0D,KAAKa,QAAQb,KAAKc,kBAAkBU,UAAU,KAAKlF,OAAO0E,GAAQ,MAAM,IAAKP,oBAAoB,SAA6BxB,GAAK,MAAM,CAAC,0BAA0B,sBAAsB,cAAcwC,SAASxC,OAI9vE,KACA,SAAU1F,EAAQC,EAAqBC,GAE7C,aAWqBA,EAAoB,IAGtBA,EAAoB,IAGjBA,EAAoB,IAG1BA,EAAoB,GAGdA,EAAoB,IAGEA,EAAoB,IAG7BA,EAAoB,IAGVA,EAAoB,IA7BjE,IAgCIiI,EAAYjI,EAAoB,MAGhCkI,EAAelI,EAAoB,KAGnCmI,EAASnI,EAAoB,KAG7BoI,EAAYpI,EAAoB,KAGhCqI,EAAcrI,EAAoB,MAaJsI,EAFoC,CAAEC,OAAO,CAACF,EAA6B,GAAGrC,MAAM,CAACwC,OAAO,CAAChH,KAAKkD,OAAOyB,QAAQ,WAAoB,MAAM,MAAOO,QAAQ,CAAC+B,WAAW,SAAoBlG,EAAMiD,GAAK,OAAGe,KAAKS,oBAAoBxB,GAAajD,EAAM,EAAE,8BAA8B,kCAA0CA,EAAM,EAAE,8BAA8B,qCAIlYmG,EAAsB1I,EAAoB,GAuB9C,SAASsE,EAAQC,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAK5E,KAAKoF,MAAMR,EAAKG,GAAU,OAAOH,EAAM,SAASS,EAAcC,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEC,UAAU3C,OAAO0C,IAAI,CAAC,IAAIE,EAAqB,MAAdD,UAAUD,GAASC,UAAUD,GAAG,GAAMA,EAAE,EAAGd,EAAQI,OAAOY,IAAQ,GAAMC,SAAQ,SAASC,GAAKC,EAAgBN,EAAOK,EAAIF,EAAOE,OAAkBd,OAAOgB,0BAA2BhB,OAAOiB,iBAAiBR,EAAOT,OAAOgB,0BAA0BJ,IAAehB,EAAQI,OAAOY,IAASC,SAAQ,SAASC,GAAKd,OAAOkB,eAAeT,EAAOK,EAAId,OAAOK,yBAAyBO,EAAOE,OAAW,OAAOL,EAAQ,SAASM,EAAgBI,EAAIL,EAAIjD,GAAyI,OAA/HiD,KAAOK,EAAKnB,OAAOkB,eAAeC,EAAIL,EAAI,CAACjD,MAAMA,EAAMyC,YAAW,EAAKc,cAAa,EAAKC,UAAS,IAAaF,EAAIL,GAAKjD,EAAcsD,EAAkC,IAE78B8C,EAF2/B,CAAEC,WAAW,CAACC,WAb3hCnE,OAAOgE,EAAqC,EAA5ChE,CACd4D,GAvBmD,WAAkB,IAAIQ,EAAIvC,KAAKwC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACH,EAAII,GAAG,SAASJ,EAAIK,GAAGL,EAAIN,OAAOY,MAAM,UAAUN,EAAII,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACH,EAAII,GAAG,WAAWJ,EAAIK,GAAGL,EAAI/B,cAAc+B,EAAIN,OAAOlB,MAAM,YAAYwB,EAAII,GAAG,KAAMJ,EAAIN,OAAY,MAAEO,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAAEH,EAAIN,OAAOa,MAAQ,EAAGN,EAAG,MAAM,CAACE,YAAY,qEAAqEK,MAAMR,EAAIL,WAAWK,EAAIN,OAAOa,MAAOP,EAAIN,OAAOlB,OAAOyB,EAAG,MAAM,CAACE,YAAY,qEAAqEK,MAAMR,EAAIL,WAAWK,EAAIN,OAAOa,MAAOP,EAAIN,OAAOlB,OAAOwB,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACE,YAAY,cAAcK,MAAMR,EAAIL,WAAWK,EAAIN,OAAOa,MAAOP,EAAIN,OAAOlB,MAAM,CAACwB,EAAII,GAAG,aAAaJ,EAAIK,GAAGL,EAAInC,eAAemC,EAAIN,OAAOlB,MAAM,iBAAiBwB,EAAIS,WAEt8B,IAwB5D,EACA,KACA,KACA,MAI8D,SAEkgChB,OAAO,CAACF,EAA6B,GAAGrC,MAAM,CAACwD,QAAQ,CAAChI,KAAKkD,OAAOyB,QAAQ,WAAoB,MAAM,KAAMsD,WAAW,CAACjI,KAAKkD,OAAOyB,QAAQ,WAAoB,MAAM,CAACuD,cAAc,sBAAsBC,kBAAkB,0BAA0BC,kBAAkB,0BAA0BC,oBAAoB,0BAA0BC,gBAAgB,sBAAsBC,iBAAiB,oBAAoBC,WAAW,iBAAkB5D,SAAS,CAACgB,QAAQ,WAAmB,IAAI6C,EAAM1D,KAASkD,EAAW/E,OAAOD,KAAK8B,KAAKkD,YAAgBS,EAAS,CAACL,oBAAoBtD,KAAK4D,GAAG,gDAAgDL,gBAAgBvD,KAAK4D,GAAG,6CAA6C,OAAOV,EAAWhC,KAAI,SAASjC,GAAK,MAAM,CAAC4D,KAAKa,EAAME,GAAG,kBAAkBtH,OAAO2C,EAAI,UAAU8B,IAAI2C,EAAMR,WAAWjE,GAAK4E,KAAKH,EAAME,GAAG,kBAAkBtH,OAAO2C,EAAI,UAAUuC,UAAUmC,EAAS1E,GAAK6E,aAAa,kBAAkBxH,OAAO2C,EAAI,iBAAiB6D,MAAMY,EAAMtD,eAAesD,EAAMR,WAAWjE,UAAakB,QAAQ,CAAC4D,cAAc,SAAuB9B,GAAQ,IAAI+B,EAAOhE,KAAK,IAAIA,KAAKF,cAAcmB,KAAKgB,EAAOlB,KAAM,MAAM,GAAI,IAAIE,EAAKjB,KAAKF,cAAcmB,KAAKgB,EAAOlB,KAAsuD,MAAM,CAACkD,OAA7tDhD,EAAKC,KAAI,SAASgD,GAAS,IAAIC,EAAeC,EAAgBC,EAAgB,IAAsC,QAAjCF,EAAeH,EAAOf,eAAkC,IAAjBkB,OAAwB,EAAOA,EAAelK,UAAUyH,EAAmC,EAAE,GAAGzH,OAAO,CAAC,IAAIqK,EAAU,IAAIC,KAAKpG,OAAOwD,EAA8B,EAArCxD,CAAwC+F,EAAQM,YAAgBC,EAAUH,EAAUI,UAAUJ,EAAUK,SAAaC,EAASH,EAAU,EAAMI,EAAgB,IAAIN,KAAKD,EAAUQ,QAAQL,IAAgBM,EAAe,IAAIR,KAAKD,EAAUQ,QAAQF,IAAW,MAAM,GAAGtI,OAAO6B,OAAOyD,EAAwB,EAA/BzD,CAAkC0G,EAAgB,UAAU,OAAOvI,OAAO6B,OAAOyD,EAAwB,EAA/BzD,CAAkC4G,EAAe,WAAY,OAAuC,QAAlCX,EAAgBJ,EAAOf,eAAmC,IAAlBmB,OAAyB,EAAOA,EAAgBnK,UAAUyH,EAAmC,EAAE,GAAGzH,OAAekE,OAAOyD,EAAwB,EAA/BzD,CAAkCA,OAAOwD,EAA8B,EAArCxD,CAAwC+F,EAAQM,WAAW,aAAoD,QAAlCH,EAAgBL,EAAOf,eAAmC,IAAlBoB,OAAyB,EAAOA,EAAgBpK,UAAUyH,EAAmC,EAAE,GAAGzH,OAAekE,OAAOyD,EAAwB,EAA/BzD,CAAkCA,OAAOwD,EAA8B,EAArCxD,CAAwC+F,EAAQM,WAAW,QAAgBrG,OAAOyD,EAAwB,EAA/BzD,CAAkCA,OAAOwD,EAA8B,EAArCxD,CAAwC+F,EAAQM,WAAW,aAA6epJ,SAAndsG,EAAgC,EAAEO,EAAOlB,KAAK3F,SAAS8F,KAAI,SAAS8D,GAAS,OAAOA,EAAQ/J,MAAM,IAAI,MAAM,OAAO0D,EAAcA,EAAc,GAAGqG,GAAS,GAAG,CAACC,QAAQ,SAASC,MAAMjD,EAAOY,KAAK5B,KAAKA,EAAKC,KAAI,SAASgD,GAAS,OAAOA,EAAQlI,WAAW,IAAI,OAAO,OAAO2C,EAAcA,EAAc,GAAGqG,GAAS,GAAG,CAACC,QAAQ,UAAUC,MAAMlB,EAAOnD,QAAQ,GAAGgC,KAAK5B,KAAKA,EAAKC,KAAI,SAASgD,GAAS,OAAOA,EAAQ9C,WAAW,QAAQ,OAAO4D,QAAsDG,gBAAgB,SAAyBlD,GAAQ,IAAImD,EAAOpF,KAASqF,EAAS,GAAuS,OAAjSrF,KAAKS,oBAAoBwB,EAAOlB,OAAMsE,EAASC,UAAU,CAACJ,MAAM,SAAeK,GAAa,OAAOH,EAAOxB,GAAG3B,EAAO6B,aAAa,CAAC0B,YAAYrH,OAAO0D,EAA8B,EAArC1D,CAAwCoH,EAAYE,QAAQC,kBAAkBN,EAAOtF,cAAcmB,KAAKgB,EAAOlB,KAAKwE,EAAYtJ,OAAOmF,WAAkB,CAAC/F,OAAOqG,EAAgC,EAAEO,EAAOlB,KAAK1F,OAAOgK,SAASA,MAWn6IM,EAA4BxH,OAAOgE,EAAqC,EAA5ChE,CAC9BiE,GA9FW,WAAkB,IAAIG,EAAIvC,KAAKwC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,0IAA0IH,EAAIqD,GAAIrD,EAAW,SAAE,SAASN,GAAQ,OAAOO,EAAG,MAAM,CAACvD,IAAIgD,EAAOlB,IAAI2B,YAAY,uBAAuB,CAACF,EAAG,cAAc,CAACqD,MAAM,CAAC5D,OAASA,EAAO,sBAAsBM,EAAI7C,qBAAqB6C,EAAII,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEH,EAAIzC,cAAcgG,WAAW7D,EAAOlB,KAAMyB,EAAG,qBAAqB,CAACE,YAAY,UAAUmD,MAAM,CAACE,QAAUxD,EAAIqB,GAAG,2BAA2BpB,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAAEH,EAAIzC,cAAcmB,KAAKgB,EAAOlB,KAAW,OAAEyB,EAAG,WAAW,CAACE,YAAY,cAAcmD,MAAM,CAACG,WAAazD,EAAIwB,cAAc9B,GAAQ,gBAAgBM,EAAI4C,gBAAgBlD,MAAWO,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACH,EAAII,GAAG,eAAeJ,EAAIK,GAAGL,EAAIqB,GAAG,0BAA0B,iBAAiB,IAAI,IAAI,MAAK,KAE58B,IA+FpB,EACA,KACA,KACA,MAIiDpK,EAAuB,EAAKmM,EAAiC,SAI1G,KACA,SAAUpM,EAAQC,EAAqBC,GAE7C,aAWsBA,EAAoB,IAGhBA,EAAoB,IAG7BA,EAAoB,IAGvBA,EAAoB,IAjBlC,IA4BIwM,EAAWxM,EAAoB,MAG/ByM,EAAczM,EAAoB,MAGlC0M,EAAa1M,EAAoB,KAGjC2M,EAAU3M,EAAoB,MAG9B4M,EAAY5M,EAAoB,KAGhC6M,EAAkB7M,EAAoB,MAGtCiI,EAAYjI,EAAoB,MAKF8M,EAFkE,CAAElE,WAAW,CAACmE,oBAAoBF,EAAiC,EAAED,UAAUA,EAA2B,GAAG5G,MAAM,CAACgH,gBAAgB,CAACxL,KAAKyL,MAAM9G,QAAQ,WAAoB,MAAM,KAAM+G,uBAAuB,CAAC1L,KAAKyL,MAAM9G,QAAQ,WAAoB,MAAM,KAAM3E,KAAK,CAACA,KAAK0E,OAAOC,QAAQ,SAASgH,sBAAsB,CAAC3L,KAAKkD,OAAOyB,QAAQ,eAAwBqB,KAAK,WAAgB,MAAM,CAAC4F,sBAAsB,KAAKC,0BAA0B9G,KAAK4D,GAAG,qBAAqB,GAAGmD,UAAU/G,KAAK4D,GAAG,qBAAqBoD,gBAAgB,CAAC,IAAIzC,KAAO,IAAIA,MAAQ0C,6BAA6B,KAAKC,uBAAsB,IAASrH,SAAS,CAACsH,oBAAoB,WAA+B,OAAlvB,IAAyvBnH,KAAK8G,0BAA0B9M,IAA4BoN,GAAG,WAAc,OAAGpH,KAAKmH,oBAA4BnH,KAAKqH,aAAarH,KAAKgH,gBAAgB,IAAYhH,KAAKqH,aAAa,IAAI9C,OAAU+C,KAAK,WAAgB,GAAGtH,KAAKmH,oBAAqB,OAAOnH,KAAKuH,eAAevH,KAAKgH,gBAAgB,IAAK,IAA8C1G,EAAhC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,KAAwBN,KAAK8G,0BAA0B9M,IAAQwN,EAASrJ,OAAOiI,EAAyB,EAAhCjI,CAAmC,IAAIoG,KAAOjE,GAAM,OAAON,KAAKuH,eAAeC,IAAYC,iBAAiB,WAA+P,MAApN,CAACC,MAAM1H,KAAK4D,GAAG,uCAAuCsB,MAAMlF,KAAK4D,GAAG,uCAAuC+D,MAAM3H,KAAK4D,GAAG,uCAAuCgE,KAAK5H,KAAK4D,GAAG,uCAAyD5D,KAAK/E,OAAO+E,KAAK4D,GAAG,iCAAkCX,QAAQ,WAAmB,OAAGjD,KAAKmH,oBAA4BzF,EAAmC,EAAE,GAAGzH,OAAuB,CAAC,EAAEyH,EAAmC,EAAE,GAAGzH,OAAO,EAAEyH,EAAmC,EAAE,GAAGzH,OAAO,EAAEyH,EAAmC,EAAE,GAAGzH,OAAO,EAAEyH,EAAmC,EAAE,GAAGzH,OAAO,EAAEyH,EAAmC,EAAE,GAAGzH,QAA0B+F,KAAK8G,0BAA0B9M,KAAM6N,aAAa,WAAwB,OAAO7H,KAAKiD,UAAUvB,EAAmC,EAAE,GAAGzH,SAAU6N,MAAM,CAACrB,gBAAgB,SAAyBsB,GAAK/H,KAAK6G,sBAAsBkB,EAAI,GAAG/H,KAAKgI,yBAA0BrB,uBAAuB,WAAkC3G,KAAKiH,6BAA6BjH,KAAK4G,uBAAwBM,sBAAsB,WAAiClH,KAAKiI,MAAM,wBAAwBjI,KAAKkH,yBAA0BgB,QAAQ,WAAmBlI,KAAKmI,qBAAsBhI,QAAQ,CAACgI,kBAAkB,WAA6BnI,KAAKiI,MAAM,oBAAoB,CAACX,KAAKtH,KAAKsH,KAAKF,GAAGpH,KAAKoH,GAAGnE,QAAQjD,KAAKiD,WAAYsE,eAAe,SAAwBa,GAAM,OAAOjK,OAAO+H,EAA6B,EAApC/H,CAAuCA,OAAOgI,EAA4B,EAAnChI,CAAsCiK,KAASf,aAAa,SAAsBe,GAAM,OAAOjK,OAAO+H,EAA6B,EAApC/H,CAAuCA,OAAO8H,EAA0B,EAAjC9H,CAAoCiK,KAASC,oBAAoB,SAA6BC,GAAetI,KAAK8G,0BAA0BwB,EAActI,KAAKmI,qBAAsBH,sBAAsB,WAAiChI,KAAKiI,MAAM,gBAAgBjI,KAAK6G,wBAAyB0B,SAAS,SAAkBvM,GAAOgE,KAAKgH,gBAAgBhL,EAAMgE,KAAKmI,qBAAsBK,6BAA6B,WAAwCxI,KAAKiI,MAAM,yBAAyBjI,KAAKiH,iCAIr2G9E,EAAsB1I,EAAoB,GAqBbgP,EAXjBtK,OAAOgE,EAAqC,EAA5ChE,CACdoI,GA5CsD,WAAkB,IAAIhE,EAAIvC,KAAKwC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAAe,UAAbH,EAAItH,KAAkBuH,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAACH,EAAII,GAAG,aAAaJ,EAAIK,GAAGL,EAAIqB,GAAG,wCAAwC,cAAcrB,EAAII,GAAG,KAAKH,EAAG,cAAc,CAACqD,MAAM,CAAC6C,YAAcnG,EAAIkF,iBAAiBvC,MAAQ,OAAO,WAAW,KAAKyD,QAAUpG,EAAIkE,gBAAgB,gBAAgB,GAAG,eAAc,GAAOmC,GAAG,CAACC,MAAQtG,EAAIyF,uBAAuBc,YAAYvG,EAAIwG,GAAG,CAAC,CAAC9J,IAAI,cAAc+J,GAAG,SAASvJ,GAAO,MAAO,CAAC+C,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,YAAY,CAACqD,MAAM,CAACoD,IAAMxJ,EAAMyJ,OAAOC,UAAUC,OAAS3J,EAAMyJ,OAAOG,oBAAoBC,SAAW7J,EAAMyJ,OAAOK,KAAKC,KAAO,UAAUjH,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACE,YAAY,0CAA0C,CAACH,EAAII,GAAGJ,EAAIK,GAAGnD,EAAMyJ,OAAOK,YAAY,MAAM,CAACtK,IAAI,SAAS+J,GAAG,SAASvJ,GAAO,MAAO,CAAC+C,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,YAAY,CAACqD,MAAM,CAACoD,IAAMxJ,EAAMyJ,OAAOC,UAAUC,OAAS3J,EAAMyJ,OAAOG,oBAAoBC,SAAW7J,EAAMyJ,OAAOK,KAAKC,KAAO,UAAUjH,EAAII,GAAG,KAAKH,EAAG,IAAI,CAACE,YAAY,0CAA0C,CAACH,EAAII,GAAG,mBAAmBJ,EAAIK,GAAGnD,EAAMyJ,OAAOK,MAAM,qBAAqB,OAAO,MAAK,EAAM,YAAYE,MAAM,CAACzN,MAAOuG,EAAyB,sBAAExG,SAAS,SAAU2N,GAAMnH,EAAIsE,sBAAsB6C,GAAKC,WAAW,4BAA4B,GAAiB,UAAbpH,EAAItH,KAAkBuH,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAACH,EAAII,GAAG,aAAaJ,EAAIK,GAAGL,EAAIqB,GAAG,wCAAwC,cAAcrB,EAAII,GAAG,KAAKH,EAAG,cAAc,CAACqD,MAAM,CAAC6C,YAAcnG,EAAIkF,iBAAiBvC,MAAQ,QAAQ,WAAW,KAAKyD,QAAUpG,EAAIkE,gBAAgB,gBAAgB,GAAG,eAAc,GAAOmC,GAAG,CAACC,MAAQtG,EAAIyF,uBAAuBc,YAAYvG,EAAIwG,GAAG,CAAC,CAAC9J,IAAI,cAAc+J,GAAG,SAASvJ,GAAO,MAAO,CAAC+C,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuBkH,MAAM,CAAG1O,gBAAiBuE,EAAMyJ,OAAOW,SAAWtH,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACE,YAAY,0CAA0C,CAACH,EAAII,GAAG,qBAAqBJ,EAAIK,GAAGnD,EAAMyJ,OAAOY,OAAO,6BAA6B,CAAC7K,IAAI,SAAS+J,GAAG,SAASvJ,GAAO,MAAO,CAAC+C,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,gGAAgGkH,MAAM,CAAG1O,gBAAiBuE,EAAMyJ,OAAOW,SAAWtH,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACE,YAAY,0CAA0C,CAACH,EAAII,GAAG,qBAAqBJ,EAAIK,GAAGnD,EAAMyJ,OAAOY,OAAO,+BAA+BL,MAAM,CAACzN,MAAOuG,EAAyB,sBAAExG,SAAS,SAAU2N,GAAMnH,EAAIsE,sBAAsB6C,GAAKC,WAAW,4BAA4B,GAAGnH,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAAe,UAAbH,EAAItH,KAAkB,CAACsH,EAAII,GAAG,eAAeJ,EAAIK,GAAGL,EAAIqB,GAAG,wCAAwC,eAA6B,SAAbrB,EAAItH,KAAiB,CAACsH,EAAII,GAAG,eAAeJ,EAAIK,GAAGL,EAAIqB,GAAG,uCAAuC,eAAe,CAACrB,EAAII,GAAG,eAAeJ,EAAIK,GAAGL,EAAIqB,GAAG,iCAAiC,gBAAgB,GAAGrB,EAAII,GAAG,KAAKH,EAAG,cAAc,CAACqD,MAAM,CAAC,WAAW,KAAKX,MAAQ,OAAOwD,YAAcnG,EAAIkF,iBAAiB,iBAAiB,GAAG,eAAelF,EAAIqB,GAAG,qCAAqC,iBAAiB,GAAG+E,QAAUpG,EAAIkE,gBAAgBsD,YAAa,EAAM,eAAc,GAAOnB,GAAG,CAACC,MAAQtG,EAAIyF,uBAAuByB,MAAM,CAACzN,MAAOuG,EAAyB,sBAAExG,SAAS,SAAU2N,GAAMnH,EAAIsE,sBAAsB6C,GAAKC,WAAW,4BAA4B,GAAGpH,EAAII,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,oDAAoD,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAACH,EAAII,GAAG,aAAaJ,EAAIK,GAAGL,EAAIqB,GAAG,iCAAiC,cAAcrB,EAAII,GAAG,KAAKH,EAAG,cAAc,CAACqD,MAAM,CAAC,WAAW,OAAOX,MAAQ,OAAOwD,YAAcnG,EAAIqB,GAAG,gCAAgC,iBAAiB,GAAG,eAAerB,EAAIqB,GAAG,qCAAqC,iBAAiB,GAAG+E,QAAUpG,EAAIwE,UAAUgD,YAAa,EAAM,eAAc,GAAOnB,GAAG,CAACoB,OAASzH,EAAI8F,qBAAqBoB,MAAM,CAACzN,MAAOuG,EAA6B,0BAAExG,SAAS,SAAU2N,GAAMnH,EAAIuE,0BAA0B4C,GAAKC,WAAW,gCAAgC,GAAGpH,EAAII,GAAG,KAAMJ,EAAuB,oBAAEC,EAAG,MAAM,GAAG,CAACA,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAACH,EAAII,GAAG,aAAaJ,EAAIK,GAAGL,EAAIqB,GAAG,yCAAyC,cAAcrB,EAAII,GAAG,KAAKH,EAAG,yBAAyB,CAACqD,MAAM,CAAC,aAAa,GAAG7J,MAAQuG,EAAIyE,gBAAgB,eAAezE,EAAIqB,GAAG,oCAAoC8E,YAAcnG,EAAIqB,GAAG,yCAAyCgF,GAAG,CAACqB,OAAS1H,EAAIgG,aAAa,GAAGhG,EAAIS,KAAKT,EAAII,GAAG,KAAMJ,EAAgB,aAAEC,EAAG,MAAM,CAACE,YAAY,oDAAoD,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4B,CAACH,EAAII,GAAG,aAAaJ,EAAIK,GAAGL,EAAIqB,GAAG,0CAA0C,cAAcrB,EAAII,GAAG,KAAKH,EAAG,cAAc,CAACqD,MAAM,CAAC,WAAW,KAAKX,MAAQ,UAAUwD,YAAcnG,EAAIqB,GAAG,yCAAyC+E,QAAUpG,EAAIoE,uBAAuB,eAAc,EAAM,eAAc,GAAOiC,GAAG,CAACC,MAAQtG,EAAIiG,8BAA8BiB,MAAM,CAACzN,MAAOuG,EAAgC,6BAAExG,SAAS,SAAU2N,GAAMnH,EAAI0E,6BAA6ByC,GAAKC,WAAW,mCAAmC,GAAGpH,EAAIS,OAAOT,EAAII,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACE,YAAY,kCAAkC,CAACH,EAAII,GAAG,WAAWJ,EAAIK,GAAGL,EAAIqB,GAAG,0BAA0B,YAAYrB,EAAII,GAAG,KAAKH,EAAG,OAAO,CAACA,EAAG,cAAc,CAACiH,MAAM,CAACzN,MAAOuG,EAAyB,sBAAExG,SAAS,SAAU2N,GAAMnH,EAAI2E,sBAAsBwC,GAAKC,WAAW,4BAA4B,SAEx+L,IA6C/D,EACA,KACA,KACA,MAIiE,QAE/DO,EAAkBzQ,EAAoB,MAGtCqI,EAAcrI,EAAoB,MAGlC0Q,EAAiB1Q,EAAoB,KAGrC2Q,EAAS3Q,EAAoB,IAGjC,SAAS4Q,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAOzL,EAAI0L,GAAK,IAAI,IAAIC,EAAKN,EAAIrL,GAAK0L,GAAS3O,EAAM4O,EAAK5O,MAAO,MAAM6O,GAAqB,YAAdL,EAAOK,GAAkBD,EAAKE,KAAMP,EAAQvO,GAAa+O,QAAQR,QAAQvO,GAAOgP,KAAKP,EAAMC,GAAqW,IAAIO,EAAa,CAAC9H,cAAc,sBAAsBC,kBAAkB,0BAA0BC,kBAAkB,0BAA0BC,oBAAoB,0BAA0BC,gBAAgB,sBAAsBC,iBAAiB,oBAAoBC,WAAW,cAA+CyH,EAAsC,CAAE7I,WAAW,CAACoG,cAAcA,EAAcyB,gBAAgBA,EAAiC,GAAGlI,OAAO,CAACF,EAA6B,GAAGrC,MAAM,CAACxE,KAAK,CAACA,KAAK0E,OAAOC,QAAQ,WAAWuL,UAAU,CAAClQ,KAAK0E,OAAOC,QAAQ,IAAIwL,UAAU,CAACnQ,KAAK0E,OAAOC,QAAQ,IAAIyL,oBAAoB,CAACpQ,KAAK0E,OAAOC,QAAQ,qBAAqBqB,KAAK,WAAgB,MAAM,CAACqG,KAAK,EAAEF,GAAG,EAAEkE,eAAe,KAAKrI,QAAQvB,EAAmC,EAAE,GAAG6J,uBAAuBvL,KAAK4D,GAAG,+BAA+BgD,sBAAsB,KAAK4E,eAAc,IAAS3L,SAAS,CAAC4G,gBAAgB,WAA2B,OAAOzG,KAAKC,OAAOC,QAAQF,KAAKmL,YAAY,KAAMjD,QAAQ,WAAmBlI,KAAKC,OAAOwL,SAASzL,KAAKoL,YAAajL,QAAQ,CAACuL,aAAa,WAAwB,GAAG1L,KAAKsL,eAAe,CAAC,IAAIhE,EAAKtH,KAAKsH,KAAKF,EAAGpH,KAAKoH,GAAGnE,EAAQjD,KAAKiD,QAAQuI,EAAcxL,KAAKwL,cAAcxL,KAAKC,OAAOwL,SAAS,sBAAsB,CAACnE,KAAKA,EAAKF,GAAGA,EAAGnM,KAAK+E,KAAK/E,KAAKjB,GAAGgG,KAAKsL,eAAetR,GAAGiJ,QAAQA,EAAQhJ,OAAOuR,cAAcA,IAAgBxL,KAAK2L,mBAAoBA,eAAe,WAA0B,IAAIjI,EAAM1D,KAAK,CAAC,gBAAgB,oBAAoB,oBAAoB,sBAAsB,kBAAkB,mBAAmB,cAAchB,QAAqB,WAAW,IAAz4DgK,EAA64D4C,GAA74D5C,EAAi7D6C,mBAAmBC,MAAK,SAASC,EAAQ9M,GAAK,IAAIqI,EAAKF,EAAGnE,EAAQuI,EAAc,OAAOK,mBAAmBG,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAAS3K,KAAK2K,EAASC,MAAM,KAAK,EAAE,IAAI5E,EAAK5D,EAAM4D,KAAKF,EAAG1D,EAAM0D,GAAGnE,EAAQS,EAAMT,QAAQuI,EAAc9H,EAAM8H,cAAc9H,EAAMzD,OAAOwL,SAAS,qBAAqB,CAACxJ,OAAOgJ,EAAahM,GAAKqI,KAAKA,EAAKF,GAAGA,EAAGnM,KAAKyI,EAAMzI,KAAKjB,GAAG0J,EAAM4H,eAAetR,GAAGiJ,QAAQA,EAAQhJ,OAAOuR,cAAcA,IAAiB,MAAMW,GAASzI,EAAM0I,UAAU1I,EAAME,GAAG,gCAAiC,KAAK,EAAE,IAAI,MAAM,OAAOqI,EAASI,UAAWN,MAAx+E,WAAW,IAAIO,EAAKtM,KAAKuM,EAAKzN,UAAU,OAAO,IAAIiM,SAAQ,SAASR,EAAQC,GAAQ,IAAIF,EAAItB,EAAGtK,MAAM4N,EAAKC,GAAM,SAAS9B,EAAMzO,GAAOqO,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,OAAO1O,GAAQ,SAAS0O,EAAO8B,GAAKnC,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,QAAQ8B,GAAM/B,OAAMgC,QAAitE,OAAO,SAASC,GAAI,OAAOd,EAAKlN,MAAMsB,KAAKlB,YAA7qB,KAAisB6N,gBAAgB,WAA2B,IAAIrF,EAAKtH,KAAKsH,KAAKF,EAAGpH,KAAKoH,GAAGnM,EAAK+E,KAAK/E,KAAKuQ,EAAcxL,KAAKwL,cAAkBoB,EAAgB,CAAClF,MAAM,uBAAuBxC,MAAM,uBAAuByC,MAAM,uBAAuBC,KAAK,uBAAuB,GAAGgF,EAAgB3R,GAAM,CAAC,IAAmH4R,EAAO,CAACvF,KAAKA,EAAKF,GAAGA,EAAG0F,SAA9H3O,OAAOgM,EAAyC,EAAhDhM,CAAmD,CAAClD,KAAKA,EAAKmM,GAAGA,EAAGoE,cAAcA,IAA8DA,cAAcA,GAAexL,KAAKC,OAAOwL,SAASmB,EAAgB3R,GAAM4R,KAAW1E,kBAAkB,SAA2B4E,GAAO,IAAI/I,EAAOhE,KAASsH,EAAKyF,EAAMzF,KAAKF,EAAG2F,EAAM3F,GAAGnE,EAAQ8J,EAAM9J,QACh7G,IAAZjD,KAAKsH,MAAoB,IAAVtH,KAAKoH,IAAQpH,KAAKgN,OAAO5C,EAA+B,EAAE6C,cAAc,CAACC,WAAW,OAAOC,WAAWnN,KAAK/E,OAAQ+E,KAAKsH,KAAKA,EAAKtH,KAAKoH,GAAGA,EAAGpH,KAAKuL,uBAAuBvL,KAAKoN,iBAAiBnK,GAAS,IAAIoK,EAAYrN,KAAKuL,uBAAuBjN,QAAO,SAAS6C,GAAM,OAAOA,EAAKnH,KAAKgK,EAAOf,QAAQjJ,MAASqT,EAAYlR,OAAO,EAAG6D,KAAK4G,sBAAsByG,EAAY,IAASrN,KAAK4G,sBAAsB5G,KAAKuL,uBAAuB,GAAGvL,KAAKiD,QAAQvB,EAAmC,EAAE1B,KAAK4G,sBAAsB5M,KAAKgG,KAAK0L,gBAAiB4B,eAAe,SAAwBC,GAAYA,IAASvN,KAAKsL,eAAeiC,EAAQvN,KAAK0L,iBAAkB8B,sBAAsB,SAA+BD,GAAS,IAAIE,EAAczN,KAAKiD,QAAQvB,EAAmC,EAAE6L,EAAQvT,IAAIgG,KAAK0L,eAAe1L,KAAKgN,OAAO5C,EAA+B,EAAE6C,cAAc,CAACC,WAAW,UAAUQ,YAA2C,QAA9BD,EAAczN,KAAKiD,eAAiC,IAAhBwK,OAAuB,EAAOA,EAAcxT,OAAOkT,WAAWnN,KAAK/E,QAASmS,iBAAiB,SAA0BnK,GAAS,OAAOA,GAAS,KAAKvB,EAAmC,EAAE,GAAGzH,OAAO,OAAO+F,KAAK4D,GAAG,gCAAgC,KAAKlC,EAAmC,EAAE,GAAGzH,OAAO,OAAO+F,KAAK4D,GAAG,iCAAiC,KAAKlC,EAAmC,EAAE,GAAGzH,OAAO,OAAO+F,KAAK4D,GAAG,gCAAgC,QAAQ,OAAO5D,KAAK4D,GAAG,iCAAkC+J,sBAAsB,SAA+B3R,GAAOgE,KAAKwL,cAAcxP,EAAMgE,KAAK0L,eAAe1L,KAAKgN,OAAO5C,EAA+B,EAAE6C,cAAc,CAACC,WAAW,gBAAgBQ,YAAY1R,EAAMmR,WAAWnN,KAAK/E,UAEnnD2S,EAAiD,EAS/EC,EAAwB1P,OAAOgE,EAAqC,EAA5ChE,CAC1ByP,GArGW,WAAkB,IAAIrL,EAAIvC,KAAKwC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,cAAc,CAACqD,MAAM,CAAC,eAAe,UAAU,cAAc,oBAAoBiI,KAAO,kBAAkBlF,GAAG,CAACmF,MAAQxL,EAAIoK,kBAAkB,CAACpK,EAAII,GAAG,SAASJ,EAAIK,GAAGL,EAAI8I,qBAAqB,UAAU9I,EAAII,GAAG,KAAMJ,EAAmB,gBAAEC,EAAG,iBAAiB,CAACqD,MAAM,CAAC5K,KAAOsH,EAAItH,KAAK,oBAAoBsH,EAAIkE,gBAAgB,6BAA6BlE,EAAIgJ,uBAAuB,2BAA2BhJ,EAAIqE,uBAAuBgC,GAAG,CAAC,oBAAoBrG,EAAI4F,kBAAkB,gBAAgB5F,EAAI+K,eAAe,yBAAyB/K,EAAIiL,sBAAsB,wBAAwBjL,EAAIoL,yBAAyBpL,EAAIS,KAAKT,EAAII,GAAG,KAAMJ,EAAIkE,gBAAsB,OAAEjE,EAAG,mBAAmB,CAACqD,MAAM,CAAC,WAAWtD,EAAIU,WAAWV,EAAIS,MAAM,KAE3zB,IAsGpB,EACA,KACA,KACA,MAI6CxJ,EAAuB,EAAKqU,EAA6B,SAIlG,KACA,SAAUtU,EAAQC,EAAqBC,GAE7C,aAGA,IAakCuU,EAFyC,CAAE3L,WAAW,CAAC4L,WAHzExU,EAAoB,MAG2F,GAAGgG,MAAM,CAACyO,YAAY,CAACjT,KAAK0E,OAAOC,QAAQ,IAAI8I,YAAY,CAACzN,KAAK0E,OAAOC,QAAQ,IAAI5D,MAAM,CAACf,KAAKyL,MAAM9G,QAAQ,WAAoB,MAAM,MAAOO,QAAQ,CAACgO,aAAa,SAAsBnS,GAAOgE,KAAKiI,MAAM,SAASjM,MAIjVmG,EAAsB1I,EAAoB,GAU1C2U,EAAYjQ,OAAOgE,EAAqC,EAA5ChE,CACd6P,GA1BW,WAAkB,IAAIzL,EAAIvC,KAAKwC,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACqD,MAAM,CAACwI,OAAQ,EAAKC,SAAU,EAAKC,WAAY,EAAMC,UAAW,EAAM,eAAejM,EAAI2L,YAAYxF,YAAcnG,EAAImG,YAAY1M,MAAQuG,EAAIvG,OAAO4M,GAAG,CAACqB,OAAS1H,EAAI4L,iBAAiB,KAE7R,IA2BpB,EACA,KACA,KACA,MAIiD3U,EAAuB,EAAK4U,EAAiB"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[8],{\n\n/***/ 2645:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export formatTime */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return GROUP_BY_FILTER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return GROUP_BY_OPTIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DATE_RANGE_OPTIONS; });\n/* unused harmony export CHART_FONT_FAMILY */\n/* unused harmony export DEFAULT_LINE_CHART */\n/* unused harmony export DEFAULT_BAR_CHART */\n/* unused harmony export DEFAULT_CHART */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return METRIC_CHART; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return OVERVIEW_METRICS; });\nvar formatTime=function formatTime(timeInSeconds){if(!timeInSeconds){return'';}if(timeInSeconds<60){return\"\".concat(timeInSeconds,\"s\");}if(timeInSeconds<3600){var minutes=Math.floor(timeInSeconds/60);return\"\".concat(minutes,\"m\");}if(timeInSeconds<86400){var hours=Math.floor(timeInSeconds/3600);return\"\".concat(hours,\"h\");}var days=Math.floor(timeInSeconds/86400);return\"\".concat(days,\"d\");};var GROUP_BY_FILTER={1:{id:1,period:'day'},2:{id:2,period:'week'},3:{id:3,period:'month'},4:{id:4,period:'year'}};var GROUP_BY_OPTIONS={DAY:{id:'DAY',period:'day',translationKey:'REPORT.GROUPING_OPTIONS.DAY'},WEEK:{id:'WEEK',period:'week',translationKey:'REPORT.GROUPING_OPTIONS.WEEK'},MONTH:{id:'MONTH',period:'month',translationKey:'REPORT.GROUPING_OPTIONS.MONTH'},YEAR:{id:'YEAR',period:'year',translationKey:'REPORT.GROUPING_OPTIONS.YEAR'}};var DATE_RANGE_OPTIONS={LAST_7_DAYS:{id:'LAST_7_DAYS',translationKey:'REPORT.DATE_RANGE_OPTIONS.LAST_7_DAYS',offset:6,groupByOptions:[GROUP_BY_OPTIONS.DAY]},LAST_30_DAYS:{id:'LAST_30_DAYS',translationKey:'REPORT.DATE_RANGE_OPTIONS.LAST_30_DAYS',offset:29,groupByOptions:[GROUP_BY_OPTIONS.DAY,GROUP_BY_OPTIONS.WEEK]},LAST_3_MONTHS:{id:'LAST_3_MONTHS',translationKey:'REPORT.DATE_RANGE_OPTIONS.LAST_3_MONTHS',offset:89,groupByOptions:[GROUP_BY_OPTIONS.DAY,GROUP_BY_OPTIONS.WEEK,GROUP_BY_OPTIONS.MONTH]},LAST_6_MONTHS:{id:'LAST_6_MONTHS',translationKey:'REPORT.DATE_RANGE_OPTIONS.LAST_6_MONTHS',offset:179,groupByOptions:[GROUP_BY_OPTIONS.WEEK,GROUP_BY_OPTIONS.MONTH]},LAST_YEAR:{id:'LAST_YEAR',translationKey:'REPORT.DATE_RANGE_OPTIONS.LAST_YEAR',offset:364,groupByOptions:[GROUP_BY_OPTIONS.WEEK,GROUP_BY_OPTIONS.MONTH]},CUSTOM_DATE_RANGE:{id:'CUSTOM_DATE_RANGE',translationKey:'REPORT.DATE_RANGE_OPTIONS.CUSTOM_DATE_RANGE',offset:null,groupByOptions:[GROUP_BY_OPTIONS.DAY,GROUP_BY_OPTIONS.WEEK,GROUP_BY_OPTIONS.MONTH,GROUP_BY_OPTIONS.YEAR]}};var CHART_FONT_FAMILY='PlusJakarta,-apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif';var DEFAULT_LINE_CHART={type:'line',fill:false,borderColor:'#779BBB',pointBackgroundColor:'#779BBB'};var DEFAULT_BAR_CHART={type:'bar',backgroundColor:'rgb(31, 147, 255)'};var DEFAULT_CHART={datasets:[DEFAULT_BAR_CHART],scales:{xAxes:[{ticks:{fontFamily:CHART_FONT_FAMILY},gridLines:{drawOnChartArea:false}}],yAxes:[{id:'y-left',type:'linear',position:'left',ticks:{fontFamily:CHART_FONT_FAMILY,beginAtZero:true,stepSize:1,callback:function callback(value,index,values){if(!index||index===values.length-1){return value;}return'';}},gridLines:{drawOnChartArea:false}}]}};var TIME_CHART_CONFIG={datasets:[DEFAULT_BAR_CHART],scales:{xAxes:[{ticks:{fontFamily:CHART_FONT_FAMILY},gridLines:{drawOnChartArea:false}}],yAxes:[{id:'y-left',type:'linear',position:'left',ticks:{fontFamily:CHART_FONT_FAMILY,callback:function callback(value,index,values){if(!index||index===values.length-1){return formatTime(value);}return'';}},gridLines:{drawOnChartArea:false}}]}};var METRIC_CHART={conversations_count:DEFAULT_CHART,incoming_messages_count:DEFAULT_CHART,outgoing_messages_count:DEFAULT_CHART,avg_first_response_time:TIME_CHART_CONFIG,reply_time:TIME_CHART_CONFIG,avg_resolution_time:TIME_CHART_CONFIG,resolutions_count:DEFAULT_CHART,bot_resolutions_count:DEFAULT_CHART,bot_handoffs_count:DEFAULT_CHART};var OVERVIEW_METRICS={open:'OPEN',unattended:'UNATTENDED',unassigned:'UNASSIGNED',pending:'PENDING',online:'ONLINE',busy:'BUSY',offline:'OFFLINE'};\n\n/***/ }),\n\n/***/ 2654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56);\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(51);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(75);\n/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(15);\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16);\n/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(32);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(vuex__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _chatwoot_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(281);\nfunction ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ __webpack_exports__[\"a\"] = ({props:{accountSummaryKey:{type:String,default:'getAccountSummary'}},computed:_objectSpread(_objectSpread({},Object(vuex__WEBPACK_IMPORTED_MODULE_10__[\"mapGetters\"])({accountReport:'getAccountReports'})),{},{accountSummary:function accountSummary(){return this.$store.getters[this.accountSummaryKey];}}),methods:{calculateTrend:function calculateTrend(key){if(!this.accountSummary.previous[key])return 0;var diff=this.accountSummary[key]-this.accountSummary.previous[key];return Math.round(diff/this.accountSummary.previous[key]*100);},displayMetric:function displayMetric(key){if(this.isAverageMetricType(key)){return Object(_chatwoot_utils__WEBPACK_IMPORTED_MODULE_11__[/* formatTime */ \"e\"])(this.accountSummary[key]);}return Number(this.accountSummary[key]||'').toLocaleString();},displayInfoText:function displayInfoText(key){if(this.metrics[this.currentSelection].KEY!==key){return'';}if(this.isAverageMetricType(key)){var total=this.accountReport.data.map(function(item){return item.count;}).reduce(function(prev,curr){return prev+curr;},0);return\"\".concat(this.metrics[this.currentSelection].INFO_TEXT,\" \").concat(total);}return'';},isAverageMetricType:function isAverageMetricType(key){return['avg_first_response_time','avg_resolution_time','reply_time'].includes(key);}}});\n\n/***/ }),\n\n/***/ 2829:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?vue&type=template&id=0c82c06e&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 bg-white dark:bg-slate-800 p-2 border border-slate-100 dark:border-slate-700 rounded-md\"},_vm._l((_vm.metrics),function(metric){return _c('div',{key:metric.KEY,staticClass:\"p-4 rounded-md mb-3\"},[_c('chart-stats',{attrs:{\"metric\":metric,\"account-summary-key\":_vm.accountSummaryKey}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4 h-72\"},[(_vm.accountReport.isFetching[metric.KEY])?_c('woot-loading-state',{staticClass:\"text-xs\",attrs:{\"message\":_vm.$t('REPORT.LOADING_CHART')}}):_c('div',{staticClass:\"h-72 flex items-center justify-center\"},[(_vm.accountReport.data[metric.KEY].length)?_c('woot-bar',{staticClass:\"h-72 w-full\",attrs:{\"collection\":_vm.getCollection(metric),\"chart-options\":_vm.getChartOptions(metric)}}):_c('span',{staticClass:\"text-sm text-slate-600\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('REPORT.NO_ENOUGH_DATA'))+\"\\n        \")])],1)],1)],1)}),0)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?vue&type=template&id=0c82c06e&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/constants.js\nvar constants = __webpack_require__(2645);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/fromUnixTime/index.js\nvar fromUnixTime = __webpack_require__(194);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/format/index.js + 4 modules\nvar format = __webpack_require__(288);\n\n// EXTERNAL MODULE: ./node_modules/@chatwoot/utils/dist/utils.esm.js + 9 modules\nvar utils_esm = __webpack_require__(281);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/mixins/reportMixin.js\nvar reportMixin = __webpack_require__(2654);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?vue&type=template&id=4bfd08f4&\nvar ChartStatsvue_type_template_id_4bfd08f4_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-slate-900 dark:text-slate-100\"},[_c('span',{staticClass:\"text-sm\"},[_vm._v(\"\\n    \"+_vm._s(_vm.metric.NAME)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-end\"},[_c('div',{staticClass:\"font-medium text-xl\"},[_vm._v(\"\\n      \"+_vm._s(_vm.displayMetric(_vm.metric.KEY))+\"\\n    \")]),_vm._v(\" \"),(_vm.metric.trend)?_c('div',{staticClass:\"text-xs ml-4 flex items-center mb-0.5\"},[(_vm.metric.trend < 0)?_c('div',{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-t-[8px] mr-1\",class:_vm.trendColor(_vm.metric.trend, _vm.metric.KEY)}):_c('div',{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-b-[8px] mr-1\",class:_vm.trendColor(_vm.metric.trend, _vm.metric.KEY)}),_vm._v(\" \"),_c('span',{staticClass:\"font-medium\",class:_vm.trendColor(_vm.metric.trend, _vm.metric.KEY)},[_vm._v(\"\\n        \"+_vm._s(_vm.calculateTrend(_vm.metric.KEY))+\"%\\n      \")])]):_vm._e()])])\n}\nvar ChartStatsvue_type_template_id_4bfd08f4_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?vue&type=template&id=4bfd08f4&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?vue&type=script&lang=js&\n/* harmony default export */ var ChartStatsvue_type_script_lang_js_ = ({mixins:[reportMixin[\"a\" /* default */]],props:{metric:{type:Object,default:function _default(){return{};}}},methods:{trendColor:function trendColor(value,key){if(this.isAverageMetricType(key)){return value>0?'border-red-500 text-red-500':'border-green-500 text-green-500';}return value<0?'border-red-500 text-red-500':'border-green-500 text-green-500';}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?vue&type=script&lang=js&\n /* harmony default export */ var ChartElements_ChartStatsvue_type_script_lang_js_ = (ChartStatsvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  ChartElements_ChartStatsvue_type_script_lang_js_,\n  ChartStatsvue_type_template_id_4bfd08f4_render,\n  ChartStatsvue_type_template_id_4bfd08f4_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ChartStats = (component.exports);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?vue&type=script&lang=js&\nfunction ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var ReportContainervue_type_script_lang_js_ = ({components:{ChartStats:ChartStats},mixins:[reportMixin[\"a\" /* default */]],props:{groupBy:{type:Object,default:function _default(){return{};}},reportKeys:{type:Object,default:function _default(){return{CONVERSATIONS:'conversations_count',INCOMING_MESSAGES:'incoming_messages_count',OUTGOING_MESSAGES:'outgoing_messages_count',FIRST_RESPONSE_TIME:'avg_first_response_time',RESOLUTION_TIME:'avg_resolution_time',RESOLUTION_COUNT:'resolutions_count',REPLY_TIME:'reply_time'};}}},computed:{metrics:function metrics(){var _this=this;var reportKeys=Object.keys(this.reportKeys);var infoText={FIRST_RESPONSE_TIME:this.$t(\"REPORT.METRICS.FIRST_RESPONSE_TIME.INFO_TEXT\"),RESOLUTION_TIME:this.$t(\"REPORT.METRICS.RESOLUTION_TIME.INFO_TEXT\")};return reportKeys.map(function(key){return{NAME:_this.$t(\"REPORT.METRICS.\".concat(key,\".NAME\")),KEY:_this.reportKeys[key],DESC:_this.$t(\"REPORT.METRICS.\".concat(key,\".DESC\")),INFO_TEXT:infoText[key],TOOLTIP_TEXT:\"REPORT.METRICS.\".concat(key,\".TOOLTIP_TEXT\"),trend:_this.calculateTrend(_this.reportKeys[key])};});}},methods:{getCollection:function getCollection(metric){var _this2=this;if(!this.accountReport.data[metric.KEY]){return{};}var data=this.accountReport.data[metric.KEY];var labels=data.map(function(element){var _this2$groupBy,_this2$groupBy2,_this2$groupBy3;if(((_this2$groupBy=_this2.groupBy)===null||_this2$groupBy===void 0?void 0:_this2$groupBy.period)===constants[\"b\" /* GROUP_BY_FILTER */][2].period){var week_date=new Date(Object(fromUnixTime[\"a\" /* default */])(element.timestamp));var first_day=week_date.getDate()-week_date.getDay();var last_day=first_day+6;var week_first_date=new Date(week_date.setDate(first_day));var week_last_date=new Date(week_date.setDate(last_day));return\"\".concat(Object(format[\"a\" /* default */])(week_first_date,'dd-MMM'),\" - \").concat(Object(format[\"a\" /* default */])(week_last_date,'dd-MMM'));}if(((_this2$groupBy2=_this2.groupBy)===null||_this2$groupBy2===void 0?void 0:_this2$groupBy2.period)===constants[\"b\" /* GROUP_BY_FILTER */][3].period){return Object(format[\"a\" /* default */])(Object(fromUnixTime[\"a\" /* default */])(element.timestamp),'MMM-yyyy');}if(((_this2$groupBy3=_this2.groupBy)===null||_this2$groupBy3===void 0?void 0:_this2$groupBy3.period)===constants[\"b\" /* GROUP_BY_FILTER */][4].period){return Object(format[\"a\" /* default */])(Object(fromUnixTime[\"a\" /* default */])(element.timestamp),'yyyy');}return Object(format[\"a\" /* default */])(Object(fromUnixTime[\"a\" /* default */])(element.timestamp),'dd-MMM');});var datasets=constants[\"d\" /* METRIC_CHART */][metric.KEY].datasets.map(function(dataset){switch(dataset.type){case'bar':return _objectSpread(_objectSpread({},dataset),{},{yAxisID:'y-left',label:metric.NAME,data:data.map(function(element){return element.value;})});case'line':return _objectSpread(_objectSpread({},dataset),{},{yAxisID:'y-right',label:_this2.metrics[0].NAME,data:data.map(function(element){return element.count;})});default:return dataset;}});return{labels:labels,datasets:datasets};},getChartOptions:function getChartOptions(metric){var _this3=this;var tooltips={};if(this.isAverageMetricType(metric.KEY)){tooltips.callbacks={label:function label(tooltipItem){return _this3.$t(metric.TOOLTIP_TEXT,{metricValue:Object(utils_esm[\"e\" /* formatTime */])(tooltipItem.yLabel),conversationCount:_this3.accountReport.data[metric.KEY][tooltipItem.index].count});}};}return{scales:constants[\"d\" /* METRIC_CHART */][metric.KEY].scales,tooltips:tooltips};}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?vue&type=script&lang=js&\n /* harmony default export */ var reports_ReportContainervue_type_script_lang_js_ = (ReportContainervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue\n\n\n\n\n\n/* normalize component */\n\nvar ReportContainer_component = Object(componentNormalizer[\"a\" /* default */])(\n  reports_ReportContainervue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ReportContainer = __webpack_exports__[\"a\"] = (ReportContainer_component.exports);\n\n/***/ }),\n\n/***/ 2839:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?vue&type=template&id=4d4a3744&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"arrow-download\"},on:{\"click\":_vm.downloadReports}},[_vm._v(\"\\n    \"+_vm._s(_vm.downloadButtonLabel)+\"\\n  \")]),_vm._v(\" \"),(_vm.filterItemsList)?_c('report-filters',{attrs:{\"type\":_vm.type,\"filter-items-list\":_vm.filterItemsList,\"group-by-filter-items-list\":_vm.groupByfilterItemsList,\"selected-group-by-filter\":_vm.selectedGroupByFilter},on:{\"date-range-change\":_vm.onDateRangeChange,\"filter-change\":_vm.onFilterChange,\"group-by-filter-change\":_vm.onGroupByFilterChange,\"business-hours-toggle\":_vm.onBusinessHoursToggle}}):_vm._e(),_vm._v(\" \"),(_vm.filterItemsList.length)?_c('report-container',{attrs:{\"group-by\":_vm.groupBy}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?vue&type=template&id=4d4a3744&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?vue&type=template&id=3be4c92e&\nvar ReportFiltersvue_type_template_id_3be4c92e_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col md:flex-row\"},[_c('div',{staticClass:\"flex items-center w-full flex-col md:flex-row\"},[(_vm.type === 'agent')?_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"placeholder\":_vm.multiselectLabel,\"label\":\"name\",\"track-by\":\"id\",\"options\":_vm.filterItemsList,\"option-height\":24,\"show-labels\":false},on:{\"input\":_vm.changeFilterSelection},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('thumbnail',{attrs:{\"src\":props.option.thumbnail,\"status\":props.option.availability_status,\"username\":props.option.name,\"size\":\"22px\"}}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(_vm._s(props.option.name))])])],1)]}},{key:\"option\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('thumbnail',{attrs:{\"src\":props.option.thumbnail,\"status\":props.option.availability_status,\"username\":props.option.name,\"size\":\"22px\"}}),_vm._v(\" \"),_c('p',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n              \"+_vm._s(props.option.name)+\"\\n            \")])],1)]}}],null,false,4025078773),model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1):(_vm.type === 'label')?_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"placeholder\":_vm.multiselectLabel,\"label\":\"title\",\"track-by\":\"id\",\"options\":_vm.filterItemsList,\"option-height\":24,\"show-labels\":false},on:{\"input\":_vm.changeFilterSelection},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('div',{staticClass:\"flex gap-2 items-center\"},[_c('div',{staticClass:\"rounded-full h-5 w-5\",style:({ backgroundColor: props.option.color })}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n                \"+_vm._s(props.option.title)+\"\\n              \")])])])]}},{key:\"option\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('div',{staticClass:\"rounded-full h-5 w-5 flex-shrink-0 border border-solid border-slate-100 dark:border-slate-800\",style:({ backgroundColor: props.option.color })}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n                \"+_vm._s(props.option.title)+\"\\n              \")])])])]}}]),model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1):_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[(_vm.type === 'inbox')?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n        \")]:(_vm.type === 'team')?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n        \")]:[_vm._v(\"\\n          \"+_vm._s(_vm.$t('FORMS.MULTISELECT.SELECT_ONE'))+\"\\n        \")]],2),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.multiselectLabel,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"options\":_vm.filterItemsList,\"searchable\":false,\"allow-empty\":false},on:{\"input\":_vm.changeFilterSelection},model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.DURATION_FILTER_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"name\",\"label\":\"name\",\"placeholder\":_vm.$t('FORMS.MULTISELECT.SELECT_ONE'),\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"options\":_vm.dateRange,\"searchable\":false,\"allow-empty\":false},on:{\"select\":_vm.changeDateSelection},model:{value:(_vm.currentDateRangeSelection),callback:function ($$v) {_vm.currentDateRangeSelection=$$v},expression:\"currentDateRangeSelection\"}})],1),_vm._v(\" \"),(_vm.isDateRangeSelected)?_c('div',{},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-date-range-picker',{attrs:{\"show-range\":\"\",\"value\":_vm.customDateRange,\"confirm-text\":_vm.$t('REPORT.CUSTOM_DATE_RANGE.CONFIRM'),\"placeholder\":_vm.$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER')},on:{\"change\":_vm.onChange}})],1):_vm._e(),_vm._v(\" \"),(_vm.notLast7Days)?_c('div',{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"groupBy\",\"placeholder\":_vm.$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL'),\"options\":_vm.groupByFilterItemsList,\"allow-empty\":false,\"show-labels\":false},on:{\"input\":_vm.changeGroupByFilterSelection},model:{value:(_vm.currentSelectedGroupByFilter),callback:function ($$v) {_vm.currentSelectedGroupByFilter=$$v},expression:\"currentSelectedGroupByFilter\"}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center my-2\"},[_c('span',{staticClass:\"text-sm mx-2 whitespace-nowrap\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('REPORT.BUSINESS_HOURS'))+\"\\n    \")]),_vm._v(\" \"),_c('span',[_c('woot-switch',{model:{value:(_vm.businessHoursSelected),callback:function ($$v) {_vm.businessHoursSelected=$$v},expression:\"businessHoursSelected\"}})],1)])])\n}\nvar ReportFiltersvue_type_template_id_3be4c92e_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?vue&type=template&id=3be4c92e&\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/endOfDay/index.js\nvar endOfDay = __webpack_require__(1788);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/getUnixTime/index.js + 1 modules\nvar getUnixTime = __webpack_require__(1905);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/startOfDay/index.js\nvar startOfDay = __webpack_require__(168);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/subDays/index.js\nvar subDays = __webpack_require__(1778);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/Thumbnail.vue + 4 modules\nvar Thumbnail = __webpack_require__(271);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/ui/DateRangePicker.vue + 4 modules\nvar DateRangePicker = __webpack_require__(2973);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/constants.js\nvar constants = __webpack_require__(2645);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?vue&type=script&lang=js&\nvar CUSTOM_DATE_RANGE_ID=5;/* harmony default export */ var ReportFiltersvue_type_script_lang_js_ = ({components:{WootDateRangePicker:DateRangePicker[\"a\" /* default */],Thumbnail:Thumbnail[\"a\" /* default */]},props:{filterItemsList:{type:Array,default:function _default(){return[];}},groupByFilterItemsList:{type:Array,default:function _default(){return[];}},type:{type:String,default:'agent'},selectedGroupByFilter:{type:Object,default:function _default(){}}},data:function data(){return{currentSelectedFilter:null,currentDateRangeSelection:this.$t('REPORT.DATE_RANGE')[0],dateRange:this.$t('REPORT.DATE_RANGE'),customDateRange:[new Date(),new Date()],currentSelectedGroupByFilter:null,businessHoursSelected:false};},computed:{isDateRangeSelected:function isDateRangeSelected(){return this.currentDateRangeSelection.id===CUSTOM_DATE_RANGE_ID;},to:function to(){if(this.isDateRangeSelected){return this.toCustomDate(this.customDateRange[1]);}return this.toCustomDate(new Date());},from:function from(){if(this.isDateRangeSelected){return this.fromCustomDate(this.customDateRange[0]);}var dateRange={0:6,1:29,2:89,3:179,4:364};var diff=dateRange[this.currentDateRangeSelection.id];var fromDate=Object(subDays[\"a\" /* default */])(new Date(),diff);return this.fromCustomDate(fromDate);},multiselectLabel:function multiselectLabel(){var typeLabels={agent:this.$t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL'),label:this.$t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL'),inbox:this.$t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL'),team:this.$t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL')};return typeLabels[this.type]||this.$t('FORMS.MULTISELECT.SELECT_ONE');},groupBy:function groupBy(){if(this.isDateRangeSelected){return constants[\"b\" /* GROUP_BY_FILTER */][4].period;}var groupRange={0:constants[\"b\" /* GROUP_BY_FILTER */][1].period,1:constants[\"b\" /* GROUP_BY_FILTER */][2].period,2:constants[\"b\" /* GROUP_BY_FILTER */][3].period,3:constants[\"b\" /* GROUP_BY_FILTER */][3].period,4:constants[\"b\" /* GROUP_BY_FILTER */][4].period};return groupRange[this.currentDateRangeSelection.id];},notLast7Days:function notLast7Days(){return this.groupBy!==constants[\"b\" /* GROUP_BY_FILTER */][1].period;}},watch:{filterItemsList:function filterItemsList(val){this.currentSelectedFilter=val[0];this.changeFilterSelection();},groupByFilterItemsList:function groupByFilterItemsList(){this.currentSelectedGroupByFilter=this.selectedGroupByFilter;},businessHoursSelected:function businessHoursSelected(){this.$emit('business-hours-toggle',this.businessHoursSelected);}},mounted:function mounted(){this.onDateRangeChange();},methods:{onDateRangeChange:function onDateRangeChange(){this.$emit('date-range-change',{from:this.from,to:this.to,groupBy:this.groupBy});},fromCustomDate:function fromCustomDate(date){return Object(getUnixTime[\"a\" /* default */])(Object(startOfDay[\"a\" /* default */])(date));},toCustomDate:function toCustomDate(date){return Object(getUnixTime[\"a\" /* default */])(Object(endOfDay[\"a\" /* default */])(date));},changeDateSelection:function changeDateSelection(selectedRange){this.currentDateRangeSelection=selectedRange;this.onDateRangeChange();},changeFilterSelection:function changeFilterSelection(){this.$emit('filter-change',this.currentSelectedFilter);},onChange:function onChange(value){this.customDateRange=value;this.onDateRangeChange();},changeGroupByFilterSelection:function changeGroupByFilterSelection(){this.$emit('group-by-filter-change',this.currentSelectedGroupByFilter);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_ReportFiltersvue_type_script_lang_js_ = (ReportFiltersvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_ReportFiltersvue_type_script_lang_js_,\n  ReportFiltersvue_type_template_id_3be4c92e_render,\n  ReportFiltersvue_type_template_id_3be4c92e_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ReportFilters = (component.exports);\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue + 9 modules\nvar ReportContainer = __webpack_require__(2829);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/mixins/reportMixin.js\nvar reportMixin = __webpack_require__(2654);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/downloadHelper.js\nvar downloadHelper = __webpack_require__(262);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/AnalyticsHelper/events.js\nvar events = __webpack_require__(94);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}var REPORTS_KEYS={CONVERSATIONS:'conversations_count',INCOMING_MESSAGES:'incoming_messages_count',OUTGOING_MESSAGES:'outgoing_messages_count',FIRST_RESPONSE_TIME:'avg_first_response_time',RESOLUTION_TIME:'avg_resolution_time',RESOLUTION_COUNT:'resolutions_count',REPLY_TIME:'reply_time'};/* harmony default export */ var WootReportsvue_type_script_lang_js_ = ({components:{ReportFilters:ReportFilters,ReportContainer:ReportContainer[\"a\" /* default */]},mixins:[reportMixin[\"a\" /* default */]],props:{type:{type:String,default:'account'},getterKey:{type:String,default:''},actionKey:{type:String,default:''},downloadButtonLabel:{type:String,default:'Download Reports'}},data:function data(){return{from:0,to:0,selectedFilter:null,groupBy:constants[\"b\" /* GROUP_BY_FILTER */][1],groupByfilterItemsList:this.$t('REPORT.GROUP_BY_DAY_OPTIONS'),selectedGroupByFilter:null,businessHours:false};},computed:{filterItemsList:function filterItemsList(){return this.$store.getters[this.getterKey]||[];}},mounted:function mounted(){this.$store.dispatch(this.actionKey);},methods:{fetchAllData:function fetchAllData(){if(this.selectedFilter){var from=this.from,to=this.to,groupBy=this.groupBy,businessHours=this.businessHours;this.$store.dispatch('fetchAccountSummary',{from:from,to:to,type:this.type,id:this.selectedFilter.id,groupBy:groupBy.period,businessHours:businessHours});this.fetchChartData();}},fetchChartData:function fetchChartData(){var _this=this;['CONVERSATIONS','INCOMING_MESSAGES','OUTGOING_MESSAGES','FIRST_RESPONSE_TIME','RESOLUTION_TIME','RESOLUTION_COUNT','REPLY_TIME'].forEach(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(key){var from,to,groupBy,businessHours;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{from=_this.from,to=_this.to,groupBy=_this.groupBy,businessHours=_this.businessHours;_this.$store.dispatch('fetchAccountReport',{metric:REPORTS_KEYS[key],from:from,to:to,type:_this.type,id:_this.selectedFilter.id,groupBy:groupBy.period,businessHours:businessHours});}catch(_unused){_this.showAlert(_this.$t('REPORT.DATA_FETCHING_FAILED'));}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());},downloadReports:function downloadReports(){var from=this.from,to=this.to,type=this.type,businessHours=this.businessHours;var dispatchMethods={agent:'downloadAgentReports',label:'downloadLabelReports',inbox:'downloadInboxReports',team:'downloadTeamReports'};if(dispatchMethods[type]){var fileName=Object(downloadHelper[\"b\" /* generateFileName */])({type:type,to:to,businessHours:businessHours});var params={from:from,to:to,fileName:fileName,businessHours:businessHours};this.$store.dispatch(dispatchMethods[type],params);}},onDateRangeChange:function onDateRangeChange(_ref2){var _this2=this;var from=_ref2.from,to=_ref2.to,groupBy=_ref2.groupBy;// do not track filter change on inital load\nif(this.from!==0&&this.to!==0){this.$track(events[\"j\" /* REPORTS_EVENTS */].FILTER_REPORT,{filterType:'date',reportType:this.type});}this.from=from;this.to=to;this.groupByfilterItemsList=this.fetchFilterItems(groupBy);var filterItems=this.groupByfilterItemsList.filter(function(item){return item.id===_this2.groupBy.id;});if(filterItems.length>0){this.selectedGroupByFilter=filterItems[0];}else{this.selectedGroupByFilter=this.groupByfilterItemsList[0];this.groupBy=constants[\"b\" /* GROUP_BY_FILTER */][this.selectedGroupByFilter.id];}this.fetchAllData();},onFilterChange:function onFilterChange(payload){if(payload){this.selectedFilter=payload;this.fetchAllData();}},onGroupByFilterChange:function onGroupByFilterChange(payload){var _this$groupBy;this.groupBy=constants[\"b\" /* GROUP_BY_FILTER */][payload.id];this.fetchAllData();this.$track(events[\"j\" /* REPORTS_EVENTS */].FILTER_REPORT,{filterType:'groupBy',filterValue:(_this$groupBy=this.groupBy)===null||_this$groupBy===void 0?void 0:_this$groupBy.period,reportType:this.type});},fetchFilterItems:function fetchFilterItems(groupBy){switch(groupBy){case constants[\"b\" /* GROUP_BY_FILTER */][2].period:return this.$t('REPORT.GROUP_BY_WEEK_OPTIONS');case constants[\"b\" /* GROUP_BY_FILTER */][3].period:return this.$t('REPORT.GROUP_BY_MONTH_OPTIONS');case constants[\"b\" /* GROUP_BY_FILTER */][4].period:return this.$t('REPORT.GROUP_BY_YEAR_OPTIONS');default:return this.$t('REPORT.GROUP_BY_DAY_OPTIONS');}},onBusinessHoursToggle:function onBusinessHoursToggle(value){this.businessHours=value;this.fetchAllData();this.$track(events[\"j\" /* REPORTS_EVENTS */].FILTER_REPORT,{filterType:'businessHours',filterValue:value,reportType:this.type});}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_WootReportsvue_type_script_lang_js_ = (WootReportsvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue\n\n\n\n\n\n/* normalize component */\n\nvar WootReports_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_WootReportsvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var WootReports = __webpack_exports__[\"a\"] = (WootReports_component.exports);\n\n/***/ }),\n\n/***/ 2973:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/components/ui/DateRangePicker.vue?vue&type=template&id=292698aa&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"date-picker\"},[_c('date-picker',{attrs:{\"range\":true,\"confirm\":true,\"clearable\":false,\"editable\":false,\"confirm-text\":_vm.confirmText,\"placeholder\":_vm.placeholder,\"value\":_vm.value},on:{\"change\":_vm.handleChange}})],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/ui/DateRangePicker.vue?vue&type=template&id=292698aa&\n\n// EXTERNAL MODULE: ./node_modules/vue2-datepicker/index.esm.js + 5 modules\nvar index_esm = __webpack_require__(2831);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/components/ui/DateRangePicker.vue?vue&type=script&lang=js&\n/* harmony default export */ var DateRangePickervue_type_script_lang_js_ = ({components:{DatePicker:index_esm[\"a\" /* default */]},props:{confirmText:{type:String,default:''},placeholder:{type:String,default:''},value:{type:Array,default:function _default(){return[];}}},methods:{handleChange:function handleChange(value){this.$emit('change',value);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/ui/DateRangePicker.vue?vue&type=script&lang=js&\n /* harmony default export */ var ui_DateRangePickervue_type_script_lang_js_ = (DateRangePickervue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/ui/DateRangePicker.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  ui_DateRangePickervue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var DateRangePicker = __webpack_exports__[\"a\"] = (component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/constants.js","/home/chatwoot/chatwoot/app/javascript/dashboard/mixins/reportMixin.js","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?vue&type=template&id=0c82c06e&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?vue&type=template&id=4bfd08f4&","app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue","app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?vue&type=template&id=4d4a3744&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?vue&type=template&id=3be4c92e&","app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue","app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/ui/DateRangePicker.vue?vue&type=template&id=292698aa&","app/javascript/dashboard/components/ui/DateRangePicker.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/ui/DateRangePicker.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/ui/DateRangePicker.vue"],"names":["formatTime","timeInSeconds","minutes","Math","floor","hours","days","GROUP_BY_FILTER","id","period","GROUP_BY_OPTIONS","DAY","translationKey","WEEK","MONTH","YEAR","DATE_RANGE_OPTIONS","LAST_7_DAYS","offset","groupByOptions","LAST_30_DAYS","LAST_3_MONTHS","LAST_6_MONTHS","LAST_YEAR","CUSTOM_DATE_RANGE","CHART_FONT_FAMILY","DEFAULT_LINE_CHART","type","fill","borderColor","pointBackgroundColor","DEFAULT_BAR_CHART","backgroundColor","DEFAULT_CHART","datasets","scales","xAxes","ticks","fontFamily","gridLines","drawOnChartArea","yAxes","position","beginAtZero","stepSize","callback","value","index","values","length","TIME_CHART_CONFIG","METRIC_CHART","conversations_count","incoming_messages_count","outgoing_messages_count","avg_first_response_time","reply_time","avg_resolution_time","resolutions_count","bot_resolutions_count","bot_handoffs_count","OVERVIEW_METRICS","open","unattended","unassigned","pending","online","busy","offline","props","accountSummaryKey","String","default","computed","mapGetters","accountReport","accountSummary","$store","getters","methods","calculateTrend","key","previous","diff","round","displayMetric","isAverageMetricType","Number","toLocaleString","displayInfoText","metrics","currentSelection","KEY","total","data","map","item","count","reduce","prev","curr","INFO_TEXT","includes"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,GAAMA,WAAU,CAAG,QAAbA,WAAa,CAAAC,aAAa,CAAI,CACzC,GAAI,CAACA,aAAL,CAAoB,CAClB,MAAO,EAAP,CACD,CAED,GAAIA,aAAa,CAAG,EAApB,CAAwB,CACtB,gBAAUA,aAAV,MACD,CAED,GAAIA,aAAa,CAAG,IAApB,CAA0B,CACxB,GAAMC,QAAO,CAAGC,IAAI,CAACC,KAAL,CAAWH,aAAa,CAAG,EAA3B,CAAhB,CACA,gBAAUC,OAAV,MACD,CAED,GAAID,aAAa,CAAG,KAApB,CAA2B,CACzB,GAAMI,MAAK,CAAGF,IAAI,CAACC,KAAL,CAAWH,aAAa,CAAG,IAA3B,CAAd,CACA,gBAAUI,KAAV,MACD,CAED,GAAMC,KAAI,CAAGH,IAAI,CAACC,KAAL,CAAWH,aAAa,CAAG,KAA3B,CAAb,CACA,gBAAUK,IAAV,MACD,CArBM,CAuBA,GAAMC,gBAAe,CAAG,CAC7B,EAAG,CAAEC,EAAE,CAAE,CAAN,CAASC,MAAM,CAAE,KAAjB,CAD0B,CAE7B,EAAG,CAAED,EAAE,CAAE,CAAN,CAASC,MAAM,CAAE,MAAjB,CAF0B,CAG7B,EAAG,CAAED,EAAE,CAAE,CAAN,CAASC,MAAM,CAAE,OAAjB,CAH0B,CAI7B,EAAG,CAAED,EAAE,CAAE,CAAN,CAASC,MAAM,CAAE,MAAjB,CAJ0B,CAAxB,CAOA,GAAMC,iBAAgB,CAAG,CAC9BC,GAAG,CAAE,CACHH,EAAE,CAAE,KADD,CAEHC,MAAM,CAAE,KAFL,CAGHG,cAAc,CAAE,6BAHb,CADyB,CAM9BC,IAAI,CAAE,CACJL,EAAE,CAAE,MADA,CAEJC,MAAM,CAAE,MAFJ,CAGJG,cAAc,CAAE,8BAHZ,CANwB,CAW9BE,KAAK,CAAE,CACLN,EAAE,CAAE,OADC,CAELC,MAAM,CAAE,OAFH,CAGLG,cAAc,CAAE,+BAHX,CAXuB,CAgB9BG,IAAI,CAAE,CACJP,EAAE,CAAE,MADA,CAEJC,MAAM,CAAE,MAFJ,CAGJG,cAAc,CAAE,8BAHZ,CAhBwB,CAAzB,CAuBA,GAAMI,mBAAkB,CAAG,CAChCC,WAAW,CAAE,CACXT,EAAE,CAAE,aADO,CAEXI,cAAc,CAAE,uCAFL,CAGXM,MAAM,CAAE,CAHG,CAIXC,cAAc,CAAE,CAACT,gBAAgB,CAACC,GAAlB,CAJL,CADmB,CAOhCS,YAAY,CAAE,CACZZ,EAAE,CAAE,cADQ,CAEZI,cAAc,CAAE,wCAFJ,CAGZM,MAAM,CAAE,EAHI,CAIZC,cAAc,CAAE,CAACT,gBAAgB,CAACC,GAAlB,CAAuBD,gBAAgB,CAACG,IAAxC,CAJJ,CAPkB,CAahCQ,aAAa,CAAE,CACbb,EAAE,CAAE,eADS,CAEbI,cAAc,CAAE,yCAFH,CAGbM,MAAM,CAAE,EAHK,CAIbC,cAAc,CAAE,CACdT,gBAAgB,CAACC,GADH,CAEdD,gBAAgB,CAACG,IAFH,CAGdH,gBAAgB,CAACI,KAHH,CAJH,CAbiB,CAuBhCQ,aAAa,CAAE,CACbd,EAAE,CAAE,eADS,CAEbI,cAAc,CAAE,yCAFH,CAGbM,MAAM,CAAE,GAHK,CAIbC,cAAc,CAAE,CAACT,gBAAgB,CAACG,IAAlB,CAAwBH,gBAAgB,CAACI,KAAzC,CAJH,CAvBiB,CA6BhCS,SAAS,CAAE,CACTf,EAAE,CAAE,WADK,CAETI,cAAc,CAAE,qCAFP,CAGTM,MAAM,CAAE,GAHC,CAITC,cAAc,CAAE,CAACT,gBAAgB,CAACG,IAAlB,CAAwBH,gBAAgB,CAACI,KAAzC,CAJP,CA7BqB,CAmChCU,iBAAiB,CAAE,CACjBhB,EAAE,CAAE,mBADa,CAEjBI,cAAc,CAAE,6CAFC,CAGjBM,MAAM,CAAE,IAHS,CAIjBC,cAAc,CAAE,CACdT,gBAAgB,CAACC,GADH,CAEdD,gBAAgB,CAACG,IAFH,CAGdH,gBAAgB,CAACI,KAHH,CAIdJ,gBAAgB,CAACK,IAJH,CAJC,CAnCa,CAA3B,CAgDA,GAAMU,kBAAiB,CAC5B,4GADK,CAGA,GAAMC,mBAAkB,CAAG,CAChCC,IAAI,CAAE,MAD0B,CAEhCC,IAAI,CAAE,KAF0B,CAGhCC,WAAW,CAAE,SAHmB,CAIhCC,oBAAoB,CAAE,SAJU,CAA3B,CAOA,GAAMC,kBAAiB,CAAG,CAC/BJ,IAAI,CAAE,KADyB,CAE/BK,eAAe,CAAE,mBAFc,CAA1B,CAKA,GAAMC,cAAa,CAAG,CAC3BC,QAAQ,CAAE,CAACH,iBAAD,CADiB,CAE3BI,MAAM,CAAE,CACNC,KAAK,CAAE,CACL,CACEC,KAAK,CAAE,CACLC,UAAU,CAAEb,iBADP,CADT,CAIEc,SAAS,CAAE,CACTC,eAAe,CAAE,KADR,CAJb,CADK,CADD,CAWNC,KAAK,CAAE,CACL,CACEjC,EAAE,CAAE,QADN,CAEEmB,IAAI,CAAE,QAFR,CAGEe,QAAQ,CAAE,MAHZ,CAIEL,KAAK,CAAE,CACLC,UAAU,CAAEb,iBADP,CAELkB,WAAW,CAAE,IAFR,CAGLC,QAAQ,CAAE,CAHL,CAILC,QAAQ,CAAE,kBAACC,KAAD,CAAQC,KAAR,CAAeC,MAAf,CAA0B,CAClC,GAAI,CAACD,KAAD,EAAUA,KAAK,GAAKC,MAAM,CAACC,MAAP,CAAgB,CAAxC,CAA2C,CACzC,MAAOH,MAAP,CACD,CACD,MAAO,EAAP,CACD,CATI,CAJT,CAeEP,SAAS,CAAE,CACTC,eAAe,CAAE,KADR,CAfb,CADK,CAXD,CAFmB,CAAtB,CAqCP,GAAMU,kBAAiB,CAAG,CACxBhB,QAAQ,CAAE,CAACH,iBAAD,CADc,CAExBI,MAAM,CAAE,CACNC,KAAK,CAAE,CACL,CACEC,KAAK,CAAE,CACLC,UAAU,CAAEb,iBADP,CADT,CAIEc,SAAS,CAAE,CACTC,eAAe,CAAE,KADR,CAJb,CADK,CADD,CAWNC,KAAK,CAAE,CACL,CACEjC,EAAE,CAAE,QADN,CAEEmB,IAAI,CAAE,QAFR,CAGEe,QAAQ,CAAE,MAHZ,CAIEL,KAAK,CAAE,CACLC,UAAU,CAAEb,iBADP,CAELoB,QAAQ,CAAE,kBAACC,KAAD,CAAQC,KAAR,CAAeC,MAAf,CAA0B,CAClC,GAAI,CAACD,KAAD,EAAUA,KAAK,GAAKC,MAAM,CAACC,MAAP,CAAgB,CAAxC,CAA2C,CACzC,MAAOjD,WAAU,CAAC8C,KAAD,CAAjB,CACD,CACD,MAAO,EAAP,CACD,CAPI,CAJT,CAaEP,SAAS,CAAE,CACTC,eAAe,CAAE,KADR,CAbb,CADK,CAXD,CAFgB,CAA1B,CAmCO,GAAMW,aAAY,CAAG,CAC1BC,mBAAmB,CAAEnB,aADK,CAE1BoB,uBAAuB,CAAEpB,aAFC,CAG1BqB,uBAAuB,CAAErB,aAHC,CAI1BsB,uBAAuB,CAAEL,iBAJC,CAK1BM,UAAU,CAAEN,iBALc,CAM1BO,mBAAmB,CAAEP,iBANK,CAO1BQ,iBAAiB,CAAEzB,aAPO,CAQ1B0B,qBAAqB,CAAE1B,aARG,CAS1B2B,kBAAkB,CAAE3B,aATM,CAArB,CAYA,GAAM4B,iBAAgB,CAAG,CAC9BC,IAAI,CAAE,MADwB,CAE9BC,UAAU,CAAE,YAFkB,CAG9BC,UAAU,CAAE,YAHkB,CAI9BC,OAAO,CAAE,SAJqB,CAK9BC,MAAM,CAAE,QALsB,CAM9BC,IAAI,CAAE,MANwB,CAO9BC,OAAO,CAAE,SAPqB,CAAzB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;k9BCrMQ,0DACbC,KAAK,CAAE,CACLC,iBAAiB,CAAE,CACjB3C,IAAI,CAAE4C,MADW,CAEjBC,OAAO,CAAE,mBAFQ,CADd,CADM,CAObC,QAAQ,gCACHC,wDAAU,CAAC,CACZC,aAAa,CAAE,mBADH,CAAD,CADP,MAINC,cAJM,0BAIW,CACf,MAAO,MAAKC,MAAL,CAAYC,OAAZ,CAAoB,KAAKR,iBAAzB,CAAP,CACD,CANK,EAPK,CAebS,OAAO,CAAE,CACPC,cADO,yBACQC,GADR,CACa,CAClB,GAAI,CAAC,KAAKL,cAAL,CAAoBM,QAApB,CAA6BD,GAA7B,CAAL,CAAwC,MAAO,EAAP,CACxC,GAAME,KAAI,CAAG,KAAKP,cAAL,CAAoBK,GAApB,EAA2B,KAAKL,cAAL,CAAoBM,QAApB,CAA6BD,GAA7B,CAAxC,CACA,MAAO9E,KAAI,CAACiF,KAAL,CAAYD,IAAI,CAAG,KAAKP,cAAL,CAAoBM,QAApB,CAA6BD,GAA7B,CAAR,CAA6C,GAAxD,CAAP,CACD,CALM,CAMPI,aANO,wBAMOJ,GANP,CAMY,CACjB,GAAI,KAAKK,mBAAL,CAAyBL,GAAzB,CAAJ,CAAmC,CACjC,MAAOjF,4EAAU,CAAC,KAAK4E,cAAL,CAAoBK,GAApB,CAAD,CAAjB,CACD,CACD,MAAOM,OAAM,CAAC,KAAKX,cAAL,CAAoBK,GAApB,GAA4B,EAA7B,CAAN,CAAuCO,cAAvC,EAAP,CACD,CAXM,CAYPC,eAZO,0BAYSR,GAZT,CAYc,CACnB,GAAI,KAAKS,OAAL,CAAa,KAAKC,gBAAlB,EAAoCC,GAApC,GAA4CX,GAAhD,CAAqD,CACnD,MAAO,EAAP,CACD,CACD,GAAI,KAAKK,mBAAL,CAAyBL,GAAzB,CAAJ,CAAmC,CACjC,GAAMY,MAAK,CAAG,KAAKlB,aAAL,CAAmBmB,IAAnB,CACXC,GADW,CACP,SAAAC,IAAI,QAAIA,KAAI,CAACC,KAAT,EADG,EAEXC,MAFW,CAEJ,SAACC,IAAD,CAAOC,IAAP,QAAgBD,KAAI,CAAGC,IAAvB,EAFI,CAEyB,CAFzB,CAAd,CAGA,gBAAU,KAAKV,OAAL,CAAa,KAAKC,gBAAlB,EAAoCU,SAA9C,aAA2DR,KAA3D,EACD,CACD,MAAO,EAAP,CACD,CAvBM,CAwBPP,mBAxBO,8BAwBaL,GAxBb,CAwBkB,CACvB,MAAO,CACL,yBADK,CAEL,qBAFK,CAGL,YAHK,EAILqB,QAJK,CAIIrB,GAJJ,CAAP,CAKD,CA9BM,CAfI,CAAf,E;;;;;;;;;;ACHA,+BAA+B,6BAA6B,iBAAiB,qJAAqJ,uCAAuC,iBAAiB,iDAAiD,oBAAoB,OAAO,6DAA6D,wBAAwB,wBAAwB,sEAAsE,6BAA6B,0CAA0C,YAAY,oDAAoD,6DAA6D,iCAAiC,oFAAoF,aAAa,qCAAqC,4FAA4F;AACh+B;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA,IAAI,8CAAM,qBAAqB,6BAA6B,iBAAiB,iDAAiD,aAAa,sBAAsB,0EAA0E,6BAA6B,YAAY,kCAAkC,mHAAmH,oDAAoD,mCAAmC,wIAAwI,YAAY,wIAAwI,yBAAyB,iFAAiF;AACt4B;AACA,IAAI,uDAAe;;;;;;AC2BnB,wEACA,uCADA,CAEA,OACA,QACA,WADA,CAEA,sCAFA,CADA,CAFA,CAQA,SACA,UADA,qBACA,KADA,CACA,GADA,CACA,CACA,kCACA,eACA,6BADA,CAEA,iCAFA,CAGA,CACA,eACA,6BADA,CAEA,iCAFA,CAGA,CAVA,CARA,G;;AC7B8N,CAAgB,uHAAG,EAAC,C;;;;;ACAzJ;AAC3B;AACL;;;AAGzD;AAC+G;AAC/G,gBAAgB,8CAAU;AAC1B,EAAE,gDAAM;AACR,EAAE,8CAAM;AACR,EAAE,uDAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gE;;k9BCsBf,6EACA,kCADA,CAEA,uCAFA,CAGA,OACA,SACA,WADA,CAEA,sCAFA,CADA,CAKA,YACA,WADA,CAEA,mCACA,mCADA,CAEA,2CAFA,CAGA,2CAHA,CAIA,6CAJA,CAKA,qCALA,CAMA,oCANA,CAOA,uBAPA,GAFA,CALA,CAHA,CAqBA,UACA,OADA,mBACA,gBACA,4CACA,cACA,2EADA,CAIA,mEAJA,EAMA,2CACA,oDADA,CAEA,yBAFA,CAGA,oDAHA,CAIA,uBAJA,CAKA,0DALA,CAMA,iDANA,KAQA,CAjBA,CArBA,CAwCA,SACA,aADA,wBACA,MADA,CACA,iBACA,yCACA,SACA,CACA,6CACA,yFACA,oJACA,mFACA,qDACA,yBACA,2DACA,yDACA,4HACA,cADA,CAEA,QAFA,GAIA,CACA,uJACA,gHACA,CACA,uJACA,4GACA,CACA,8GACA,CAnBA,EAoBA,0FACA,qBACA,UACA,sCACA,OADA,MAEA,gBAFA,CAGA,iBAHA,CAIA,uDAJA,GAMA,WACA,sCACA,OADA,MAEA,iBAFA,CAGA,4BAHA,CAIA,uDAJA,GAMA,QACA,eAhBA,CAkBA,CAnBA,EAoBA,OACA,aADA,CAEA,iBAFA,EAIA,CAlDA,CAmDA,eAnDA,0BAmDA,MAnDA,CAmDA,iBACA,gBACA,yCACA,oBACA,kCACA,sCACA,uEADA,CAEA,kBACA,8DAHA,GAKA,CAPA,EASA,CACA,OACA,2DADA,CAEA,iBAFA,EAIA,CApEA,CAxCA,G;;ACxCuN,CAAgB,2HAAG,EAAC,C;;ACA7I;AAC3B;AACL;;;AAG9D;AACyG;AACzG,IAAI,yBAAS,GAAG,8CAAU;AAC1B,EAAE,+CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,wGAAS,Q;;;;;;;;;;AClBxB,+BAA+B,6BAA6B,iBAAiB,uCAAuC,oBAAoB,OAAO,mFAAmF,KAAK,6BAA6B,mHAAmH,OAAO,qKAAqK,KAAK,mLAAmL,2EAA2E,OAAO,wBAAwB;AACr0B;AACA;;;;;;;;;;;;;;;;;;ACFA,IAAI,iDAAM,qBAAqB,6BAA6B,iBAAiB,wCAAwC,YAAY,4DAA4D,mCAAmC,0DAA0D,UAAU,uCAAuC,wHAAwH,OAAO,uIAAuI,KAAK,kCAAkC,sBAAsB,qCAAqC,kBAAkB,sCAAsC,kBAAkB,OAAO,mHAAmH,yBAAyB,mCAAmC,aAAa,qDAAqD,8CAA8C,EAAE,gCAAgC,kBAAkB,sCAAsC,kBAAkB,OAAO,mHAAmH,sBAAsB,qDAAqD,gFAAgF,gCAAgC,2DAA2D,8BAA8B,qCAAqC,uCAAuC,0DAA0D,UAAU,uCAAuC,wHAAwH,OAAO,wIAAwI,KAAK,kCAAkC,sBAAsB,qCAAqC,kBAAkB,sCAAsC,YAAY,2CAA2C,sCAAsC,EAAE,yBAAyB,mCAAmC,aAAa,qDAAqD,qFAAqF,EAAE,gCAAgC,kBAAkB,sCAAsC,YAAY,oHAAoH,sCAAsC,EAAE,yBAAyB,mCAAmC,aAAa,qDAAqD,qFAAqF,UAAU,2DAA2D,8BAA8B,qCAAqC,gBAAgB,0DAA0D,UAAU,uCAAuC,6VAA6V,OAAO,0OAA0O,KAAK,kCAAkC,QAAQ,2DAA2D,8BAA8B,qCAAqC,4BAA4B,+DAA+D,UAAU,uCAAuC,iHAAiH,OAAO,wPAAwP,KAAK,iCAAiC,QAAQ,+DAA+D,kCAAkC,yCAAyC,uDAAuD,UAAU,uCAAuC,oIAAoI,OAAO,mKAAmK,KAAK,uBAAuB,wDAAwD,+DAA+D,UAAU,uCAAuC,0HAA0H,OAAO,6KAA6K,KAAK,yCAAyC,QAAQ,kEAAkE,qCAAqC,4CAA4C,uCAAuC,qCAAqC,aAAa,6CAA6C,iHAAiH,OAAO,2DAA2D,8BAA8B,qCAAqC;AAC3/L;AACA,IAAI,0DAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4LnB,2BAEA,2EACA,YACA,sDADA,CAEA,sCAFA,CADA,CAKA,OACA,iBACA,UADA,CAEA,sCAFA,CADA,CAKA,wBACA,UADA,CAEA,sCAFA,CALA,CASA,MACA,WADA,CAEA,eAFA,CATA,CAaA,uBACA,WADA,CAEA,6BAFA,CAbA,CALA,CAuBA,IAvBA,gBAuBA,CACA,OACA,0BADA,CAEA,yDAFA,CAGA,sCAHA,CAIA,uCAJA,CAKA,iCALA,CAMA,2BANA,EAQA,CAhCA,CAiCA,UACA,mBADA,+BACA,CACA,gEACA,CAHA,CAIA,EAJA,cAIA,CACA,6BACA,kDACA,CACA,qCACA,CATA,CAUA,IAVA,gBAUA,CACA,6BACA,oDACA,CACA,eACA,GADA,CAEA,IAFA,CAGA,IAHA,CAIA,KAJA,CAKA,KALA,EAOA,sDACA,iEACA,qCACA,CAxBA,CAyBA,gBAzBA,4BAyBA,CACA,gBACA,oDADA,CAEA,oDAFA,CAGA,oDAHA,CAIA,kDAJA,EAMA,sEACA,CAjCA,CAkCA,OAlCA,mBAkCA,CACA,6BACA,sDACA,CACA,gBACA,gDADA,CAEA,gDAFA,CAGA,gDAHA,CAIA,gDAJA,CAKA,gDALA,EAOA,qDACA,CA9CA,CA+CA,YA/CA,wBA+CA,CACA,qEACA,CAjDA,CAjCA,CAoFA,OACA,eADA,0BACA,GADA,CACA,CACA,kCACA,6BACA,CAJA,CAKA,sBALA,kCAKA,CACA,6DACA,CAPA,CAQA,qBARA,iCAQA,CACA,+DACA,CAVA,CApFA,CAgGA,OAhGA,mBAgGA,CACA,yBACA,CAlGA,CAmGA,SACA,iBADA,6BACA,CACA,gCACA,cADA,CAEA,UAFA,CAGA,oBAHA,GAKA,CAPA,CAQA,cARA,yBAQA,IARA,CAQA,CACA,2FACA,CAVA,CAWA,YAXA,uBAWA,IAXA,CAWA,CACA,yFACA,CAbA,CAcA,mBAdA,8BAcA,aAdA,CAcA,CACA,6CACA,yBACA,CAjBA,CAkBA,qBAlBA,iCAkBA,CACA,uDACA,CApBA,CAqBA,QArBA,mBAqBA,KArBA,CAqBA,CACA,2BACA,yBACA,CAxBA,CAyBA,4BAzBA,wCAyBA,CACA,uEACA,CA3BA,CAnGA,G;;AChM2N,CAAgB,0HAAG,EAAC,C;;;;;ACAnJ;AAC3B;AACL;;;AAG5D;AAC4G;AAC5G,gBAAgB,8CAAU;AAC1B,EAAE,gDAAM;AACR,EAAE,iDAAM;AACR,EAAE,0DAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,mE;;;;;;;;;;;;;;mkBCef,kBACA,mCADA,CAEA,2CAFA,CAGA,2CAHA,CAIA,6CAJA,CAKA,qCALA,CAMA,oCANA,CAOA,uBAPA,EAUA,yEACA,YACA,2BADA,CAEA,kDAFA,CADA,CAKA,uCALA,CAMA,OACA,MACA,WADA,CAEA,iBAFA,CADA,CAKA,WACA,WADA,CAEA,UAFA,CALA,CASA,WACA,WADA,CAEA,UAFA,CATA,CAaA,qBACA,WADA,CAEA,0BAFA,CAbA,CANA,CAwBA,IAxBA,gBAwBA,CACA,OACA,MADA,CAEA,IAFA,CAGA,mBAHA,CAIA,+CAJA,CAKA,6DALA,CAMA,0BANA,CAOA,mBAPA,EASA,CAlCA,CAmCA,UACA,eADA,2BACA,CACA,+CACA,CAHA,CAnCA,CAwCA,OAxCA,mBAwCA,CACA,qCACA,CA1CA,CA2CA,SACA,YADA,wBACA,CACA,wBACA,oFACA,4CACA,SADA,CAEA,KAFA,CAGA,cAHA,CAIA,yBAJA,CAKA,sBALA,CAMA,2BANA,GAQA,sBACA,CACA,CAdA,CAeA,cAfA,0BAeA,gBACA,CACA,eADA,CAEA,mBAFA,CAGA,mBAHA,CAIA,qBAJA,CAKA,iBALA,CAMA,kBANA,CAOA,YAPA,EAQA,OARA,yFAQA,uKACA,IACA,IADA,CACA,KADA,CACA,IADA,CACA,EADA,CACA,KADA,CACA,EADA,CACA,OADA,CACA,KADA,CACA,OADA,CACA,aADA,CACA,KADA,CACA,aADA,CAEA,4CACA,wBADA,CAEA,SAFA,CAGA,KAHA,CAIA,eAJA,CAKA,0BALA,CAMA,sBANA,CAOA,2BAPA,GASA,gBACA,yDACA,CAdA,sDARA,gEAwBA,CAxCA,CAyCA,eAzCA,2BAyCA,CACA,8EACA,qBACA,4BADA,CAEA,4BAFA,CAGA,4BAHA,CAIA,0BAJA,EAMA,0BACA,+GACA,2EACA,mDACA,CACA,CAtDA,CAuDA,iBAvDA,kCAuDA,uEACA;AACA,+BACA,4DACA,iBADA,CAEA,oBAFA,GAIA,CAEA,eACA,WACA,2DACA,mDACA,mDADA,EAGA,yBACA,0CACA,CAFA,IAEA,CACA,0DACA,iFACA,CACA,oBACA,CA7EA,CA8EA,cA9EA,yBA8EA,OA9EA,CA8EA,CACA,YACA,4BACA,oBACA,CACA,CAnFA,CAoFA,qBApFA,gCAoFA,OApFA,CAoFA,mBACA,8DACA,oBAEA,4DACA,oBADA,CAEA,mGAFA,CAGA,oBAHA,GAKA,CA7FA,CA8FA,gBA9FA,2BA8FA,OA9FA,CA8FA,CACA,gBACA,oDACA,+CACA,oDACA,gDACA,oDACA,+CACA,QACA,8CARA,CAUA,CAzGA,CA0GA,qBA1GA,gCA0GA,KA1GA,CA0GA,CACA,yBACA,oBAEA,4DACA,0BADA,CAEA,iBAFA,CAGA,oBAHA,GAKA,CAnHA,CA3CA,G;;AC3CyN,CAAgB,sHAAG,EAAC,C;;ACAnJ;AAC3B;AACL;;;AAG1D;AAC4G;AAC5G,IAAI,qBAAS,GAAG,8CAAU;AAC1B,EAAE,8CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gGAAS,Q;;;;;;;;;;AClBxB,+BAA+B,6BAA6B,iBAAiB,0BAA0B,oBAAoB,OAAO,8IAA8I,KAAK,2BAA2B;AAChT;AACA;;;;;;;;;ACeA,6EACA,oDADA,CAEA,OACA,aACA,WADA,CAEA,UAFA,CADA,CAKA,aACA,WADA,CAEA,UAFA,CALA,CASA,OACA,UADA,CAEA,sCAFA,CATA,CAFA,CAgBA,SACA,YADA,uBACA,KADA,CACA,CACA,2BACA,CAHA,CAhBA,G;;ACjB2M,CAAgB,sHAAG,EAAC,C;;;;;ACAjI;AAC3B;AACL;;;AAG9D;AACmG;AACnG,gBAAgB,8CAAU;AAC1B,EAAE,0CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gG","file":"x","sourcesContent":["export const formatTime = timeInSeconds => {\n  if (!timeInSeconds) {\n    return '';\n  }\n\n  if (timeInSeconds < 60) {\n    return `${timeInSeconds}s`;\n  }\n\n  if (timeInSeconds < 3600) {\n    const minutes = Math.floor(timeInSeconds / 60);\n    return `${minutes}m`;\n  }\n\n  if (timeInSeconds < 86400) {\n    const hours = Math.floor(timeInSeconds / 3600);\n    return `${hours}h`;\n  }\n\n  const days = Math.floor(timeInSeconds / 86400);\n  return `${days}d`;\n};\n\nexport const GROUP_BY_FILTER = {\n  1: { id: 1, period: 'day' },\n  2: { id: 2, period: 'week' },\n  3: { id: 3, period: 'month' },\n  4: { id: 4, period: 'year' },\n};\n\nexport const GROUP_BY_OPTIONS = {\n  DAY: {\n    id: 'DAY',\n    period: 'day',\n    translationKey: 'REPORT.GROUPING_OPTIONS.DAY',\n  },\n  WEEK: {\n    id: 'WEEK',\n    period: 'week',\n    translationKey: 'REPORT.GROUPING_OPTIONS.WEEK',\n  },\n  MONTH: {\n    id: 'MONTH',\n    period: 'month',\n    translationKey: 'REPORT.GROUPING_OPTIONS.MONTH',\n  },\n  YEAR: {\n    id: 'YEAR',\n    period: 'year',\n    translationKey: 'REPORT.GROUPING_OPTIONS.YEAR',\n  },\n};\n\nexport const DATE_RANGE_OPTIONS = {\n  LAST_7_DAYS: {\n    id: 'LAST_7_DAYS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_7_DAYS',\n    offset: 6,\n    groupByOptions: [GROUP_BY_OPTIONS.DAY],\n  },\n  LAST_30_DAYS: {\n    id: 'LAST_30_DAYS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_30_DAYS',\n    offset: 29,\n    groupByOptions: [GROUP_BY_OPTIONS.DAY, GROUP_BY_OPTIONS.WEEK],\n  },\n  LAST_3_MONTHS: {\n    id: 'LAST_3_MONTHS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_3_MONTHS',\n    offset: 89,\n    groupByOptions: [\n      GROUP_BY_OPTIONS.DAY,\n      GROUP_BY_OPTIONS.WEEK,\n      GROUP_BY_OPTIONS.MONTH,\n    ],\n  },\n  LAST_6_MONTHS: {\n    id: 'LAST_6_MONTHS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_6_MONTHS',\n    offset: 179,\n    groupByOptions: [GROUP_BY_OPTIONS.WEEK, GROUP_BY_OPTIONS.MONTH],\n  },\n  LAST_YEAR: {\n    id: 'LAST_YEAR',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_YEAR',\n    offset: 364,\n    groupByOptions: [GROUP_BY_OPTIONS.WEEK, GROUP_BY_OPTIONS.MONTH],\n  },\n  CUSTOM_DATE_RANGE: {\n    id: 'CUSTOM_DATE_RANGE',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.CUSTOM_DATE_RANGE',\n    offset: null,\n    groupByOptions: [\n      GROUP_BY_OPTIONS.DAY,\n      GROUP_BY_OPTIONS.WEEK,\n      GROUP_BY_OPTIONS.MONTH,\n      GROUP_BY_OPTIONS.YEAR,\n    ],\n  },\n};\n\nexport const CHART_FONT_FAMILY =\n  'PlusJakarta,-apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif';\n\nexport const DEFAULT_LINE_CHART = {\n  type: 'line',\n  fill: false,\n  borderColor: '#779BBB',\n  pointBackgroundColor: '#779BBB',\n};\n\nexport const DEFAULT_BAR_CHART = {\n  type: 'bar',\n  backgroundColor: 'rgb(31, 147, 255)',\n};\n\nexport const DEFAULT_CHART = {\n  datasets: [DEFAULT_BAR_CHART],\n  scales: {\n    xAxes: [\n      {\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        id: 'y-left',\n        type: 'linear',\n        position: 'left',\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n          beginAtZero: true,\n          stepSize: 1,\n          callback: (value, index, values) => {\n            if (!index || index === values.length - 1) {\n              return value;\n            }\n            return '';\n          },\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n  },\n};\n\nconst TIME_CHART_CONFIG = {\n  datasets: [DEFAULT_BAR_CHART],\n  scales: {\n    xAxes: [\n      {\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        id: 'y-left',\n        type: 'linear',\n        position: 'left',\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n          callback: (value, index, values) => {\n            if (!index || index === values.length - 1) {\n              return formatTime(value);\n            }\n            return '';\n          },\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n  },\n};\n\nexport const METRIC_CHART = {\n  conversations_count: DEFAULT_CHART,\n  incoming_messages_count: DEFAULT_CHART,\n  outgoing_messages_count: DEFAULT_CHART,\n  avg_first_response_time: TIME_CHART_CONFIG,\n  reply_time: TIME_CHART_CONFIG,\n  avg_resolution_time: TIME_CHART_CONFIG,\n  resolutions_count: DEFAULT_CHART,\n  bot_resolutions_count: DEFAULT_CHART,\n  bot_handoffs_count: DEFAULT_CHART,\n};\n\nexport const OVERVIEW_METRICS = {\n  open: 'OPEN',\n  unattended: 'UNATTENDED',\n  unassigned: 'UNASSIGNED',\n  pending: 'PENDING',\n  online: 'ONLINE',\n  busy: 'BUSY',\n  offline: 'OFFLINE',\n};\n","import { mapGetters } from 'vuex';\nimport { formatTime } from '@chatwoot/utils';\n\nexport default {\n  props: {\n    accountSummaryKey: {\n      type: String,\n      default: 'getAccountSummary',\n    },\n  },\n  computed: {\n    ...mapGetters({\n      accountReport: 'getAccountReports',\n    }),\n    accountSummary() {\n      return this.$store.getters[this.accountSummaryKey];\n    },\n  },\n  methods: {\n    calculateTrend(key) {\n      if (!this.accountSummary.previous[key]) return 0;\n      const diff = this.accountSummary[key] - this.accountSummary.previous[key];\n      return Math.round((diff / this.accountSummary.previous[key]) * 100);\n    },\n    displayMetric(key) {\n      if (this.isAverageMetricType(key)) {\n        return formatTime(this.accountSummary[key]);\n      }\n      return Number(this.accountSummary[key] || '').toLocaleString();\n    },\n    displayInfoText(key) {\n      if (this.metrics[this.currentSelection].KEY !== key) {\n        return '';\n      }\n      if (this.isAverageMetricType(key)) {\n        const total = this.accountReport.data\n          .map(item => item.count)\n          .reduce((prev, curr) => prev + curr, 0);\n        return `${this.metrics[this.currentSelection].INFO_TEXT} ${total}`;\n      }\n      return '';\n    },\n    isAverageMetricType(key) {\n      return [\n        'avg_first_response_time',\n        'avg_resolution_time',\n        'reply_time',\n      ].includes(key);\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 bg-white dark:bg-slate-800 p-2 border border-slate-100 dark:border-slate-700 rounded-md\"},_vm._l((_vm.metrics),function(metric){return _c('div',{key:metric.KEY,staticClass:\"p-4 rounded-md mb-3\"},[_c('chart-stats',{attrs:{\"metric\":metric,\"account-summary-key\":_vm.accountSummaryKey}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4 h-72\"},[(_vm.accountReport.isFetching[metric.KEY])?_c('woot-loading-state',{staticClass:\"text-xs\",attrs:{\"message\":_vm.$t('REPORT.LOADING_CHART')}}):_c('div',{staticClass:\"h-72 flex items-center justify-center\"},[(_vm.accountReport.data[metric.KEY].length)?_c('woot-bar',{staticClass:\"h-72 w-full\",attrs:{\"collection\":_vm.getCollection(metric),\"chart-options\":_vm.getChartOptions(metric)}}):_c('span',{staticClass:\"text-sm text-slate-600\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('REPORT.NO_ENOUGH_DATA'))+\"\\n        \")])],1)],1)],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-slate-900 dark:text-slate-100\"},[_c('span',{staticClass:\"text-sm\"},[_vm._v(\"\\n    \"+_vm._s(_vm.metric.NAME)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-end\"},[_c('div',{staticClass:\"font-medium text-xl\"},[_vm._v(\"\\n      \"+_vm._s(_vm.displayMetric(_vm.metric.KEY))+\"\\n    \")]),_vm._v(\" \"),(_vm.metric.trend)?_c('div',{staticClass:\"text-xs ml-4 flex items-center mb-0.5\"},[(_vm.metric.trend < 0)?_c('div',{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-t-[8px] mr-1\",class:_vm.trendColor(_vm.metric.trend, _vm.metric.KEY)}):_c('div',{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-b-[8px] mr-1\",class:_vm.trendColor(_vm.metric.trend, _vm.metric.KEY)}),_vm._v(\" \"),_c('span',{staticClass:\"font-medium\",class:_vm.trendColor(_vm.metric.trend, _vm.metric.KEY)},[_vm._v(\"\\n        \"+_vm._s(_vm.calculateTrend(_vm.metric.KEY))+\"%\\n      \")])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-slate-900 dark:text-slate-100\">\n    <span class=\"text-sm\">\n      {{ metric.NAME }}\n    </span>\n    <div class=\"flex items-end\">\n      <div class=\"font-medium text-xl\">\n        {{ displayMetric(metric.KEY) }}\n      </div>\n      <div v-if=\"metric.trend\" class=\"text-xs ml-4 flex items-center mb-0.5\">\n        <div\n          v-if=\"metric.trend < 0\"\n          class=\"h-0 w-0 border-x-4 medium border-x-transparent border-t-[8px] mr-1\"\n          :class=\"trendColor(metric.trend, metric.KEY)\"\n        />\n        <div\n          v-else\n          class=\"h-0 w-0 border-x-4 medium border-x-transparent border-b-[8px] mr-1\"\n          :class=\"trendColor(metric.trend, metric.KEY)\"\n        />\n        <span class=\"font-medium\" :class=\"trendColor(metric.trend, metric.KEY)\">\n          {{ calculateTrend(metric.KEY) }}%\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport reportMixin from 'dashboard/mixins/reportMixin';\nexport default {\n  mixins: [reportMixin],\n  props: {\n    metric: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  methods: {\n    trendColor(value, key) {\n      if (this.isAverageMetricType(key)) {\n        return value > 0\n          ? 'border-red-500 text-red-500'\n          : 'border-green-500 text-green-500';\n      }\n      return value < 0\n        ? 'border-red-500 text-red-500'\n        : 'border-green-500 text-green-500';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartStats.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartStats.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartStats.vue?vue&type=template&id=4bfd08f4&\"\nimport script from \"./ChartStats.vue?vue&type=script&lang=js&\"\nexport * from \"./ChartStats.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 bg-white dark:bg-slate-800 p-2 border border-slate-100 dark:border-slate-700 rounded-md\"\n  >\n    <div\n      v-for=\"metric in metrics\"\n      :key=\"metric.KEY\"\n      class=\"p-4 rounded-md mb-3\"\n    >\n      <chart-stats :metric=\"metric\" :account-summary-key=\"accountSummaryKey\" />\n      <div class=\"mt-4 h-72\">\n        <woot-loading-state\n          v-if=\"accountReport.isFetching[metric.KEY]\"\n          class=\"text-xs\"\n          :message=\"$t('REPORT.LOADING_CHART')\"\n        />\n        <div v-else class=\"h-72 flex items-center justify-center\">\n          <woot-bar\n            v-if=\"accountReport.data[metric.KEY].length\"\n            :collection=\"getCollection(metric)\"\n            :chart-options=\"getChartOptions(metric)\"\n            class=\"h-72 w-full\"\n          />\n          <span v-else class=\"text-sm text-slate-600\">\n            {{ $t('REPORT.NO_ENOUGH_DATA') }}\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { GROUP_BY_FILTER, METRIC_CHART } from './constants';\nimport fromUnixTime from 'date-fns/fromUnixTime';\nimport format from 'date-fns/format';\nimport { formatTime } from '@chatwoot/utils';\nimport reportMixin from 'dashboard/mixins/reportMixin';\nimport ChartStats from './components/ChartElements/ChartStats.vue';\n\nexport default {\n  components: { ChartStats },\n  mixins: [reportMixin],\n  props: {\n    groupBy: {\n      type: Object,\n      default: () => ({}),\n    },\n    reportKeys: {\n      type: Object,\n      default: () => ({\n        CONVERSATIONS: 'conversations_count',\n        INCOMING_MESSAGES: 'incoming_messages_count',\n        OUTGOING_MESSAGES: 'outgoing_messages_count',\n        FIRST_RESPONSE_TIME: 'avg_first_response_time',\n        RESOLUTION_TIME: 'avg_resolution_time',\n        RESOLUTION_COUNT: 'resolutions_count',\n        REPLY_TIME: 'reply_time',\n      }),\n    },\n  },\n  computed: {\n    metrics() {\n      const reportKeys = Object.keys(this.reportKeys);\n      const infoText = {\n        FIRST_RESPONSE_TIME: this.$t(\n          `REPORT.METRICS.FIRST_RESPONSE_TIME.INFO_TEXT`\n        ),\n        RESOLUTION_TIME: this.$t(`REPORT.METRICS.RESOLUTION_TIME.INFO_TEXT`),\n      };\n      return reportKeys.map(key => ({\n        NAME: this.$t(`REPORT.METRICS.${key}.NAME`),\n        KEY: this.reportKeys[key],\n        DESC: this.$t(`REPORT.METRICS.${key}.DESC`),\n        INFO_TEXT: infoText[key],\n        TOOLTIP_TEXT: `REPORT.METRICS.${key}.TOOLTIP_TEXT`,\n        trend: this.calculateTrend(this.reportKeys[key]),\n      }));\n    },\n  },\n  methods: {\n    getCollection(metric) {\n      if (!this.accountReport.data[metric.KEY]) {\n        return {};\n      }\n      const data = this.accountReport.data[metric.KEY];\n      const labels = data.map(element => {\n        if (this.groupBy?.period === GROUP_BY_FILTER[2].period) {\n          let week_date = new Date(fromUnixTime(element.timestamp));\n          const first_day = week_date.getDate() - week_date.getDay();\n          const last_day = first_day + 6;\n          const week_first_date = new Date(week_date.setDate(first_day));\n          const week_last_date = new Date(week_date.setDate(last_day));\n          return `${format(week_first_date, 'dd-MMM')} - ${format(\n            week_last_date,\n            'dd-MMM'\n          )}`;\n        }\n        if (this.groupBy?.period === GROUP_BY_FILTER[3].period) {\n          return format(fromUnixTime(element.timestamp), 'MMM-yyyy');\n        }\n        if (this.groupBy?.period === GROUP_BY_FILTER[4].period) {\n          return format(fromUnixTime(element.timestamp), 'yyyy');\n        }\n        return format(fromUnixTime(element.timestamp), 'dd-MMM');\n      });\n      const datasets = METRIC_CHART[metric.KEY].datasets.map(dataset => {\n        switch (dataset.type) {\n          case 'bar':\n            return {\n              ...dataset,\n              yAxisID: 'y-left',\n              label: metric.NAME,\n              data: data.map(element => element.value),\n            };\n          case 'line':\n            return {\n              ...dataset,\n              yAxisID: 'y-right',\n              label: this.metrics[0].NAME,\n              data: data.map(element => element.count),\n            };\n          default:\n            return dataset;\n        }\n      });\n      return {\n        labels,\n        datasets,\n      };\n    },\n    getChartOptions(metric) {\n      let tooltips = {};\n      if (this.isAverageMetricType(metric.KEY)) {\n        tooltips.callbacks = {\n          label: tooltipItem => {\n            return this.$t(metric.TOOLTIP_TEXT, {\n              metricValue: formatTime(tooltipItem.yLabel),\n              conversationCount:\n                this.accountReport.data[metric.KEY][tooltipItem.index].count,\n            });\n          },\n        };\n      }\n      return {\n        scales: METRIC_CHART[metric.KEY].scales,\n        tooltips: tooltips,\n      };\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportContainer.vue?vue&type=template&id=0c82c06e&\"\nimport script from \"./ReportContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportContainer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"arrow-download\"},on:{\"click\":_vm.downloadReports}},[_vm._v(\"\\n    \"+_vm._s(_vm.downloadButtonLabel)+\"\\n  \")]),_vm._v(\" \"),(_vm.filterItemsList)?_c('report-filters',{attrs:{\"type\":_vm.type,\"filter-items-list\":_vm.filterItemsList,\"group-by-filter-items-list\":_vm.groupByfilterItemsList,\"selected-group-by-filter\":_vm.selectedGroupByFilter},on:{\"date-range-change\":_vm.onDateRangeChange,\"filter-change\":_vm.onFilterChange,\"group-by-filter-change\":_vm.onGroupByFilterChange,\"business-hours-toggle\":_vm.onBusinessHoursToggle}}):_vm._e(),_vm._v(\" \"),(_vm.filterItemsList.length)?_c('report-container',{attrs:{\"group-by\":_vm.groupBy}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col md:flex-row\"},[_c('div',{staticClass:\"flex items-center w-full flex-col md:flex-row\"},[(_vm.type === 'agent')?_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"placeholder\":_vm.multiselectLabel,\"label\":\"name\",\"track-by\":\"id\",\"options\":_vm.filterItemsList,\"option-height\":24,\"show-labels\":false},on:{\"input\":_vm.changeFilterSelection},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('thumbnail',{attrs:{\"src\":props.option.thumbnail,\"status\":props.option.availability_status,\"username\":props.option.name,\"size\":\"22px\"}}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(_vm._s(props.option.name))])])],1)]}},{key:\"option\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('thumbnail',{attrs:{\"src\":props.option.thumbnail,\"status\":props.option.availability_status,\"username\":props.option.name,\"size\":\"22px\"}}),_vm._v(\" \"),_c('p',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n              \"+_vm._s(props.option.name)+\"\\n            \")])],1)]}}],null,false,4025078773),model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1):(_vm.type === 'label')?_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"placeholder\":_vm.multiselectLabel,\"label\":\"title\",\"track-by\":\"id\",\"options\":_vm.filterItemsList,\"option-height\":24,\"show-labels\":false},on:{\"input\":_vm.changeFilterSelection},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('div',{staticClass:\"flex gap-2 items-center\"},[_c('div',{staticClass:\"rounded-full h-5 w-5\",style:({ backgroundColor: props.option.color })}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n                \"+_vm._s(props.option.title)+\"\\n              \")])])])]}},{key:\"option\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('div',{staticClass:\"rounded-full h-5 w-5 flex-shrink-0 border border-solid border-slate-100 dark:border-slate-800\",style:({ backgroundColor: props.option.color })}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n                \"+_vm._s(props.option.title)+\"\\n              \")])])])]}}]),model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1):_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[(_vm.type === 'inbox')?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n        \")]:(_vm.type === 'team')?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n        \")]:[_vm._v(\"\\n          \"+_vm._s(_vm.$t('FORMS.MULTISELECT.SELECT_ONE'))+\"\\n        \")]],2),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.multiselectLabel,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"options\":_vm.filterItemsList,\"searchable\":false,\"allow-empty\":false},on:{\"input\":_vm.changeFilterSelection},model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.DURATION_FILTER_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"name\",\"label\":\"name\",\"placeholder\":_vm.$t('FORMS.MULTISELECT.SELECT_ONE'),\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"options\":_vm.dateRange,\"searchable\":false,\"allow-empty\":false},on:{\"select\":_vm.changeDateSelection},model:{value:(_vm.currentDateRangeSelection),callback:function ($$v) {_vm.currentDateRangeSelection=$$v},expression:\"currentDateRangeSelection\"}})],1),_vm._v(\" \"),(_vm.isDateRangeSelected)?_c('div',{},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-date-range-picker',{attrs:{\"show-range\":\"\",\"value\":_vm.customDateRange,\"confirm-text\":_vm.$t('REPORT.CUSTOM_DATE_RANGE.CONFIRM'),\"placeholder\":_vm.$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER')},on:{\"change\":_vm.onChange}})],1):_vm._e(),_vm._v(\" \"),(_vm.notLast7Days)?_c('div',{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"text-xs mb-2 font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"groupBy\",\"placeholder\":_vm.$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL'),\"options\":_vm.groupByFilterItemsList,\"allow-empty\":false,\"show-labels\":false},on:{\"input\":_vm.changeGroupByFilterSelection},model:{value:(_vm.currentSelectedGroupByFilter),callback:function ($$v) {_vm.currentSelectedGroupByFilter=$$v},expression:\"currentSelectedGroupByFilter\"}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center my-2\"},[_c('span',{staticClass:\"text-sm mx-2 whitespace-nowrap\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('REPORT.BUSINESS_HOURS'))+\"\\n    \")]),_vm._v(\" \"),_c('span',[_c('woot-switch',{model:{value:(_vm.businessHoursSelected),callback:function ($$v) {_vm.businessHoursSelected=$$v},expression:\"businessHoursSelected\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-col md:flex-row\">\n    <div class=\"flex items-center w-full flex-col md:flex-row\">\n      <div\n        v-if=\"type === 'agent'\"\n        class=\"md:w-[240px] w-full multiselect-wrap--small\"\n      >\n        <p class=\"text-xs mb-2 font-medium\">\n          {{ $t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentSelectedFilter\"\n          :placeholder=\"multiselectLabel\"\n          label=\"name\"\n          track-by=\"id\"\n          :options=\"filterItemsList\"\n          :option-height=\"24\"\n          :show-labels=\"false\"\n          @input=\"changeFilterSelection\"\n        >\n          <template slot=\"singleLabel\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <thumbnail\n                :src=\"props.option.thumbnail\"\n                :status=\"props.option.availability_status\"\n                :username=\"props.option.name\"\n                size=\"22px\"\n              />\n              <span class=\"reports-option__desc\">\n                <span class=\"my-0 text-slate-800 dark:text-slate-75\">{{\n                  props.option.name\n                }}</span>\n              </span>\n            </div>\n          </template>\n          <template slot=\"option\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <thumbnail\n                :src=\"props.option.thumbnail\"\n                :status=\"props.option.availability_status\"\n                :username=\"props.option.name\"\n                size=\"22px\"\n              />\n              <p class=\"my-0 text-slate-800 dark:text-slate-75\">\n                {{ props.option.name }}\n              </p>\n            </div>\n          </template>\n        </multiselect>\n      </div>\n      <div\n        v-else-if=\"type === 'label'\"\n        class=\"md:w-[240px] w-full multiselect-wrap--small\"\n      >\n        <p class=\"text-xs mb-2 font-medium\">\n          {{ $t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentSelectedFilter\"\n          :placeholder=\"multiselectLabel\"\n          label=\"title\"\n          track-by=\"id\"\n          :options=\"filterItemsList\"\n          :option-height=\"24\"\n          :show-labels=\"false\"\n          @input=\"changeFilterSelection\"\n        >\n          <template slot=\"singleLabel\" slot-scope=\"props\">\n            <div class=\"flex gap-2 items-center\">\n              <div\n                :style=\"{ backgroundColor: props.option.color }\"\n                class=\"rounded-full h-5 w-5\"\n              />\n              <span class=\"reports-option__desc\">\n                <span class=\"my-0 text-slate-800 dark:text-slate-75\">\n                  {{ props.option.title }}\n                </span>\n              </span>\n            </div>\n          </template>\n          <template slot=\"option\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <div\n                :style=\"{ backgroundColor: props.option.color }\"\n                class=\"rounded-full h-5 w-5 flex-shrink-0 border border-solid border-slate-100 dark:border-slate-800\"\n              />\n              <span class=\"reports-option__desc\">\n                <span class=\"my-0 text-slate-800 dark:text-slate-75\">\n                  {{ props.option.title }}\n                </span>\n              </span>\n            </div>\n          </template>\n        </multiselect>\n      </div>\n      <div v-else class=\"md:w-[240px] w-full multiselect-wrap--small\">\n        <p class=\"text-xs mb-2 font-medium\">\n          <template v-if=\"type === 'inbox'\">\n            {{ $t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL') }}\n          </template>\n          <template v-else-if=\"type === 'team'\">\n            {{ $t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL') }}\n          </template>\n          <!-- handle default condition because the prop is not limited to the given 4 values -->\n          <template v-else>\n            {{ $t('FORMS.MULTISELECT.SELECT_ONE') }}\n          </template>\n        </p>\n        <multiselect\n          v-model=\"currentSelectedFilter\"\n          track-by=\"id\"\n          label=\"name\"\n          :placeholder=\"multiselectLabel\"\n          selected-label\n          :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n          deselect-label=\"\"\n          :options=\"filterItemsList\"\n          :searchable=\"false\"\n          :allow-empty=\"false\"\n          @input=\"changeFilterSelection\"\n        />\n      </div>\n      <div class=\"mx-1 md:w-[240px] w-full multiselect-wrap--small\">\n        <p class=\"text-xs mb-2 font-medium\">\n          {{ $t('REPORT.DURATION_FILTER_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentDateRangeSelection\"\n          track-by=\"name\"\n          label=\"name\"\n          :placeholder=\"$t('FORMS.MULTISELECT.SELECT_ONE')\"\n          selected-label\n          :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n          deselect-label=\"\"\n          :options=\"dateRange\"\n          :searchable=\"false\"\n          :allow-empty=\"false\"\n          @select=\"changeDateSelection\"\n        />\n      </div>\n      <div v-if=\"isDateRangeSelected\" class=\"\">\n        <p class=\"text-xs mb-2 font-medium\">\n          {{ $t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER') }}\n        </p>\n        <woot-date-range-picker\n          show-range\n          :value=\"customDateRange\"\n          :confirm-text=\"$t('REPORT.CUSTOM_DATE_RANGE.CONFIRM')\"\n          :placeholder=\"$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER')\"\n          @change=\"onChange\"\n        />\n      </div>\n      <div\n        v-if=\"notLast7Days\"\n        class=\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"\n      >\n        <p class=\"text-xs mb-2 font-medium\">\n          {{ $t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentSelectedGroupByFilter\"\n          track-by=\"id\"\n          label=\"groupBy\"\n          :placeholder=\"$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL')\"\n          :options=\"groupByFilterItemsList\"\n          :allow-empty=\"false\"\n          :show-labels=\"false\"\n          @input=\"changeGroupByFilterSelection\"\n        />\n      </div>\n    </div>\n    <div class=\"flex items-center my-2\">\n      <span class=\"text-sm mx-2 whitespace-nowrap\">\n        {{ $t('REPORT.BUSINESS_HOURS') }}\n      </span>\n      <span>\n        <woot-switch v-model=\"businessHoursSelected\" />\n      </span>\n    </div>\n  </div>\n</template>\n<script>\nimport endOfDay from 'date-fns/endOfDay';\nimport getUnixTime from 'date-fns/getUnixTime';\nimport startOfDay from 'date-fns/startOfDay';\nimport subDays from 'date-fns/subDays';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport WootDateRangePicker from 'dashboard/components/ui/DateRangePicker.vue';\n\nimport { GROUP_BY_FILTER } from '../constants';\nconst CUSTOM_DATE_RANGE_ID = 5;\n\nexport default {\n  components: {\n    WootDateRangePicker,\n    Thumbnail,\n  },\n  props: {\n    filterItemsList: {\n      type: Array,\n      default: () => [],\n    },\n    groupByFilterItemsList: {\n      type: Array,\n      default: () => [],\n    },\n    type: {\n      type: String,\n      default: 'agent',\n    },\n    selectedGroupByFilter: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      currentSelectedFilter: null,\n      currentDateRangeSelection: this.$t('REPORT.DATE_RANGE')[0],\n      dateRange: this.$t('REPORT.DATE_RANGE'),\n      customDateRange: [new Date(), new Date()],\n      currentSelectedGroupByFilter: null,\n      businessHoursSelected: false,\n    };\n  },\n  computed: {\n    isDateRangeSelected() {\n      return this.currentDateRangeSelection.id === CUSTOM_DATE_RANGE_ID;\n    },\n    to() {\n      if (this.isDateRangeSelected) {\n        return this.toCustomDate(this.customDateRange[1]);\n      }\n      return this.toCustomDate(new Date());\n    },\n    from() {\n      if (this.isDateRangeSelected) {\n        return this.fromCustomDate(this.customDateRange[0]);\n      }\n      const dateRange = {\n        0: 6,\n        1: 29,\n        2: 89,\n        3: 179,\n        4: 364,\n      };\n      const diff = dateRange[this.currentDateRangeSelection.id];\n      const fromDate = subDays(new Date(), diff);\n      return this.fromCustomDate(fromDate);\n    },\n    multiselectLabel() {\n      const typeLabels = {\n        agent: this.$t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL'),\n        label: this.$t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL'),\n        inbox: this.$t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL'),\n        team: this.$t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL'),\n      };\n      return typeLabels[this.type] || this.$t('FORMS.MULTISELECT.SELECT_ONE');\n    },\n    groupBy() {\n      if (this.isDateRangeSelected) {\n        return GROUP_BY_FILTER[4].period;\n      }\n      const groupRange = {\n        0: GROUP_BY_FILTER[1].period,\n        1: GROUP_BY_FILTER[2].period,\n        2: GROUP_BY_FILTER[3].period,\n        3: GROUP_BY_FILTER[3].period,\n        4: GROUP_BY_FILTER[4].period,\n      };\n      return groupRange[this.currentDateRangeSelection.id];\n    },\n    notLast7Days() {\n      return this.groupBy !== GROUP_BY_FILTER[1].period;\n    },\n  },\n  watch: {\n    filterItemsList(val) {\n      this.currentSelectedFilter = val[0];\n      this.changeFilterSelection();\n    },\n    groupByFilterItemsList() {\n      this.currentSelectedGroupByFilter = this.selectedGroupByFilter;\n    },\n    businessHoursSelected() {\n      this.$emit('business-hours-toggle', this.businessHoursSelected);\n    },\n  },\n  mounted() {\n    this.onDateRangeChange();\n  },\n  methods: {\n    onDateRangeChange() {\n      this.$emit('date-range-change', {\n        from: this.from,\n        to: this.to,\n        groupBy: this.groupBy,\n      });\n    },\n    fromCustomDate(date) {\n      return getUnixTime(startOfDay(date));\n    },\n    toCustomDate(date) {\n      return getUnixTime(endOfDay(date));\n    },\n    changeDateSelection(selectedRange) {\n      this.currentDateRangeSelection = selectedRange;\n      this.onDateRangeChange();\n    },\n    changeFilterSelection() {\n      this.$emit('filter-change', this.currentSelectedFilter);\n    },\n    onChange(value) {\n      this.customDateRange = value;\n      this.onDateRangeChange();\n    },\n    changeGroupByFilterSelection() {\n      this.$emit('group-by-filter-change', this.currentSelectedGroupByFilter);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportFilters.vue?vue&type=template&id=3be4c92e&\"\nimport script from \"./ReportFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportFilters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex-1 overflow-auto p-4\">\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"arrow-download\"\n      @click=\"downloadReports\"\n    >\n      {{ downloadButtonLabel }}\n    </woot-button>\n    <report-filters\n      v-if=\"filterItemsList\"\n      :type=\"type\"\n      :filter-items-list=\"filterItemsList\"\n      :group-by-filter-items-list=\"groupByfilterItemsList\"\n      :selected-group-by-filter=\"selectedGroupByFilter\"\n      @date-range-change=\"onDateRangeChange\"\n      @filter-change=\"onFilterChange\"\n      @group-by-filter-change=\"onGroupByFilterChange\"\n      @business-hours-toggle=\"onBusinessHoursToggle\"\n    />\n    <report-container v-if=\"filterItemsList.length\" :group-by=\"groupBy\" />\n  </div>\n</template>\n\n<script>\nimport ReportFilters from './ReportFilters.vue';\nimport ReportContainer from '../ReportContainer.vue';\nimport { GROUP_BY_FILTER } from '../constants';\nimport reportMixin from '../../../../../mixins/reportMixin';\nimport { generateFileName } from '../../../../../helper/downloadHelper';\nimport { REPORTS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\n\nconst REPORTS_KEYS = {\n  CONVERSATIONS: 'conversations_count',\n  INCOMING_MESSAGES: 'incoming_messages_count',\n  OUTGOING_MESSAGES: 'outgoing_messages_count',\n  FIRST_RESPONSE_TIME: 'avg_first_response_time',\n  RESOLUTION_TIME: 'avg_resolution_time',\n  RESOLUTION_COUNT: 'resolutions_count',\n  REPLY_TIME: 'reply_time',\n};\n\nexport default {\n  components: {\n    ReportFilters,\n    ReportContainer,\n  },\n  mixins: [reportMixin],\n  props: {\n    type: {\n      type: String,\n      default: 'account',\n    },\n    getterKey: {\n      type: String,\n      default: '',\n    },\n    actionKey: {\n      type: String,\n      default: '',\n    },\n    downloadButtonLabel: {\n      type: String,\n      default: 'Download Reports',\n    },\n  },\n  data() {\n    return {\n      from: 0,\n      to: 0,\n      selectedFilter: null,\n      groupBy: GROUP_BY_FILTER[1],\n      groupByfilterItemsList: this.$t('REPORT.GROUP_BY_DAY_OPTIONS'),\n      selectedGroupByFilter: null,\n      businessHours: false,\n    };\n  },\n  computed: {\n    filterItemsList() {\n      return this.$store.getters[this.getterKey] || [];\n    },\n  },\n  mounted() {\n    this.$store.dispatch(this.actionKey);\n  },\n  methods: {\n    fetchAllData() {\n      if (this.selectedFilter) {\n        const { from, to, groupBy, businessHours } = this;\n        this.$store.dispatch('fetchAccountSummary', {\n          from,\n          to,\n          type: this.type,\n          id: this.selectedFilter.id,\n          groupBy: groupBy.period,\n          businessHours,\n        });\n        this.fetchChartData();\n      }\n    },\n    fetchChartData() {\n      [\n        'CONVERSATIONS',\n        'INCOMING_MESSAGES',\n        'OUTGOING_MESSAGES',\n        'FIRST_RESPONSE_TIME',\n        'RESOLUTION_TIME',\n        'RESOLUTION_COUNT',\n        'REPLY_TIME',\n      ].forEach(async key => {\n        try {\n          const { from, to, groupBy, businessHours } = this;\n          this.$store.dispatch('fetchAccountReport', {\n            metric: REPORTS_KEYS[key],\n            from,\n            to,\n            type: this.type,\n            id: this.selectedFilter.id,\n            groupBy: groupBy.period,\n            businessHours,\n          });\n        } catch {\n          this.showAlert(this.$t('REPORT.DATA_FETCHING_FAILED'));\n        }\n      });\n    },\n    downloadReports() {\n      const { from, to, type, businessHours } = this;\n      const dispatchMethods = {\n        agent: 'downloadAgentReports',\n        label: 'downloadLabelReports',\n        inbox: 'downloadInboxReports',\n        team: 'downloadTeamReports',\n      };\n      if (dispatchMethods[type]) {\n        const fileName = generateFileName({ type, to, businessHours });\n        const params = { from, to, fileName, businessHours };\n        this.$store.dispatch(dispatchMethods[type], params);\n      }\n    },\n    onDateRangeChange({ from, to, groupBy }) {\n      // do not track filter change on inital load\n      if (this.from !== 0 && this.to !== 0) {\n        this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n          filterType: 'date',\n          reportType: this.type,\n        });\n      }\n\n      this.from = from;\n      this.to = to;\n      this.groupByfilterItemsList = this.fetchFilterItems(groupBy);\n      const filterItems = this.groupByfilterItemsList.filter(\n        item => item.id === this.groupBy.id\n      );\n      if (filterItems.length > 0) {\n        this.selectedGroupByFilter = filterItems[0];\n      } else {\n        this.selectedGroupByFilter = this.groupByfilterItemsList[0];\n        this.groupBy = GROUP_BY_FILTER[this.selectedGroupByFilter.id];\n      }\n      this.fetchAllData();\n    },\n    onFilterChange(payload) {\n      if (payload) {\n        this.selectedFilter = payload;\n        this.fetchAllData();\n      }\n    },\n    onGroupByFilterChange(payload) {\n      this.groupBy = GROUP_BY_FILTER[payload.id];\n      this.fetchAllData();\n\n      this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n        filterType: 'groupBy',\n        filterValue: this.groupBy?.period,\n        reportType: this.type,\n      });\n    },\n    fetchFilterItems(groupBy) {\n      switch (groupBy) {\n        case GROUP_BY_FILTER[2].period:\n          return this.$t('REPORT.GROUP_BY_WEEK_OPTIONS');\n        case GROUP_BY_FILTER[3].period:\n          return this.$t('REPORT.GROUP_BY_MONTH_OPTIONS');\n        case GROUP_BY_FILTER[4].period:\n          return this.$t('REPORT.GROUP_BY_YEAR_OPTIONS');\n        default:\n          return this.$t('REPORT.GROUP_BY_DAY_OPTIONS');\n      }\n    },\n    onBusinessHoursToggle(value) {\n      this.businessHours = value;\n      this.fetchAllData();\n\n      this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n        filterType: 'businessHours',\n        filterValue: value,\n        reportType: this.type,\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WootReports.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WootReports.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WootReports.vue?vue&type=template&id=4d4a3744&\"\nimport script from \"./WootReports.vue?vue&type=script&lang=js&\"\nexport * from \"./WootReports.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"date-picker\"},[_c('date-picker',{attrs:{\"range\":true,\"confirm\":true,\"clearable\":false,\"editable\":false,\"confirm-text\":_vm.confirmText,\"placeholder\":_vm.placeholder,\"value\":_vm.value},on:{\"change\":_vm.handleChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"date-picker\">\n    <date-picker\n      :range=\"true\"\n      :confirm=\"true\"\n      :clearable=\"false\"\n      :editable=\"false\"\n      :confirm-text=\"confirmText\"\n      :placeholder=\"placeholder\"\n      :value=\"value\"\n      @change=\"handleChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport DatePicker from 'vue2-datepicker';\nexport default {\n  components: { DatePicker },\n  props: {\n    confirmText: {\n      type: String,\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    value: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  methods: {\n    handleChange(value) {\n      this.$emit('change', value);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateRangePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateRangePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DateRangePicker.vue?vue&type=template&id=292698aa&\"\nimport script from \"./DateRangePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DateRangePicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}