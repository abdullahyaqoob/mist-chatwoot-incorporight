{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1915:function(t,e,n){var r=n(38),i=n(18),o=n(111),a=n(209),s=n(42).f,c=n(98).f,u=n(208),l=n(179),f=n(191),p=n(46),h=n(24),g=n(64).enforce,d=n(192),m=n(20)(\"match\"),v=i.RegExp,b=v.prototype,T=/a/g,I=/a/g,_=new v(T)!==T,N=f.UNSUPPORTED_Y;if(r&&o(\"RegExp\",!_||N||h((function(){return I[m]=!1,v(T)!=T||v(I)==I||\"/a/i\"!=v(T,\"i\")})))){for(var w=function(t,e){var n,r=this instanceof w,i=u(t),o=void 0===e;if(!r&&i&&t.constructor===w&&o)return t;_?i&&!o&&(t=t.source):t instanceof w&&(o&&(e=l.call(t)),t=t.source),N&&(n=!!e&&e.indexOf(\"y\")>-1)&&(e=e.replace(/y/g,\"\"));var s=a(_?new v(t,e):v(t,e),r?this:b,w);N&&n&&(g(s).sticky=!0);return s},y=function(t){t in w||s(w,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},S=c(v),L=0;S.length>L;)y(S[L++]);b.constructor=w,w.prototype=b,p(i,\"RegExp\",w)}d(\"RegExp\")},1916:function(t,e,n){\"use strict\";n(69),n(52),n(70),n(1915),n(159),n(22),n(10),n(23),n(25),n(207),n(12);var r=n(1918),i=n.n(r),o=(n(368),/mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(t){t.children.forEach((function(t){\"image\"===t.type&&function(t){var e=t.attrGet(\"src\");if(e){var n=new URL(e).searchParams.get(\"cw_image_height\");n&&t.attrSet(\"style\",\"height: \".concat(n,\";\"))}}(t)}))},u=n(1809)({html:!1,xhtmlOut:!0,breaks:!0,langPrefix:\"language-\",linkify:!0,typographer:!0,quotes:\"\\u201c\\u201d\\u2018\\u2019\",maxNesting:20}).use((function(t){t.renderer.rules.mention=function(t,e){return'<span class=\"prosemirror-mention-node\">'.concat(t[e].content,\"</span>\")},t.inline.ruler.before(\"link\",\"mention\",(function(t,e){var n,r,i,a,s,c,u=\"\",l=t.posMax;return 91===t.src.charCodeAt(t.pos)&&(i=t.pos+1,!((r=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)&&(n=t.src.slice(i,r),(a=r+1)<l&&40===t.src.charCodeAt(a)&&(a+=1,(s=t.md.helpers.parseLinkDestination(t.src,a,t.posMax)).ok&&(u=t.md.normalizeLink(s.str),t.md.validateLink(u)?a=s.pos:u=\"\"),a+=1),!!u.match(new RegExp(o))&&(e||(t.pos=i,t.posMax=r,(c=t.push(\"mention\",\"\")).href=u,c.content=n),t.pos=a,t.posMax=l,!0)))}))})).use((function(t){t.core.ruler.after(\"inline\",\"add-image-height\",(function(t){t.tokens.forEach((function(t){\"inline\"===t.type&&c(t)}))}))})).use(i.a,{attrs:{class:\"link\",rel:\"noreferrer noopener nofollow\",target:\"_blank\"}}),l=/(^|[^@\\w])@(\\w{1,15})\\b/g,f=/(^|\\s)#(\\w+)/g,p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(this,t),this.message=e||\"\",this.isAPrivateNote=r,this.isATweet=n}var e,n,r;return e=t,(n=[{key:\"formatMessage\",value:function(){var t=this.message;return this.isATweet&&!this.isAPrivateNote&&(t=(t=t.replace(l,\"$1[@$2](http://twitter.com/$2)\")).replace(f,\"$1[#$2](https://twitter.com/hashtag/$2)\")),u.render(t)}},{key:\"formattedMessage\",get:function(){return this.formatMessage()}},{key:\"plainText\",get:function(){return(new DOMParser).parseFromString(this.formattedMessage,\"text/html\").body.textContent||\"\"}}])&&s(e.prototype,n),r&&s(e,r),t}(),h=p;e.a={methods:{formatMessage:function(t,e,n){return new h(t,e,n).formattedMessage},getPlainText:function(t,e){return new h(t,e).plainText},truncateMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return t.length<100?t:\"\".concat(t.slice(0,97),\"...\")},highlightContent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",r=this.getPlainText(t),i=e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");return r.replace(new RegExp(\"(\".concat(i,\")\"),\"ig\"),'<span class=\"'.concat(n,'\">$1</span>'))}}}},1918:function(t,e,n){\"use strict\";function r(t,e){e=e?Array.isArray(e)?e:[e]:[],Object.freeze(e);var n=t.renderer.rules.link_open||this.defaultRender;t.renderer.rules.link_open=function(t,r,i,o,a){var s=function(t,e){var n,r,i=t.attrs[t.attrIndex(\"href\")][1];for(n=0;n<e.length;++n){if(\"function\"!==typeof(r=e[n]).matcher)return r;if(r.matcher(i,r))return r}}(t[r],e),c=s&&s.attrs;return c&&function(t,e,n){Object.keys(n).forEach((function(r){var i,o=n[r];\"className\"===r&&(r=\"class\"),(i=e[t].attrIndex(r))<0?e[t].attrPush([r,o]):e[t].attrs[i][1]=o}))}(r,t,c),n(t,r,i,o,a)}}r.defaultRender=function(t,e,n,r,i){return i.renderToken(t,e,n)},t.exports=r},2993:function(t,e,n){},3129:function(t,e,n){\"use strict\";n(2993)},3364:function(t,e,n){\"use strict\";n.r(e);n(13),n(9),n(11),n(15),n(12),n(16),n(10),n(28),n(36);var r=n(1916),i=n(32),o=n(79),a=n(314),s={props:{title:{type:String,default:\"\"},description:{type:String,default:\"\"},buttonLabel:{type:String,default:\"\"},buttonIcon:{type:String,default:\"edit\"}}},c=n(8);function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={components:{BillingItem:Object(c.a)(s,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"manage-subscription\"},[e(\"div\",[e(\"h6\",[t._v(t._s(t.title))]),t._v(\" \"),e(\"p\",{staticClass:\"manage-subscription--description\"},[t._v(\"\\n      \"+t._s(t.description)+\"\\n    \")])]),t._v(\" \"),e(\"div\",[e(\"woot-button\",{attrs:{variant:\"smooth\",icon:t.buttonIcon},on:{click:function(e){return t.$emit(\"click\")}}},[t._v(\"\\n      \"+t._s(t.buttonLabel)+\"\\n    \")])],1)])}),[],!1,null,null,null).exports},mixins:[a.a,o.a,r.a],computed:f(f({},Object(i.mapGetters)({getAccount:\"accounts/getAccount\",uiFlags:\"accounts/getUIFlags\"})),{},{currentAccount:function(){return this.getAccount(this.accountId)||{}},customAttributes:function(){return this.currentAccount.custom_attributes||{}},hasABillingPlan:function(){return!!this.planName},planName:function(){return this.customAttributes.plan_name||\"\"},subscribedQuantity:function(){return this.customAttributes.subscribed_quantity||0}}),mounted:function(){this.fetchAccountDetails()},methods:{fetchAccountDetails:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.hasABillingPlan||e.$store.dispatch(\"accounts/subscription\");case 1:case\"end\":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,\"next\",t)}function s(t){u(o,r,i,a,s,\"throw\",t)}a(void 0)}))})()},onClickBillingPortal:function(){this.$store.dispatch(\"accounts/checkout\")},onToggleChatWindow:function(){window.$chatwoot&&window.$chatwoot.toggle()}}},g=h,d=(n(3129),Object(c.a)(g,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"overflow-auto flex-1 p-6 dark:bg-slate-900\"},[t.uiFlags.isFetchingItem?e(\"woot-loading-state\"):t.hasABillingPlan?e(\"div\",{staticClass:\"w-full\"},[e(\"div\",{staticClass:\"current-plan--details\"},[e(\"h6\",[t._v(t._s(t.$t(\"BILLING_SETTINGS.CURRENT_PLAN.TITLE\")))]),t._v(\" \"),e(\"div\",{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:t.formatMessage(t.$t(\"BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE\",{plan:t.planName,quantity:t.subscribedQuantity})),expression:\"\\n          formatMessage(\\n            $t('BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE', {\\n              plan: planName,\\n              quantity: subscribedQuantity,\\n            })\\n          )\\n        \"}]})]),t._v(\" \"),e(\"billing-item\",{attrs:{title:t.$t(\"BILLING_SETTINGS.MANAGE_SUBSCRIPTION.TITLE\"),description:t.$t(\"BILLING_SETTINGS.MANAGE_SUBSCRIPTION.DESCRIPTION\"),\"button-label\":t.$t(\"BILLING_SETTINGS.MANAGE_SUBSCRIPTION.BUTTON_TXT\")},on:{click:t.onClickBillingPortal}}),t._v(\" \"),e(\"billing-item\",{attrs:{title:t.$t(\"BILLING_SETTINGS.CHAT_WITH_US.TITLE\"),description:t.$t(\"BILLING_SETTINGS.CHAT_WITH_US.DESCRIPTION\"),\"button-label\":t.$t(\"BILLING_SETTINGS.CHAT_WITH_US.BUTTON_TXT\"),\"button-icon\":\"chat-multiple\"},on:{click:t.onToggleChatWindow}})],1):e(\"div\",[e(\"p\",[t._v(t._s(t.$t(\"BILLING_SETTINGS.NO_BILLING_USER\")))])])],1)}),[],!1,null,null,null));e.default=d.exports}}]);","name":"js/68-10896fbd67bde1ff87d1.chunk.js","map":{"version":3,"names":["window","push","module","exports","__webpack_require__","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","enforceInternalState","enforce","setSpecies","MATCH","wellKnownSymbol","NativeRegExp","RegExp","RegExpPrototype","prototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","this","patternIsRegExp","flagsAreUndefined","undefined","constructor","source","call","indexOf","replace","result","proxy","key","configurable","get","set","it","keys","index","length","__webpack_exports__","markdown_it_link_attributes","markdown_it_link_attributes_default","n","USER_MENTIONS_REGEX","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","writable","Object","processInlineToken","blockToken","children","forEach","inlineToken","type","imgSrc","attrGet","height","URL","searchParams","attrSet","concat","setImageHeight","md","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","mention","tokens","idx","content","inline","ruler","before","state","silent","label","labelEnd","labelStart","pos","res","token","href","max","posMax","src","charCodeAt","helpers","parseLinkLabel","slice","parseLinkDestination","ok","normalizeLink","str","validateLink","match","core","after","a","attrs","class","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","message","isATweet","arguments","isAPrivateNote","protoProps","staticProps","value","updatedMessage","render","formatMessage","DOMParser","parseFromString","formattedMessage","body","textContent","helpers_MessageFormatter","methods","getPlainText","plainText","truncateMessage","description","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm","markdownitLinkAttributes","configs","Array","isArray","freeze","defaultRender","link_open","options","env","self","config","link","attrIndex","matcher","findFirstMatchingConfig","attributes","attr","attrPush","applyAttributes","renderToken","r","messageFormatterMixin","vuex","alertMixin","account","components_BillingItemvue_type_script_lang_js_","title","String","default","buttonLabel","buttonIcon","componentNormalizer","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","Indexvue_type_script_lang_js_","components","BillingItem","_vm","_c","_self","staticClass","_v","_s","variant","icon","on","click","$event","$emit","mixins","computed","getAccount","uiFlags","currentAccount","accountId","customAttributes","custom_attributes","hasABillingPlan","planName","plan_name","subscribedQuantity","subscribed_quantity","mounted","fetchAccountDetails","fn","_this","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$store","dispatch","stop","args","err","onClickBillingPortal","onToggleChatWindow","$chatwoot","toggle","billing_Indexvue_type_script_lang_js_","Index_component","$t","directives","name","rawName","plan","quantity","expression"],"sources":["js/68-10896fbd67bde1ff87d1.chunk.js"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[68],{\n\n/***/ 1915:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DESCRIPTORS = __webpack_require__(38);\nvar global = __webpack_require__(18);\nvar isForced = __webpack_require__(111);\nvar inheritIfRequired = __webpack_require__(209);\nvar defineProperty = __webpack_require__(42).f;\nvar getOwnPropertyNames = __webpack_require__(98).f;\nvar isRegExp = __webpack_require__(208);\nvar getFlags = __webpack_require__(179);\nvar stickyHelpers = __webpack_require__(191);\nvar redefine = __webpack_require__(46);\nvar fails = __webpack_require__(24);\nvar enforceInternalState = __webpack_require__(64).enforce;\nvar setSpecies = __webpack_require__(192);\nvar wellKnownSymbol = __webpack_require__(20);\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) {\n      var state = enforceInternalState(result);\n      state.sticky = true;\n    }\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n\n\n/***/ }),\n\n/***/ 1916:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.constructor.js\nvar es_regexp_constructor = __webpack_require__(1915);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(207);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/markdown-it-link-attributes/index.js\nvar markdown_it_link_attributes = __webpack_require__(1918);\nvar markdown_it_link_attributes_default = /*#__PURE__*/__webpack_require__.n(markdown_it_link_attributes);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__(368);\n\n// CONCATENATED MODULE: ./app/javascript/shared/helpers/markdownIt/link.js\n// Process [@mention](mention://user/1/Pranav)\nvar USER_MENTIONS_REGEX=/mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;var buildMentionTokens=function buildMentionTokens(){return function(state,silent){var label;var labelEnd;var labelStart;var pos;var res;var token;var href='';var max=state.posMax;if(state.src.charCodeAt(state.pos)!==0x5b/* [ */){return false;}labelStart=state.pos+1;labelEnd=state.md.helpers.parseLinkLabel(state,state.pos,true);// parser failed to find ']', so it's not a valid link\nif(labelEnd<0){return false;}label=state.src.slice(labelStart,labelEnd);pos=labelEnd+1;if(pos<max&&state.src.charCodeAt(pos)===0x28/* ( */){pos+=1;res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax);if(res.ok){href=state.md.normalizeLink(res.str);if(state.md.validateLink(href)){pos=res.pos;}else{href='';}}pos+=1;}if(!href.match(new RegExp(USER_MENTIONS_REGEX))){return false;}if(!silent){state.pos=labelStart;state.posMax=labelEnd;token=state.push('mention','');token.href=href;token.content=label;}state.pos=pos;state.posMax=max;return true;};};var renderMentions=function renderMentions(){return function(tokens,idx){return\"<span class=\\\"prosemirror-mention-node\\\">\".concat(tokens[idx].content,\"</span>\");};};function mentionPlugin(md){md.renderer.rules.mention=renderMentions(md);md.inline.ruler.before('link','mention',buildMentionTokens(md));}\n// CONCATENATED MODULE: ./app/javascript/shared/helpers/MessageFormatter.js\nfunction _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}var setImageHeight=function setImageHeight(inlineToken){var imgSrc=inlineToken.attrGet('src');if(!imgSrc)return;var url=new URL(imgSrc);var height=url.searchParams.get('cw_image_height');if(!height)return;inlineToken.attrSet('style',\"height: \".concat(height,\";\"));};var processInlineToken=function processInlineToken(blockToken){blockToken.children.forEach(function(inlineToken){if(inlineToken.type==='image'){setImageHeight(inlineToken);}});};var imgResizeManager=function imgResizeManager(md){// Custom rule for image resize in markdown\n// If the image url has a query param cw_image_height, then add a style attribute to the image\nmd.core.ruler.after('inline','add-image-height',function(state){state.tokens.forEach(function(blockToken){if(blockToken.type==='inline'){processInlineToken(blockToken);}});});};var md=__webpack_require__(1809)({html:false,xhtmlOut:true,breaks:true,langPrefix:'language-',linkify:true,typographer:true,quotes:\"\\u201C\\u201D\\u2018\\u2019\",maxNesting:20}).use(mentionPlugin).use(imgResizeManager).use(markdown_it_link_attributes_default.a,{attrs:{class:'link',rel:'noreferrer noopener nofollow',target:'_blank'}});var TWITTER_USERNAME_REGEX=/(^|[^@\\w])@(\\w{1,15})\\b/g;var TWITTER_USERNAME_REPLACEMENT='$1[@$2](http://twitter.com/$2)';var TWITTER_HASH_REGEX=/(^|\\s)#(\\w+)/g;var TWITTER_HASH_REPLACEMENT='$1[#$2](https://twitter.com/hashtag/$2)';var MessageFormatter=/*#__PURE__*/function(){function MessageFormatter(message){var isATweet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var isAPrivateNote=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_classCallCheck(this,MessageFormatter);this.message=message||'';this.isAPrivateNote=isAPrivateNote;this.isATweet=isATweet;}_createClass(MessageFormatter,[{key:\"formatMessage\",value:function formatMessage(){var updatedMessage=this.message;if(this.isATweet&&!this.isAPrivateNote){updatedMessage=updatedMessage.replace(TWITTER_USERNAME_REGEX,TWITTER_USERNAME_REPLACEMENT);updatedMessage=updatedMessage.replace(TWITTER_HASH_REGEX,TWITTER_HASH_REPLACEMENT);}return md.render(updatedMessage);}},{key:\"formattedMessage\",get:function get(){return this.formatMessage();}},{key:\"plainText\",get:function get(){var strippedOutHtml=new DOMParser().parseFromString(this.formattedMessage,'text/html');return strippedOutHtml.body.textContent||'';}}]);return MessageFormatter;}();/* harmony default export */ var helpers_MessageFormatter = (MessageFormatter);\n// CONCATENATED MODULE: ./app/javascript/shared/mixins/messageFormatterMixin.js\n/* harmony default export */ var messageFormatterMixin = __webpack_exports__[\"a\"] = ({methods:{formatMessage:function formatMessage(message,isATweet,isAPrivateNote){var messageFormatter=new helpers_MessageFormatter(message,isATweet,isAPrivateNote);return messageFormatter.formattedMessage;},getPlainText:function getPlainText(message,isATweet){var messageFormatter=new helpers_MessageFormatter(message,isATweet);return messageFormatter.plainText;},truncateMessage:function truncateMessage(){var description=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';if(description.length<100){return description;}return\"\".concat(description.slice(0,97),\"...\");},highlightContent:function highlightContent(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var searchTerm=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var highlightClass=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var plainTextContent=this.getPlainText(content);// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\nvar escapedSearchTerm=searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&');return plainTextContent.replace(new RegExp(\"(\".concat(escapedSearchTerm,\")\"),'ig'),\"<span class=\\\"\".concat(highlightClass,\"\\\">$1</span>\"));}}});\n\n/***/ }),\n\n/***/ 1918:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n // Adapted from https://github.com/markdown-it/markdown-it/blob/fbc6b0fed563ba7c00557ab638fd19752f8e759d/docs/architecture.md\n\nfunction findFirstMatchingConfig(link, configs) {\n  var i, config;\n  var href = link.attrs[link.attrIndex(\"href\")][1];\n\n  for (i = 0; i < configs.length; ++i) {\n    config = configs[i]; // If there is a matcher function defined then call it\n    // Matcher Function should return a boolean indicating\n    // whether or not it matched. If it matched, use that\n    // configuration, otherwise, try the next one.\n\n    if (typeof config.matcher === \"function\") {\n      if (config.matcher(href, config)) {\n        return config;\n      } else {\n        continue;\n      }\n    }\n\n    return config;\n  }\n}\n\nfunction applyAttributes(idx, tokens, attributes) {\n  Object.keys(attributes).forEach(function (attr) {\n    var attrIndex;\n    var value = attributes[attr];\n\n    if (attr === \"className\") {\n      // when dealing with applying classes\n      // programatically, some programmers\n      // may prefer to use the className syntax\n      attr = \"class\";\n    }\n\n    attrIndex = tokens[idx].attrIndex(attr);\n\n    if (attrIndex < 0) {\n      // attr doesn't exist, add new attribute\n      tokens[idx].attrPush([attr, value]);\n    } else {\n      // attr already exists, overwrite it\n      tokens[idx].attrs[attrIndex][1] = value; // replace value of existing attr\n    }\n  });\n}\n\nfunction markdownitLinkAttributes(md, configs) {\n  if (!configs) {\n    configs = [];\n  } else {\n    configs = Array.isArray(configs) ? configs : [configs];\n  }\n\n  Object.freeze(configs);\n  var defaultRender = md.renderer.rules.link_open || this.defaultRender;\n\n  md.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    var config = findFirstMatchingConfig(tokens[idx], configs);\n    var attributes = config && config.attrs;\n\n    if (attributes) {\n      applyAttributes(idx, tokens, attributes);\n    } // pass token to default renderer.\n\n\n    return defaultRender(tokens, idx, options, env, self);\n  };\n}\n\nmarkdownitLinkAttributes.defaultRender = function (tokens, idx, options, env, self) {\n  return self.renderToken(tokens, idx, options);\n};\n\nmodule.exports = markdownitLinkAttributes;\n\n/***/ }),\n\n/***/ 2993:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 3129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_74a809d5_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2993);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_74a809d5_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_74a809d5_prod_lang_scss___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ 3364:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=template&id=74a809d5&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"overflow-auto flex-1 p-6 dark:bg-slate-900\"},[(_vm.uiFlags.isFetchingItem)?_c('woot-loading-state'):(!_vm.hasABillingPlan)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.$t('BILLING_SETTINGS.NO_BILLING_USER')))])]):_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"current-plan--details\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('BILLING_SETTINGS.CURRENT_PLAN.TITLE')))]),_vm._v(\" \"),_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.formatMessage(\n            _vm.$t('BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE', {\n              plan: _vm.planName,\n              quantity: _vm.subscribedQuantity,\n            })\n          )\n        ),expression:\"\\n          formatMessage(\\n            $t('BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE', {\\n              plan: planName,\\n              quantity: subscribedQuantity,\\n            })\\n          )\\n        \"}]})]),_vm._v(\" \"),_c('billing-item',{attrs:{\"title\":_vm.$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.TITLE'),\"description\":_vm.$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.DESCRIPTION'),\"button-label\":_vm.$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.BUTTON_TXT')},on:{\"click\":_vm.onClickBillingPortal}}),_vm._v(\" \"),_c('billing-item',{attrs:{\"title\":_vm.$t('BILLING_SETTINGS.CHAT_WITH_US.TITLE'),\"description\":_vm.$t('BILLING_SETTINGS.CHAT_WITH_US.DESCRIPTION'),\"button-label\":_vm.$t('BILLING_SETTINGS.CHAT_WITH_US.BUTTON_TXT'),\"button-icon\":\"chat-multiple\"},on:{\"click\":_vm.onToggleChatWindow}})],1)],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=template&id=74a809d5&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/messageFormatterMixin.js + 2 modules\nvar messageFormatterMixin = __webpack_require__(1916);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/mixins/account.js\nvar account = __webpack_require__(314);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue?vue&type=template&id=3db825be&\nvar BillingItemvue_type_template_id_3db825be_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage-subscription\"},[_c('div',[_c('h6',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('p',{staticClass:\"manage-subscription--description\"},[_vm._v(\"\\n      \"+_vm._s(_vm.description)+\"\\n    \")])]),_vm._v(\" \"),_c('div',[_c('woot-button',{attrs:{\"variant\":\"smooth\",\"icon\":_vm.buttonIcon},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\"\\n      \"+_vm._s(_vm.buttonLabel)+\"\\n    \")])],1)])\n}\nvar BillingItemvue_type_template_id_3db825be_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue?vue&type=template&id=3db825be&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue?vue&type=script&lang=js&\n/* harmony default export */ var BillingItemvue_type_script_lang_js_ = ({props:{title:{type:String,default:''},description:{type:String,default:''},buttonLabel:{type:String,default:''},buttonIcon:{type:String,default:'edit'}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_BillingItemvue_type_script_lang_js_ = (BillingItemvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_BillingItemvue_type_script_lang_js_,\n  BillingItemvue_type_template_id_3db825be_render,\n  BillingItemvue_type_template_id_3db825be_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var BillingItem = (component.exports);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}// sdds\n/* harmony default export */ var Indexvue_type_script_lang_js_ = ({components:{BillingItem:BillingItem},mixins:[account[\"a\" /* default */],alertMixin[\"a\" /* default */],messageFormatterMixin[\"a\" /* default */]],computed:_objectSpread(_objectSpread({},Object(vuex[\"mapGetters\"])({getAccount:'accounts/getAccount',uiFlags:'accounts/getUIFlags'})),{},{currentAccount:function currentAccount(){return this.getAccount(this.accountId)||{};},customAttributes:function customAttributes(){return this.currentAccount.custom_attributes||{};},hasABillingPlan:function hasABillingPlan(){return!!this.planName;},planName:function planName(){return this.customAttributes.plan_name||'';},subscribedQuantity:function subscribedQuantity(){return this.customAttributes.subscribed_quantity||0;}}),mounted:function mounted(){this.fetchAccountDetails();},methods:{fetchAccountDetails:function fetchAccountDetails(){var _this=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!_this.hasABillingPlan){_this.$store.dispatch('accounts/subscription');}case 1:case\"end\":return _context.stop();}}},_callee);}))();},onClickBillingPortal:function onClickBillingPortal(){this.$store.dispatch('accounts/checkout');},onToggleChatWindow:function onToggleChatWindow(){if(window.$chatwoot){window.$chatwoot.toggle();}}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var billing_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=style&index=0&id=74a809d5&prod&lang=scss&\nvar Indexvue_type_style_index_0_id_74a809d5_prod_lang_scss_ = __webpack_require__(3129);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  billing_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/core-js/modules/es.regexp.constructor.js","/home/chatwoot/chatwoot/app/javascript/shared/helpers/markdownIt/link.js","/home/chatwoot/chatwoot/app/javascript/shared/helpers/MessageFormatter.js","/home/chatwoot/chatwoot/app/javascript/shared/mixins/messageFormatterMixin.js","/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--6-0!/home/chatwoot/chatwoot/node_modules/markdown-it-link-attributes/index.js","/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=style&index=0&id=74a809d5&prod&lang=scss&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=style&index=0&id=74a809d5&prod&lang=scss&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=template&id=74a809d5&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue?vue&type=template&id=3db825be&","app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/components/BillingItem.vue","app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/billing/Index.vue"],"names":["USER_MENTIONS_REGEX","buildMentionTokens","state","silent","label","labelEnd","labelStart","pos","res","token","href","max","posMax","src","charCodeAt","md","helpers","parseLinkLabel","slice","parseLinkDestination","ok","normalizeLink","str","validateLink","match","RegExp","push","content","renderMentions","tokens","idx","mentionPlugin","renderer","rules","mention","inline","ruler","before","setImageHeight","inlineToken","imgSrc","attrGet","url","URL","height","searchParams","get","attrSet","processInlineToken","blockToken","children","forEach","type","imgResizeManager","core","after","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","mila","attrs","class","rel","target","TWITTER_USERNAME_REGEX","TWITTER_USERNAME_REPLACEMENT","TWITTER_HASH_REGEX","TWITTER_HASH_REPLACEMENT","MessageFormatter","message","isATweet","isAPrivateNote","updatedMessage","replace","render","formatMessage","strippedOutHtml","DOMParser","parseFromString","formattedMessage","body","textContent","methods","messageFormatter","getPlainText","plainText","truncateMessage","description","length","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm"],"mappings":";;;;;AAAA,kBAAkB,mBAAO,CAAC,EAA0B;AACpD,aAAa,mBAAO,CAAC,EAAqB;AAC1C,eAAe,mBAAO,CAAC,GAAwB;AAC/C,wBAAwB,mBAAO,CAAC,GAAkC;AAClE,qBAAqB,mBAAO,CAAC,EAAqC;AAClE,0BAA0B,mBAAO,CAAC,EAA4C;AAC9E,eAAe,mBAAO,CAAC,GAAwB;AAC/C,eAAe,mBAAO,CAAC,GAA2B;AAClD,oBAAoB,mBAAO,CAAC,GAAoC;AAChE,eAAe,mBAAO,CAAC,EAAuB;AAC9C,YAAY,mBAAO,CAAC,EAAoB;AACxC,2BAA2B,mBAAO,CAAC,EAA6B;AAChE,iBAAiB,mBAAO,CAAC,GAA0B;AACnD,sBAAsB,mBAAO,CAAC,EAAgC;;AAE9D;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B,EAAE;AACpD,0BAA0B,wBAAwB;AAClD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtFA;AACA,GAAMA,oBAAmB,CAAG,wCAA5B,CAEA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,SAAM,UAACC,KAAD,CAAQC,MAAR,CAAmB,CAClD,GAAIC,MAAJ,CACA,GAAIC,SAAJ,CACA,GAAIC,WAAJ,CACA,GAAIC,IAAJ,CACA,GAAIC,IAAJ,CACA,GAAIC,MAAJ,CACA,GAAIC,KAAI,CAAG,EAAX,CACA,GAAIC,IAAG,CAAGT,KAAK,CAACU,MAAhB,CAEA,GAAIV,KAAK,CAACW,GAAN,CAAUC,UAAV,CAAqBZ,KAAK,CAACK,GAA3B,IAAoC,IAAK,OAA7C,CAAsD,CACpD,MAAO,MAAP,CACD,CAEDD,UAAU,CAAGJ,KAAK,CAACK,GAAN,CAAY,CAAzB,CACAF,QAAQ,CAAGH,KAAK,CAACa,EAAN,CAASC,OAAT,CAAiBC,cAAjB,CAAgCf,KAAhC,CAAuCA,KAAK,CAACK,GAA7C,CAAkD,IAAlD,CAAX,CAEA;AACA,GAAIF,QAAQ,CAAG,CAAf,CAAkB,CAChB,MAAO,MAAP,CACD,CAEDD,KAAK,CAAGF,KAAK,CAACW,GAAN,CAAUK,KAAV,CAAgBZ,UAAhB,CAA4BD,QAA5B,CAAR,CACAE,GAAG,CAAGF,QAAQ,CAAG,CAAjB,CAEA,GAAIE,GAAG,CAAGI,GAAN,EAAaT,KAAK,CAACW,GAAN,CAAUC,UAAV,CAAqBP,GAArB,IAA8B,IAAK,OAApD,CAA6D,CAC3DA,GAAG,EAAI,CAAP,CACAC,GAAG,CAAGN,KAAK,CAACa,EAAN,CAASC,OAAT,CAAiBG,oBAAjB,CAAsCjB,KAAK,CAACW,GAA5C,CAAiDN,GAAjD,CAAsDL,KAAK,CAACU,MAA5D,CAAN,CACA,GAAIJ,GAAG,CAACY,EAAR,CAAY,CACVV,IAAI,CAAGR,KAAK,CAACa,EAAN,CAASM,aAAT,CAAuBb,GAAG,CAACc,GAA3B,CAAP,CACA,GAAIpB,KAAK,CAACa,EAAN,CAASQ,YAAT,CAAsBb,IAAtB,CAAJ,CAAiC,CAC/BH,GAAG,CAAGC,GAAG,CAACD,GAAV,CACD,CAFD,IAEO,CACLG,IAAI,CAAG,EAAP,CACD,CACF,CACDH,GAAG,EAAI,CAAP,CACD,CAED,GAAI,CAACG,IAAI,CAACc,KAAL,CAAW,GAAIC,OAAJ,CAAWzB,mBAAX,CAAX,CAAL,CAAkD,CAChD,MAAO,MAAP,CACD,CAED,GAAI,CAACG,MAAL,CAAa,CACXD,KAAK,CAACK,GAAN,CAAYD,UAAZ,CACAJ,KAAK,CAACU,MAAN,CAAeP,QAAf,CAEAI,KAAK,CAAGP,KAAK,CAACwB,IAAN,CAAW,SAAX,CAAsB,EAAtB,CAAR,CACAjB,KAAK,CAACC,IAAN,CAAaA,IAAb,CACAD,KAAK,CAACkB,OAAN,CAAgBvB,KAAhB,CACD,CAEDF,KAAK,CAACK,GAAN,CAAYA,GAAZ,CACAL,KAAK,CAACU,MAAN,CAAeD,GAAf,CAEA,MAAO,KAAP,CACD,CAxD0B,EAA3B,CA0DA,GAAMiB,eAAc,CAAG,QAAjBA,eAAiB,SAAM,UAACC,MAAD,CAASC,GAAT,CAAiB,CAC5C,yDAAiDD,MAAM,CAACC,GAAD,CAAN,CAAYH,OAA7D,YACD,CAFsB,EAAvB,CAIe,QAASI,cAAT,CAAuBhB,EAAvB,CAA2B,CACxCA,EAAE,CAACiB,QAAH,CAAYC,KAAZ,CAAkBC,OAAlB,CAA4BN,cAAc,CAACb,EAAD,CAA1C,CACAA,EAAE,CAACoB,MAAH,CAAUC,KAAV,CAAgBC,MAAhB,CAAuB,MAAvB,CAA+B,SAA/B,CAA0CpC,kBAAkB,CAACc,EAAD,CAA5D,EACD,C;;unBCjED,GAAMuB,eAAc,CAAG,QAAjBA,eAAiB,CAAAC,WAAW,CAAI,CACpC,GAAMC,OAAM,CAAGD,WAAW,CAACE,OAAZ,CAAoB,KAApB,CAAf,CACA,GAAI,CAACD,MAAL,CAAa,OACb,GAAME,IAAG,CAAG,GAAIC,IAAJ,CAAQH,MAAR,CAAZ,CACA,GAAMI,OAAM,CAAGF,GAAG,CAACG,YAAJ,CAAiBC,GAAjB,CAAqB,iBAArB,CAAf,CACA,GAAI,CAACF,MAAL,CAAa,OACbL,WAAW,CAACQ,OAAZ,CAAoB,OAApB,mBAAwCH,MAAxC,OACD,CAPD,CASA,GAAMI,mBAAkB,CAAG,QAArBA,mBAAqB,CAAAC,UAAU,CAAI,CACvCA,UAAU,CAACC,QAAX,CAAoBC,OAApB,CAA4B,SAAAZ,WAAW,CAAI,CACzC,GAAIA,WAAW,CAACa,IAAZ,GAAqB,OAAzB,CAAkC,CAChCd,cAAc,CAACC,WAAD,CAAd,CACD,CACF,CAJD,EAKD,CAND,CAQA,GAAMc,iBAAgB,CAAG,QAAnBA,iBAAmB,CAAAtC,EAAE,CAAI,CAC7B;AACA;AACAA,EAAE,CAACuC,IAAH,CAAQlB,KAAR,CAAcmB,KAAd,CAAoB,QAApB,CAA8B,kBAA9B,CAAkD,SAAArD,KAAK,CAAI,CACzDA,KAAK,CAAC2B,MAAN,CAAasB,OAAb,CAAqB,SAAAF,UAAU,CAAI,CACjC,GAAIA,UAAU,CAACG,IAAX,GAAoB,QAAxB,CAAkC,CAChCJ,kBAAkB,CAACC,UAAD,CAAlB,CACD,CACF,CAJD,EAKD,CAND,EAOD,CAVD,CAYA,GAAMlC,GAAE,CAAGyC,mBAAO,CAAC,IAAD,CAAP,CAAuB,CAChCC,IAAI,CAAE,KAD0B,CAEhCC,QAAQ,CAAE,IAFsB,CAGhCC,MAAM,CAAE,IAHwB,CAIhCC,UAAU,CAAE,WAJoB,CAKhCC,OAAO,CAAE,IALuB,CAMhCC,WAAW,CAAE,IANmB,CAOhCC,MAAM,CAAE,0BAPwB,CAQhCC,UAAU,CAAE,EARoB,CAAvB,EAURC,GAVQ,CAUJlC,aAVI,EAWRkC,GAXQ,CAWJZ,gBAXI,EAYRY,GAZQ,CAYJC,qCAZI,CAYE,CACTC,KAAK,CAAE,CACLC,KAAK,CAAE,MADF,CAELC,GAAG,CAAE,8BAFA,CAGLC,MAAM,CAAE,QAHH,CADE,CAZF,CAAX,CAoBA,GAAMC,uBAAsB,CAAG,0BAA/B,CACA,GAAMC,6BAA4B,CAAG,gCAArC,CACA,GAAMC,mBAAkB,CAAG,eAA3B,CACA,GAAMC,yBAAwB,CAAG,yCAAjC,C,GAEMC,iB,yBACJ,0BAAYC,OAAZ,CAA+D,IAA1CC,SAA0C,2DAA/B,KAA+B,IAAxBC,eAAwB,2DAAP,KAAO,wCAC7D,KAAKF,OAAL,CAAeA,OAAO,EAAI,EAA1B,CACA,KAAKE,cAAL,CAAsBA,cAAtB,CACA,KAAKD,QAAL,CAAgBA,QAAhB,CACD,C,0DAED,wBAAgB,CACd,GAAIE,eAAc,CAAG,KAAKH,OAA1B,CACA,GAAI,KAAKC,QAAL,EAAiB,CAAC,KAAKC,cAA3B,CAA2C,CACzCC,cAAc,CAAGA,cAAc,CAACC,OAAf,CACfT,sBADe,CAEfC,4BAFe,CAAjB,CAIAO,cAAc,CAAGA,cAAc,CAACC,OAAf,CACfP,kBADe,CAEfC,wBAFe,CAAjB,CAID,CACD,MAAO3D,GAAE,CAACkE,MAAH,CAAUF,cAAV,CAAP,CACD,C,8BAED,cAAuB,CACrB,MAAO,MAAKG,aAAL,EAAP,CACD,C,uBAED,cAAgB,CACd,GAAMC,gBAAe,CAAG,GAAIC,UAAJ,GAAgBC,eAAhB,CACtB,KAAKC,gBADiB,CAEtB,WAFsB,CAAxB,CAIA,MAAOH,gBAAe,CAACI,IAAhB,CAAqBC,WAArB,EAAoC,EAA3C,CACD,C,gCAGYb,6EAAf,E;;AC1Fe,sFACbc,OAAO,CAAE,CACPP,aADO,wBACON,OADP,CACgBC,QADhB,CAC0BC,cAD1B,CAC0C,CAC/C,GAAMY,iBAAgB,CAAG,GAAIf,yBAAJ,CACvBC,OADuB,CAEvBC,QAFuB,CAGvBC,cAHuB,CAAzB,CAKA,MAAOY,iBAAgB,CAACJ,gBAAxB,CACD,CARM,CASPK,YATO,uBASMf,OATN,CASeC,QATf,CASyB,CAC9B,GAAMa,iBAAgB,CAAG,GAAIf,yBAAJ,CAAqBC,OAArB,CAA8BC,QAA9B,CAAzB,CACA,MAAOa,iBAAgB,CAACE,SAAxB,CACD,CAZM,CAaPC,eAbO,2BAa2B,IAAlBC,YAAkB,2DAAJ,EAAI,CAChC,GAAIA,WAAW,CAACC,MAAZ,CAAqB,GAAzB,CAA8B,CAC5B,MAAOD,YAAP,CACD,CAED,gBAAUA,WAAW,CAAC5E,KAAZ,CAAkB,CAAlB,CAAqB,EAArB,CAAV,QACD,CAnBM,CAqBP8E,gBArBO,4BAqB8D,IAApDrE,QAAoD,2DAA1C,EAA0C,IAAtCsE,WAAsC,2DAAzB,EAAyB,IAArBC,eAAqB,2DAAJ,EAAI,CACnE,GAAMC,iBAAgB,CAAG,KAAKR,YAAL,CAAkBhE,OAAlB,CAAzB,CAEA;AACA,GAAMyE,kBAAiB,CAAGH,UAAU,CAACjB,OAAX,CACxB,qBADwB,CAExB,MAFwB,CAA1B,CAKA,MAAOmB,iBAAgB,CAACnB,OAAjB,CACL,GAAIvD,OAAJ,YAAe2E,iBAAf,MAAqC,IAArC,CADK,yBAEWF,cAFX,iBAAP,CAID,CAlCM,CADI,CAAf,E;;;;;;;;ACFa;;AAEb;AACA;AACA;;AAEA,aAAa,oBAAoB;AACjC,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,8CAA8C;AAC9C;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0C;;;;;;;AC3EA,uC;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;ACAA,+BAA+B,6BAA6B,iBAAiB,yDAAyD,0KAA0K,qBAAqB,YAAY,oCAAoC,iGAAiG,aAAa;AACne;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,6GAA6G,2FAA2F,0BAA0B,EAAE,mCAAmC,OAAO,+MAA+M,KAAK,kCAAkC,iCAAiC,OAAO,wNAAwN,KAAK,gCAAgC;AACzyB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA,IAAI,+CAAM,qBAAqB,6BAA6B,iBAAiB,kCAAkC,qEAAqE,+CAA+C,kGAAkG,OAAO,yCAAyC,KAAK,yBAAyB,4BAA4B;AAC/a;AACA,IAAI,wDAAe;;;;;;ACcnB,yEACA,OACA,OACA,WADA,CAEA,UAFA,CADA,CAKA,aACA,WADA,CAEA,UAFA,CALA,CASA,aACA,WADA,CAEA,UAFA,CATA,CAcA,YACA,WADA,CAEA,cAFA,CAdA,CADA,G;;AChByN,CAAgB,sHAAG,EAAC,C;;;;;ACAnJ;AAC3B;AACL;;;AAG1D;AAC4G;AAC5G,gBAAgB,8CAAU;AAC1B,EAAE,8CAAM;AACR,EAAE,+CAAM;AACR,EAAE,wDAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,iE;;qhDC0Bf;AACA,mEACA,oCADA,CAEA,0GAFA,CAGA,wCACA,4BACA,gCADA,CAEA,6BAFA,EADA,MAKA,cALA,0BAKA,CACA,2CACA,CAPA,CAQA,gBARA,4BAQA,CACA,iDACA,CAVA,CAWA,eAXA,2BAWA,CACA,sBACA,CAbA,CAcA,QAdA,oBAcA,CACA,2CACA,CAhBA,CAiBA,kBAjBA,8BAiBA,CACA,oDACA,CAnBA,EAHA,CAwBA,OAxBA,mBAwBA,CACA,2BACA,CA1BA,CA2BA,SACA,mBADA,+BACA,gNACA,2BACA,+CACA,CAHA,2DAIA,CALA,CAMA,oBANA,gCAMA,CACA,0CACA,CARA,CASA,kBATA,8BASA,CACA,qBACA,0BACA,CACA,CAbA,CA3BA,G;;AC7C6M,CAAgB,uGAAG,EAAC,C;;;;;ACA7I;AAC3B;AACL;AAC+B;;;AAGnF;AACyG;AACzG,IAAI,eAAS,GAAG,8CAAU;AAC1B,EAAE,qCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,0FAAS,Q","file":"x","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) {\n      var state = enforceInternalState(result);\n      state.sticky = true;\n    }\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\nexport default {\n  methods: {\n    formatMessage(message, isATweet, isAPrivateNote) {\n      const messageFormatter = new MessageFormatter(\n        message,\n        isATweet,\n        isAPrivateNote\n      );\n      return messageFormatter.formattedMessage;\n    },\n    getPlainText(message, isATweet) {\n      const messageFormatter = new MessageFormatter(message, isATweet);\n      return messageFormatter.plainText;\n    },\n    truncateMessage(description = '') {\n      if (description.length < 100) {\n        return description;\n      }\n\n      return `${description.slice(0, 97)}...`;\n    },\n\n    highlightContent(content = '', searchTerm = '', highlightClass = '') {\n      const plainTextContent = this.getPlainText(content);\n\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n      const escapedSearchTerm = searchTerm.replace(\n        /[.*+?^${}()|[\\]\\\\]/g,\n        '\\\\$&'\n      );\n\n      return plainTextContent.replace(\n        new RegExp(`(${escapedSearchTerm})`, 'ig'),\n        `<span class=\"${highlightClass}\">$1</span>`\n      );\n    },\n  },\n};\n","\"use strict\"; // Adapted from https://github.com/markdown-it/markdown-it/blob/fbc6b0fed563ba7c00557ab638fd19752f8e759d/docs/architecture.md\n\nfunction findFirstMatchingConfig(link, configs) {\n  var i, config;\n  var href = link.attrs[link.attrIndex(\"href\")][1];\n\n  for (i = 0; i < configs.length; ++i) {\n    config = configs[i]; // If there is a matcher function defined then call it\n    // Matcher Function should return a boolean indicating\n    // whether or not it matched. If it matched, use that\n    // configuration, otherwise, try the next one.\n\n    if (typeof config.matcher === \"function\") {\n      if (config.matcher(href, config)) {\n        return config;\n      } else {\n        continue;\n      }\n    }\n\n    return config;\n  }\n}\n\nfunction applyAttributes(idx, tokens, attributes) {\n  Object.keys(attributes).forEach(function (attr) {\n    var attrIndex;\n    var value = attributes[attr];\n\n    if (attr === \"className\") {\n      // when dealing with applying classes\n      // programatically, some programmers\n      // may prefer to use the className syntax\n      attr = \"class\";\n    }\n\n    attrIndex = tokens[idx].attrIndex(attr);\n\n    if (attrIndex < 0) {\n      // attr doesn't exist, add new attribute\n      tokens[idx].attrPush([attr, value]);\n    } else {\n      // attr already exists, overwrite it\n      tokens[idx].attrs[attrIndex][1] = value; // replace value of existing attr\n    }\n  });\n}\n\nfunction markdownitLinkAttributes(md, configs) {\n  if (!configs) {\n    configs = [];\n  } else {\n    configs = Array.isArray(configs) ? configs : [configs];\n  }\n\n  Object.freeze(configs);\n  var defaultRender = md.renderer.rules.link_open || this.defaultRender;\n\n  md.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    var config = findFirstMatchingConfig(tokens[idx], configs);\n    var attributes = config && config.attrs;\n\n    if (attributes) {\n      applyAttributes(idx, tokens, attributes);\n    } // pass token to default renderer.\n\n\n    return defaultRender(tokens, idx, options, env, self);\n  };\n}\n\nmarkdownitLinkAttributes.defaultRender = function (tokens, idx, options, env, self) {\n  return self.renderToken(tokens, idx, options);\n};\n\nmodule.exports = markdownitLinkAttributes;","// extracted by mini-css-extract-plugin","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=74a809d5&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"overflow-auto flex-1 p-6 dark:bg-slate-900\"},[(_vm.uiFlags.isFetchingItem)?_c('woot-loading-state'):(!_vm.hasABillingPlan)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.$t('BILLING_SETTINGS.NO_BILLING_USER')))])]):_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"current-plan--details\"},[_c('h6',[_vm._v(_vm._s(_vm.$t('BILLING_SETTINGS.CURRENT_PLAN.TITLE')))]),_vm._v(\" \"),_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.formatMessage(\n            _vm.$t('BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE', {\n              plan: _vm.planName,\n              quantity: _vm.subscribedQuantity,\n            })\n          )\n        ),expression:\"\\n          formatMessage(\\n            $t('BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE', {\\n              plan: planName,\\n              quantity: subscribedQuantity,\\n            })\\n          )\\n        \"}]})]),_vm._v(\" \"),_c('billing-item',{attrs:{\"title\":_vm.$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.TITLE'),\"description\":_vm.$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.DESCRIPTION'),\"button-label\":_vm.$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.BUTTON_TXT')},on:{\"click\":_vm.onClickBillingPortal}}),_vm._v(\" \"),_c('billing-item',{attrs:{\"title\":_vm.$t('BILLING_SETTINGS.CHAT_WITH_US.TITLE'),\"description\":_vm.$t('BILLING_SETTINGS.CHAT_WITH_US.DESCRIPTION'),\"button-label\":_vm.$t('BILLING_SETTINGS.CHAT_WITH_US.BUTTON_TXT'),\"button-icon\":\"chat-multiple\"},on:{\"click\":_vm.onToggleChatWindow}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage-subscription\"},[_c('div',[_c('h6',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('p',{staticClass:\"manage-subscription--description\"},[_vm._v(\"\\n      \"+_vm._s(_vm.description)+\"\\n    \")])]),_vm._v(\" \"),_c('div',[_c('woot-button',{attrs:{\"variant\":\"smooth\",\"icon\":_vm.buttonIcon},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\"\\n      \"+_vm._s(_vm.buttonLabel)+\"\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"manage-subscription\">\n    <div>\n      <h6>{{ title }}</h6>\n      <p class=\"manage-subscription--description\">\n        {{ description }}\n      </p>\n    </div>\n    <div>\n      <woot-button variant=\"smooth\" :icon=\"buttonIcon\" @click=\"$emit('click')\">\n        {{ buttonLabel }}\n      </woot-button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    description: {\n      type: String,\n      default: '',\n    },\n    buttonLabel: {\n      type: String,\n      default: '',\n    },\n\n    buttonIcon: {\n      type: String,\n      default: 'edit',\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BillingItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BillingItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BillingItem.vue?vue&type=template&id=3db825be&\"\nimport script from \"./BillingItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BillingItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"overflow-auto flex-1 p-6 dark:bg-slate-900\">\n    <woot-loading-state v-if=\"uiFlags.isFetchingItem\" />\n    <div v-else-if=\"!hasABillingPlan\">\n      <p>{{ $t('BILLING_SETTINGS.NO_BILLING_USER') }}</p>\n    </div>\n    <div v-else class=\"w-full\">\n      <div class=\"current-plan--details\">\n        <h6>{{ $t('BILLING_SETTINGS.CURRENT_PLAN.TITLE') }}</h6>\n        <div\n          v-dompurify-html=\"\n            formatMessage(\n              $t('BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE', {\n                plan: planName,\n                quantity: subscribedQuantity,\n              })\n            )\n          \"\n        />\n      </div>\n      <billing-item\n        :title=\"$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.TITLE')\"\n        :description=\"$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.DESCRIPTION')\"\n        :button-label=\"$t('BILLING_SETTINGS.MANAGE_SUBSCRIPTION.BUTTON_TXT')\"\n        @click=\"onClickBillingPortal\"\n      />\n      <billing-item\n        :title=\"$t('BILLING_SETTINGS.CHAT_WITH_US.TITLE')\"\n        :description=\"$t('BILLING_SETTINGS.CHAT_WITH_US.DESCRIPTION')\"\n        :button-label=\"$t('BILLING_SETTINGS.CHAT_WITH_US.BUTTON_TXT')\"\n        button-icon=\"chat-multiple\"\n        @click=\"onToggleChatWindow\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport messageFormatterMixin from 'shared/mixins/messageFormatterMixin';\n\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport accountMixin from '../../../../mixins/account';\nimport BillingItem from './components/BillingItem.vue';\n// sdds\nexport default {\n  components: { BillingItem },\n  mixins: [accountMixin, alertMixin, messageFormatterMixin],\n  computed: {\n    ...mapGetters({\n      getAccount: 'accounts/getAccount',\n      uiFlags: 'accounts/getUIFlags',\n    }),\n    currentAccount() {\n      return this.getAccount(this.accountId) || {};\n    },\n    customAttributes() {\n      return this.currentAccount.custom_attributes || {};\n    },\n    hasABillingPlan() {\n      return !!this.planName;\n    },\n    planName() {\n      return this.customAttributes.plan_name || '';\n    },\n    subscribedQuantity() {\n      return this.customAttributes.subscribed_quantity || 0;\n    },\n  },\n  mounted() {\n    this.fetchAccountDetails();\n  },\n  methods: {\n    async fetchAccountDetails() {\n      if (!this.hasABillingPlan) {\n        this.$store.dispatch('accounts/subscription');\n      }\n    },\n    onClickBillingPortal() {\n      this.$store.dispatch('accounts/checkout');\n    },\n    onToggleChatWindow() {\n      if (window.$chatwoot) {\n        window.$chatwoot.toggle();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.manage-subscription {\n  @apply bg-white dark:bg-slate-800 flex justify-between mb-2 py-6 px-4 items-center rounded-md border border-solid border-slate-75 dark:border-slate-700;\n}\n\n.current-plan--details {\n  @apply border-b border-solid border-slate-75 dark:border-slate-800 mb-4 pb-4;\n\n  h6 {\n    @apply text-slate-800 dark:text-slate-100;\n  }\n\n  p {\n    @apply text-slate-600 dark:text-slate-200;\n  }\n}\n\n.manage-subscription {\n  .manage-subscription--description {\n    @apply mb-0 text-slate-600 dark:text-slate-200;\n  }\n\n  h6 {\n    @apply text-slate-800 dark:text-slate-100;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=74a809d5&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=74a809d5&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}