{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{2677:function(t,e,r){\"use strict\";var n={components:{Thumbnail:r(271).a},props:{user:{type:Object,default:function(){}},size:{type:String,default:\"20px\"},textClass:{type:String,default:\"text-xs text-slate-600\"}}},a=r(8),s=Object(a.a)(n,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"flex items-center gap-1.5 text-left\"},[e(\"thumbnail\",{attrs:{src:t.user.thumbnail,size:t.size,username:t.user.name,status:t.user.availability_status}}),t._v(\" \"),e(\"h6\",{staticClass:\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\",class:t.textClass},[t._v(\"\\n    \"+t._s(t.user.name)+\"\\n  \")])],1)}),[],!1,null,null,null);e.a=s.exports},2974:function(t,e,r){\"use strict\";var n={__name:\"ReportMetricCard\",props:{label:{type:String,required:!0},value:{type:String,required:!0},infoText:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(t){return{__sfc:!0}}},a=r(8),s=Object(a.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(\"div\",{ref:\"reportMetricContainer\",staticClass:\"m-0 p-4\",class:{\"grayscale pointer-events-none opacity-30\":t.disabled}},[e(\"h3\",{staticClass:\"flex items-center text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[e(\"span\",{ref:\"reportMetricLabel\"},[t._v(t._s(t.label))]),t._v(\" \"),e(\"fluent-icon\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:t.infoText,expression:\"infoText\"}],ref:\"reportMetricInfo\",staticClass:\"text-slate-500 dark:text-slate-200 my-0 mx-1 mt-0.5\",attrs:{size:\"14\",icon:\"info\"}})],1),t._v(\" \"),e(\"h4\",{ref:\"reportMetricValue\",staticClass:\"text-slate-700 dark:text-slate-100 mb-0 mt-1 font-thin text-3xl\"},[t._v(\"\\n    \"+t._s(t.value)+\"\\n  \")])])}),[],!1,null,null,null);e.a=s.exports},3029:function(t,e,r){},3161:function(t,e,r){\"use strict\";r(3029)},3358:function(t,e,r){\"use strict\";r.r(e);r(88),r(13),r(9),r(11),r(15),r(12),r(16),r(158),r(56),r(37),r(10),r(39),r(22),r(23),r(25),r(72),r(69),r(43);var n=r(32),a=r(2974),s=r(91);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if(\"undefined\"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"===typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={components:{CsatMetricCard:a.a},props:{filters:{type:Object,required:!0}},data:function(){return{csatRatings:s.i}},computed:l(l({},Object(n.mapGetters)({metrics:\"csat/getMetrics\",ratingPercentage:\"csat/getRatingPercentage\",satisfactionScore:\"csat/getSatisfactionScore\",responseRate:\"csat/getResponseRate\"})),{},{ratingFilterEnabled:function(){return Boolean(this.filters.rating)},chartData:function(){var t=this;return{labels:[\"Rating\"],datasets:i(s.i).sort((function(t,e){return e.value-t.value})).map((function(e){return{label:e.emoji,data:[t.ratingPercentage[e.value]],backgroundColor:e.color}}))}},responseCount:function(){return this.metrics.totalResponseCount?this.metrics.totalResponseCount.toLocaleString():\"--\"}}),methods:{formatToPercent:function(t){return t?\"\".concat(t,\"%\"):\"--\"},ratingToEmoji:function(t){return s.i.find((function(e){return e.value===Number(t)})).emoji}}},d=r(8),p=Object(d.a)(f,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"flex-col lg:flex-row flex flex-wrap mx-0 bg-white dark:bg-slate-800 rounded-[4px] p-4 mb-5 border border-solid border-slate-75 dark:border-slate-700\"},[e(\"csat-metric-card\",{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{label:t.$t(\"CSAT_REPORTS.METRIC.TOTAL_RESPONSES.LABEL\"),\"info-text\":t.$t(\"CSAT_REPORTS.METRIC.TOTAL_RESPONSES.TOOLTIP\"),value:t.responseCount}}),t._v(\" \"),e(\"csat-metric-card\",{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{disabled:t.ratingFilterEnabled,label:t.$t(\"CSAT_REPORTS.METRIC.SATISFACTION_SCORE.LABEL\"),\"info-text\":t.$t(\"CSAT_REPORTS.METRIC.SATISFACTION_SCORE.TOOLTIP\"),value:t.ratingFilterEnabled?\"--\":t.formatToPercent(t.satisfactionScore)}}),t._v(\" \"),e(\"csat-metric-card\",{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{label:t.$t(\"CSAT_REPORTS.METRIC.RESPONSE_RATE.LABEL\"),\"info-text\":t.$t(\"CSAT_REPORTS.METRIC.RESPONSE_RATE.TOOLTIP\"),value:t.formatToPercent(t.responseRate)}}),t._v(\" \"),t.metrics.totalResponseCount&&!t.ratingFilterEnabled?e(\"div\",{ref:\"csatHorizontalBarChart\",staticClass:\"w-full md:w-1/2 md:max-w-[50%] flex-1 rtl:[direction:initial] p-4\"},[e(\"h3\",{staticClass:\"flex items-center text-xs md:text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[e(\"div\",{staticClass:\"flex justify-end flex-row-reverse\"},t._l(t.ratingPercentage,(function(r,n,a){return e(\"div\",{key:r+n+a,staticClass:\"ltr:pr-4 rtl:pl-4\"},[e(\"span\",{staticClass:\"my-0 mx-0.5\"},[t._v(t._s(t.ratingToEmoji(n)))]),t._v(\" \"),e(\"span\",[t._v(t._s(t.formatToPercent(r)))])])})),0)]),t._v(\" \"),e(\"div\",{staticClass:\"mt-2\"},[e(\"woot-horizontal-bar\",{attrs:{collection:t.chartData,height:24}})],1)]):t._e()],1)}),[],!1,null,null,null).exports,m=r(2844),g=r(2677),b=r(1917),h=r(1784);function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=t&&(\"undefined\"!==typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"]);if(null==r)return;var n,a,s=[],i=!0,o=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(s.push(n.value),!e||s.length!==e);i=!0);}catch(c){o=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return s}(t,e)||function(t,e){if(!t)return;if(\"string\"===typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var w={components:{VeTable:m.VeTable,VePagination:m.VePagination},mixins:[b.a,h.a],props:{pageIndex:{type:Number,default:1}},computed:T(T({},Object(n.mapGetters)({uiFlags:\"csat/getUIFlags\",csatResponses:\"csat/getCSATResponses\",metrics:\"csat/getMetrics\"})),{},{columns:function(){var t=this.$createElement;return[{field:\"contact\",key:\"contact\",title:this.$t(\"CSAT_REPORTS.TABLE.HEADER.CONTACT_NAME\"),align:this.isRTLView?\"right\":\"left\",width:200,renderBodyCell:function(e){var r=e.row;return r.contact?t(g.a,{attrs:{textClass:\"text-sm text-slate-800\",size:\"24px\",user:r.contact}}):\"---\"}},{field:\"assignedAgent\",key:\"assignedAgent\",title:this.$t(\"CSAT_REPORTS.TABLE.HEADER.AGENT_NAME\"),align:this.isRTLView?\"right\":\"left\",width:200,renderBodyCell:function(e){var r=e.row;return r.assignedAgent?t(g.a,{attrs:{size:\"24px\",user:r.assignedAgent}}):\"---\"}},{field:\"rating\",key:\"rating\",title:this.$t(\"CSAT_REPORTS.TABLE.HEADER.RATING\"),align:\"center\",width:80,renderBodyCell:function(e){var r=e.row,n=v(s.i.filter((function(t){return t.value===r.rating})),1)[0];return t(\"span\",{class:\"emoji-response\"},[(void 0===n?{}:n).emoji||\"---\"])}},{field:\"feedbackText\",key:\"feedbackText\",title:this.$t(\"CSAT_REPORTS.TABLE.HEADER.FEEDBACK_TEXT\"),align:this.isRTLView?\"right\":\"left\",width:400},{field:\"conversationId\",key:\"conversationId\",title:\"\",align:this.isRTLView?\"right\":\"left\",width:100,renderBodyCell:function(e){var r=e.row,n={name:\"inbox_conversation\",params:{conversation_id:r.conversationId}};return t(\"div\",{class:\"text-right\"},[t(\"router-link\",{attrs:{to:n}},[\"#\".concat(r.conversationId)]),t(\"div\",{class:\"csat--timestamp\",directives:[{name:\"tooltip\",value:r.createdAt}]},[r.createdAgo])])}}]},tableData:function(){var t=this;return this.csatResponses.map((function(e){return{contact:e.contact,assignedAgent:e.assigned_agent,rating:e.rating,feedbackText:e.feedback_message||\"---\",conversationId:e.conversation_id,createdAgo:t.dynamicTime(e.created_at),createdAt:t.messageStamp(e.created_at,\"LLL d yyyy, h:mm a\")}}))}}),methods:{onPageNumberChange:function(t){this.$emit(\"page-change\",t)}}},_=(r(3161),Object(d.a)(w,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"csat--table-container\"},[e(\"ve-table\",{attrs:{\"max-height\":\"calc(100vh - 21.875rem)\",\"fixed-header\":!0,\"border-around\":!0,columns:t.columns,\"table-data\":t.tableData}}),t._v(\" \"),e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.tableData.length,expression:\"!tableData.length\"}],staticClass:\"csat--empty-records\"},[t._v(\"\\n    \"+t._s(t.$t(\"CSAT_REPORTS.NO_RECORDS\"))+\"\\n  \")]),t._v(\" \"),t.metrics.totalResponseCount?e(\"div\",{staticClass:\"table-pagination\"},[e(\"ve-pagination\",{attrs:{total:t.metrics.totalResponseCount,\"page-index\":t.pageIndex,\"page-size\":25,\"page-size-option\":[25]},on:{\"on-page-number-change\":t.onPageNumberChange}})],1):t._e()],1)}),[],!1,null,\"5abfacf4\",null).exports),E=r(2956),R=r(262),C=r(94),A=r(108),S=r(79);function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D={name:\"CsatResponses\",components:{CsatMetrics:p,CsatTable:_,ReportFilterSelector:E.a},mixins:[S.a],data:function(){return{pageIndex:1,from:0,to:0,userIds:[],inbox:null,team:null,rating:null}},computed:j(j({},Object(n.mapGetters)({accountId:\"getCurrentAccountId\",isFeatureEnabledOnAccount:\"accounts/isFeatureEnabledonAccount\"})),{},{requestPayload:function(){return{from:this.from,to:this.to,user_ids:this.userIds,inbox_id:this.inbox,team_id:this.team,rating:this.rating}},isTeamsEnabled:function(){return this.isFeatureEnabledOnAccount(this.accountId,A.a.TEAM_MANAGEMENT)}}),methods:{getAllData:function(){try{this.$store.dispatch(\"csat/getMetrics\",this.requestPayload),this.getResponses()}catch(t){this.showAlert(this.$t(\"REPORT.DATA_FETCHING_FAILED\"))}},getResponses:function(){this.$store.dispatch(\"csat/get\",j({page:this.pageIndex},this.requestPayload))},downloadReports:function(){try{this.$store.dispatch(\"csat/downloadCSATReports\",j({fileName:Object(R.b)({type:\"csat\",to:this.to})},this.requestPayload))}catch(t){this.showAlert(this.$t(\"REPORT.CSAT_REPORTS.DOWNLOAD_FAILED\"))}},onPageNumberChange:function(t){this.pageIndex=t,this.getResponses()},onFilterChange:function(t){var e=t.from,r=t.to,n=t.selectedAgents,a=t.selectedInbox,s=t.selectedTeam,i=t.selectedRating;0!==this.from&&0!==this.to&&this.$track(C.j.FILTER_REPORT,{filterType:\"date\",reportType:\"csat\"}),this.from=e,this.to=r,this.userIds=n.map((function(t){return t.id})),this.inbox=null===a||void 0===a?void 0:a.id,this.team=null===s||void 0===s?void 0:s.id,this.rating=null===i||void 0===i?void 0:i.value,this.getAllData()}}},L=Object(d.a)(D,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"flex-1 overflow-auto p-4\"},[e(\"report-filter-selector\",{attrs:{\"show-agents-filter\":!0,\"show-inbox-filter\":!0,\"show-rating-filter\":!0,\"show-team-filter\":t.isTeamsEnabled,\"show-business-hours-switch\":!1},on:{\"filter-change\":t.onFilterChange}}),t._v(\" \"),e(\"woot-button\",{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",icon:\"arrow-download\"},on:{click:t.downloadReports}},[t._v(\"\\n    \"+t._s(t.$t(\"CSAT_REPORTS.DOWNLOAD\"))+\"\\n  \")]),t._v(\" \"),e(\"csat-metrics\",{attrs:{filters:t.requestPayload}}),t._v(\" \"),e(\"csat-table\",{attrs:{\"page-index\":t.pageIndex},on:{\"page-change\":t.onPageNumberChange}})],1)}),[],!1,null,null,null);e.default=L.exports}}]);","name":"js/76-bbe42391890c46466f4c.chunk.js","map":{"version":3,"names":["window","push","module","__webpack_exports__","__webpack_require__","widgets_UserAvatarWithNamevue_type_script_lang_js_","components","Thumbnail","props","user","type","Object","default","size","String","textClass","componentNormalizer","component","_vm","this","_c","_self","staticClass","attrs","src","thumbnail","username","name","status","availability_status","_v","class","_s","components_ReportMetricCardvue_type_script_setup_true_lang_js_","__name","label","required","value","infoText","disabled","Boolean","setup","__props","__sfc","_setupProxy","ref","directives","rawName","expression","icon","exports","r","vuex","ReportMetricCard","messages","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","components_CsatMetricsvue_type_script_lang_js_","CsatMetricCard","filters","data","csatRatings","computed","metrics","ratingPercentage","satisfactionScore","responseRate","ratingFilterEnabled","rating","chartData","_this","labels","datasets","sort","a","b","map","emoji","backgroundColor","color","responseCount","totalResponseCount","toLocaleString","methods","formatToPercent","concat","ratingToEmoji","find","Number","CsatMetrics","$t","_l","index","collection","height","_e","main","UserAvatarWithName","time","rtlMixin","_slicedToArray","_arrayWithHoles","_i","_arr","_n","_d","next","done","err","_iterableToArrayLimit","CsatTablevue_type_script_lang_js_arrayLikeToArray","CsatTablevue_type_script_lang_js_unsupportedIterableToArray","_nonIterableRest","CsatTablevue_type_script_lang_js_ownKeys","CsatTablevue_type_script_lang_js_objectSpread","CsatTablevue_type_script_lang_js_defineProperty","components_CsatTablevue_type_script_lang_js_","VeTable","VePagination","mixins","pageIndex","uiFlags","csatResponses","columns","h","$createElement","field","title","align","isRTLView","width","renderBodyCell","_ref","row","contact","_ref2","assignedAgent","_ref3","_CSAT_RATINGS$filter3","_ref4","routerParams","params","conversation_id","conversationId","to","createdAt","createdAgo","tableData","response","assigned_agent","feedbackText","feedback_message","dynamicTime","created_at","messageStamp","onPageNumberChange","$emit","CsatTable","total","on","FilterSelector","downloadHelper","events","featureFlags","alertMixin","CsatResponsesvue_type_script_lang_js_ownKeys","CsatResponsesvue_type_script_lang_js_objectSpread","CsatResponsesvue_type_script_lang_js_defineProperty","reports_CsatResponsesvue_type_script_lang_js_","ReportFilterSelector","userIds","inbox","team","accountId","isFeatureEnabledOnAccount","requestPayload","user_ids","inbox_id","team_id","isTeamsEnabled","TEAM_MANAGEMENT","getAllData","$store","dispatch","getResponses","_unused","showAlert","page","downloadReports","fileName","error","onFilterChange","selectedAgents","selectedInbox","selectedTeam","selectedRating","$track","FILTER_REPORT","filterType","reportType","el","id","CsatResponses_component","click"],"sources":["js/76-bbe42391890c46466f4c.chunk.js"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[76],{\n\n/***/ 2677:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?vue&type=template&id=b19a8be4&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center gap-1.5 text-left\"},[_c('thumbnail',{attrs:{\"src\":_vm.user.thumbnail,\"size\":_vm.size,\"username\":_vm.user.name,\"status\":_vm.user.availability_status}}),_vm._v(\" \"),_c('h6',{staticClass:\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\",class:_vm.textClass},[_vm._v(\"\\n    \"+_vm._s(_vm.user.name)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?vue&type=template&id=b19a8be4&\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/Thumbnail.vue + 4 modules\nvar Thumbnail = __webpack_require__(271);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?vue&type=script&lang=js&\n/* harmony default export */ var UserAvatarWithNamevue_type_script_lang_js_ = ({components:{Thumbnail:Thumbnail[\"a\" /* default */]},props:{user:{type:Object,default:function _default(){}},size:{type:String,default:'20px'},textClass:{type:String,default:'text-xs text-slate-600'}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_UserAvatarWithNamevue_type_script_lang_js_ = (UserAvatarWithNamevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_UserAvatarWithNamevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var UserAvatarWithName = __webpack_exports__[\"a\"] = (component.exports);\n\n/***/ }),\n\n/***/ 2974:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?vue&type=template&id=1515d57f&\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"reportMetricContainer\",staticClass:\"m-0 p-4\",class:{\n    'grayscale pointer-events-none opacity-30': _vm.disabled,\n  }},[_c('h3',{staticClass:\"flex items-center text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[_c('span',{ref:\"reportMetricLabel\"},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('fluent-icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.infoText),expression:\"infoText\"}],ref:\"reportMetricInfo\",staticClass:\"text-slate-500 dark:text-slate-200 my-0 mx-1 mt-0.5\",attrs:{\"size\":\"14\",\"icon\":\"info\"}})],1),_vm._v(\" \"),_c('h4',{ref:\"reportMetricValue\",staticClass:\"text-slate-700 dark:text-slate-100 mb-0 mt-1 font-thin text-3xl\"},[_vm._v(\"\\n    \"+_vm._s(_vm.value)+\"\\n  \")])])\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?vue&type=template&id=1515d57f&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\n/* harmony default export */ var ReportMetricCardvue_type_script_setup_true_lang_js_ = ({__name:'ReportMetricCard',props:{label:{type:String,required:true},value:{type:String,required:true},infoText:{type:String,required:true},disabled:{type:Boolean,default:false}},setup:function setup(__props){return{__sfc:true};}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\n /* harmony default export */ var components_ReportMetricCardvue_type_script_setup_true_lang_js_ = (ReportMetricCardvue_type_script_setup_true_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_ReportMetricCardvue_type_script_setup_true_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ReportMetricCard = __webpack_exports__[\"a\"] = (component.exports);\n\n/***/ }),\n\n/***/ 3029:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 3161:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_CsatTable_vue_vue_type_style_index_0_id_5abfacf4_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3029);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_CsatTable_vue_vue_type_style_index_0_id_5abfacf4_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_CsatTable_vue_vue_type_style_index_0_id_5abfacf4_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ 3358:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?vue&type=template&id=203139b1&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('report-filter-selector',{attrs:{\"show-agents-filter\":true,\"show-inbox-filter\":true,\"show-rating-filter\":true,\"show-team-filter\":_vm.isTeamsEnabled,\"show-business-hours-switch\":false},on:{\"filter-change\":_vm.onFilterChange}}),_vm._v(\" \"),_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"arrow-download\"},on:{\"click\":_vm.downloadReports}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CSAT_REPORTS.DOWNLOAD'))+\"\\n  \")]),_vm._v(\" \"),_c('csat-metrics',{attrs:{\"filters\":_vm.requestPayload}}),_vm._v(\" \"),_c('csat-table',{attrs:{\"page-index\":_vm.pageIndex},on:{\"page-change\":_vm.onPageNumberChange}})],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?vue&type=template&id=203139b1&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?vue&type=template&id=cdbc978c&\nvar CsatMetricsvue_type_template_id_cdbc978c_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-col lg:flex-row flex flex-wrap mx-0 bg-white dark:bg-slate-800 rounded-[4px] p-4 mb-5 border border-solid border-slate-75 dark:border-slate-700\"},[_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"label\":_vm.$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.TOOLTIP'),\"value\":_vm.responseCount}}),_vm._v(\" \"),_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"disabled\":_vm.ratingFilterEnabled,\"label\":_vm.$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.TOOLTIP'),\"value\":_vm.ratingFilterEnabled ? '--' : _vm.formatToPercent(_vm.satisfactionScore)}}),_vm._v(\" \"),_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"label\":_vm.$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.TOOLTIP'),\"value\":_vm.formatToPercent(_vm.responseRate)}}),_vm._v(\" \"),(_vm.metrics.totalResponseCount && !_vm.ratingFilterEnabled)?_c('div',{ref:\"csatHorizontalBarChart\",staticClass:\"w-full md:w-1/2 md:max-w-[50%] flex-1 rtl:[direction:initial] p-4\"},[_c('h3',{staticClass:\"flex items-center text-xs md:text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[_c('div',{staticClass:\"flex justify-end flex-row-reverse\"},_vm._l((_vm.ratingPercentage),function(rating,key,index){return _c('div',{key:rating + key + index,staticClass:\"ltr:pr-4 rtl:pl-4\"},[_c('span',{staticClass:\"my-0 mx-0.5\"},[_vm._v(_vm._s(_vm.ratingToEmoji(key)))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.formatToPercent(rating)))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"mt-2\"},[_c('woot-horizontal-bar',{attrs:{\"collection\":_vm.chartData,\"height\":24}})],1)]):_vm._e()],1)\n}\nvar CsatMetricsvue_type_template_id_cdbc978c_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?vue&type=template&id=cdbc978c&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__(158);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.constructor.js\nvar es_number_constructor = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.iterator.js\nvar es_symbol_iterator = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue + 4 modules\nvar ReportMetricCard = __webpack_require__(2974);\n\n// EXTERNAL MODULE: ./app/javascript/shared/constants/messages.js\nvar messages = __webpack_require__(91);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?vue&type=script&lang=js&\nfunction _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!==\"undefined\"&&iter[Symbol.iterator]!=null||iter[\"@@iterator\"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var CsatMetricsvue_type_script_lang_js_ = ({components:{CsatMetricCard:ReportMetricCard[\"a\" /* default */]},props:{filters:{type:Object,required:true}},data:function data(){return{csatRatings:messages[\"i\" /* CSAT_RATINGS */]};},computed:_objectSpread(_objectSpread({},Object(vuex[\"mapGetters\"])({metrics:'csat/getMetrics',ratingPercentage:'csat/getRatingPercentage',satisfactionScore:'csat/getSatisfactionScore',responseRate:'csat/getResponseRate'})),{},{ratingFilterEnabled:function ratingFilterEnabled(){return Boolean(this.filters.rating);},chartData:function chartData(){var _this=this;var sortedRatings=_toConsumableArray(messages[\"i\" /* CSAT_RATINGS */]).sort(function(a,b){return b.value-a.value;});return{labels:['Rating'],datasets:sortedRatings.map(function(rating){return{label:rating.emoji,data:[_this.ratingPercentage[rating.value]],backgroundColor:rating.color};})};},responseCount:function responseCount(){return this.metrics.totalResponseCount?this.metrics.totalResponseCount.toLocaleString():'--';}}),methods:{formatToPercent:function formatToPercent(value){return value?\"\".concat(value,\"%\"):'--';},ratingToEmoji:function ratingToEmoji(value){return messages[\"i\" /* CSAT_RATINGS */].find(function(rating){return rating.value===Number(value);}).emoji;}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_CsatMetricsvue_type_script_lang_js_ = (CsatMetricsvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_CsatMetricsvue_type_script_lang_js_,\n  CsatMetricsvue_type_template_id_cdbc978c_render,\n  CsatMetricsvue_type_template_id_cdbc978c_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CsatMetrics = (component.exports);\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=template&id=5abfacf4&scoped=true&\nvar CsatTablevue_type_template_id_5abfacf4_scoped_true_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"csat--table-container\"},[_c('ve-table',{attrs:{\"max-height\":\"calc(100vh - 21.875rem)\",\"fixed-header\":true,\"border-around\":true,\"columns\":_vm.columns,\"table-data\":_vm.tableData}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tableData.length),expression:\"!tableData.length\"}],staticClass:\"csat--empty-records\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CSAT_REPORTS.NO_RECORDS'))+\"\\n  \")]),_vm._v(\" \"),(_vm.metrics.totalResponseCount)?_c('div',{staticClass:\"table-pagination\"},[_c('ve-pagination',{attrs:{\"total\":_vm.metrics.totalResponseCount,\"page-index\":_vm.pageIndex,\"page-size\":25,\"page-size-option\":[25]},on:{\"on-page-number-change\":_vm.onPageNumberChange}})],1):_vm._e()],1)\n}\nvar CsatTablevue_type_template_id_5abfacf4_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=template&id=5abfacf4&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/vue-easytable/libs/main.js\nvar main = __webpack_require__(2844);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue + 4 modules\nvar UserAvatarWithName = __webpack_require__(2677);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/mixins/time.js\nvar time = __webpack_require__(1917);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/rtlMixin.js\nvar rtlMixin = __webpack_require__(1784);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=script&lang=js&\nfunction _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||CsatTablevue_type_script_lang_js_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function CsatTablevue_type_script_lang_js_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return CsatTablevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CsatTablevue_type_script_lang_js_arrayLikeToArray(o,minLen);}function CsatTablevue_type_script_lang_js_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!==\"undefined\"&&arr[Symbol.iterator]||arr[\"@@iterator\"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"]!=null)_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function CsatTablevue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function CsatTablevue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){CsatTablevue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){CsatTablevue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{CsatTablevue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function CsatTablevue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var CsatTablevue_type_script_lang_js_ = ({components:{VeTable:main[\"VeTable\"],VePagination:main[\"VePagination\"]},mixins:[time[\"a\" /* default */],rtlMixin[\"a\" /* default */]],props:{pageIndex:{type:Number,default:1}},computed:CsatTablevue_type_script_lang_js_objectSpread(CsatTablevue_type_script_lang_js_objectSpread({},Object(vuex[\"mapGetters\"])({uiFlags:'csat/getUIFlags',csatResponses:'csat/getCSATResponses',metrics:'csat/getMetrics'})),{},{columns:function columns(){var h=this.$createElement;return[{field:'contact',key:'contact',title:this.$t('CSAT_REPORTS.TABLE.HEADER.CONTACT_NAME'),align:this.isRTLView?'right':'left',width:200,renderBodyCell:function renderBodyCell(_ref){var row=_ref.row;if(row.contact){return h(UserAvatarWithName[\"a\" /* default */],{attrs:{textClass:\"text-sm text-slate-800\",size:\"24px\",user:row.contact}});}return'---';}},{field:'assignedAgent',key:'assignedAgent',title:this.$t('CSAT_REPORTS.TABLE.HEADER.AGENT_NAME'),align:this.isRTLView?'right':'left',width:200,renderBodyCell:function renderBodyCell(_ref2){var row=_ref2.row;if(row.assignedAgent){return h(UserAvatarWithName[\"a\" /* default */],{attrs:{size:\"24px\",user:row.assignedAgent}});}return'---';}},{field:'rating',key:'rating',title:this.$t('CSAT_REPORTS.TABLE.HEADER.RATING'),align:'center',width:80,renderBodyCell:function renderBodyCell(_ref3){var row=_ref3.row;var _CSAT_RATINGS$filter=messages[\"i\" /* CSAT_RATINGS */].filter(function(rating){return rating.value===row.rating;}),_CSAT_RATINGS$filter2=_slicedToArray(_CSAT_RATINGS$filter,1),_CSAT_RATINGS$filter3=_CSAT_RATINGS$filter2[0],ratingObject=_CSAT_RATINGS$filter3===void 0?{}:_CSAT_RATINGS$filter3;return h(\"span\",{\"class\":\"emoji-response\"},[ratingObject.emoji||'---']);}},{field:'feedbackText',key:'feedbackText',title:this.$t('CSAT_REPORTS.TABLE.HEADER.FEEDBACK_TEXT'),align:this.isRTLView?'right':'left',width:400},{field:'conversationId',key:'conversationId',title:'',align:this.isRTLView?'right':'left',width:100,renderBodyCell:function renderBodyCell(_ref4){var row=_ref4.row;var routerParams={name:'inbox_conversation',params:{conversation_id:row.conversationId}};return h(\"div\",{\"class\":\"text-right\"},[h(\"router-link\",{attrs:{to:routerParams}},[\"#\".concat(row.conversationId)]),h(\"div\",{\"class\":\"csat--timestamp\",directives:[{name:\"tooltip\",value:row.createdAt}]},[row.createdAgo])]);}}];},tableData:function tableData(){var _this=this;return this.csatResponses.map(function(response){return{contact:response.contact,assignedAgent:response.assigned_agent,rating:response.rating,feedbackText:response.feedback_message||'---',conversationId:response.conversation_id,createdAgo:_this.dynamicTime(response.created_at),createdAt:_this.messageStamp(response.created_at,'LLL d yyyy, h:mm a')};});}}),methods:{onPageNumberChange:function onPageNumberChange(pageIndex){this.$emit('page-change',pageIndex);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_CsatTablevue_type_script_lang_js_ = (CsatTablevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=style&index=0&id=5abfacf4&prod&lang=scss&scoped=true&\nvar CsatTablevue_type_style_index_0_id_5abfacf4_prod_lang_scss_scoped_true_ = __webpack_require__(3161);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar CsatTable_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_CsatTablevue_type_script_lang_js_,\n  CsatTablevue_type_template_id_5abfacf4_scoped_true_render,\n  CsatTablevue_type_template_id_5abfacf4_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"5abfacf4\",\n  null\n  \n)\n\n/* harmony default export */ var CsatTable = (CsatTable_component.exports);\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/components/FilterSelector.vue + 39 modules\nvar FilterSelector = __webpack_require__(2956);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/downloadHelper.js\nvar downloadHelper = __webpack_require__(262);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/AnalyticsHelper/events.js\nvar events = __webpack_require__(94);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/featureFlags.js\nvar featureFlags = __webpack_require__(108);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?vue&type=script&lang=js&\nfunction CsatResponsesvue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function CsatResponsesvue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){CsatResponsesvue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){CsatResponsesvue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{CsatResponsesvue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function CsatResponsesvue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var CsatResponsesvue_type_script_lang_js_ = ({name:'CsatResponses',components:{CsatMetrics:CsatMetrics,CsatTable:CsatTable,ReportFilterSelector:FilterSelector[\"a\" /* default */]},mixins:[alertMixin[\"a\" /* default */]],data:function data(){return{pageIndex:1,from:0,to:0,userIds:[],inbox:null,team:null,rating:null};},computed:CsatResponsesvue_type_script_lang_js_objectSpread(CsatResponsesvue_type_script_lang_js_objectSpread({},Object(vuex[\"mapGetters\"])({accountId:'getCurrentAccountId',isFeatureEnabledOnAccount:'accounts/isFeatureEnabledonAccount'})),{},{requestPayload:function requestPayload(){return{from:this.from,to:this.to,user_ids:this.userIds,inbox_id:this.inbox,team_id:this.team,rating:this.rating};},isTeamsEnabled:function isTeamsEnabled(){return this.isFeatureEnabledOnAccount(this.accountId,featureFlags[\"a\" /* FEATURE_FLAGS */].TEAM_MANAGEMENT);}}),methods:{getAllData:function getAllData(){try{this.$store.dispatch('csat/getMetrics',this.requestPayload);this.getResponses();}catch(_unused){this.showAlert(this.$t('REPORT.DATA_FETCHING_FAILED'));}},getResponses:function getResponses(){this.$store.dispatch('csat/get',CsatResponsesvue_type_script_lang_js_objectSpread({page:this.pageIndex},this.requestPayload));},downloadReports:function downloadReports(){var type='csat';try{this.$store.dispatch('csat/downloadCSATReports',CsatResponsesvue_type_script_lang_js_objectSpread({fileName:Object(downloadHelper[\"b\" /* generateFileName */])({type:type,to:this.to})},this.requestPayload));}catch(error){this.showAlert(this.$t('REPORT.CSAT_REPORTS.DOWNLOAD_FAILED'));}},onPageNumberChange:function onPageNumberChange(pageIndex){this.pageIndex=pageIndex;this.getResponses();},onFilterChange:function onFilterChange(_ref){var from=_ref.from,to=_ref.to,selectedAgents=_ref.selectedAgents,selectedInbox=_ref.selectedInbox,selectedTeam=_ref.selectedTeam,selectedRating=_ref.selectedRating;// do not track filter change on inital load\nif(this.from!==0&&this.to!==0){this.$track(events[\"j\" /* REPORTS_EVENTS */].FILTER_REPORT,{filterType:'date',reportType:'csat'});}this.from=from;this.to=to;this.userIds=selectedAgents.map(function(el){return el.id;});this.inbox=selectedInbox===null||selectedInbox===void 0?void 0:selectedInbox.id;this.team=selectedTeam===null||selectedTeam===void 0?void 0:selectedTeam.id;this.rating=selectedRating===null||selectedRating===void 0?void 0:selectedRating.value;this.getAllData();}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?vue&type=script&lang=js&\n /* harmony default export */ var reports_CsatResponsesvue_type_script_lang_js_ = (CsatResponsesvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue\n\n\n\n\n\n/* normalize component */\n\nvar CsatResponses_component = Object(componentNormalizer[\"a\" /* default */])(\n  reports_CsatResponsesvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CsatResponses = __webpack_exports__[\"default\"] = (CsatResponses_component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?vue&type=template&id=b19a8be4&","app/javascript/dashboard/components/widgets/UserAvatarWithName.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/UserAvatarWithName.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?vue&type=template&id=1515d57f&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue?vue&type=script&setup=true&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportMetricCard.vue","/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=style&index=0&id=5abfacf4&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=style&index=0&id=5abfacf4&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?vue&type=template&id=203139b1&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?vue&type=template&id=cdbc978c&","app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatMetrics.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=template&id=5abfacf4&scoped=true&","app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/components/CsatTable.vue","app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/reports/CsatResponses.vue"],"names":[],"mappings":"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","file":"x","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center gap-1.5 text-left\"},[_c('thumbnail',{attrs:{\"src\":_vm.user.thumbnail,\"size\":_vm.size,\"username\":_vm.user.name,\"status\":_vm.user.availability_status}}),_vm._v(\" \"),_c('h6',{staticClass:\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\",class:_vm.textClass},[_vm._v(\"\\n    \"+_vm._s(_vm.user.name)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex items-center gap-1.5 text-left\">\n    <thumbnail\n      :src=\"user.thumbnail\"\n      :size=\"size\"\n      :username=\"user.name\"\n      :status=\"user.availability_status\"\n    />\n    <h6\n      class=\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\"\n      :class=\"textClass\"\n    >\n      {{ user.name }}\n    </h6>\n  </div>\n</template>\n<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    user: {\n      type: Object,\n      default: () => {},\n    },\n    size: {\n      type: String,\n      default: '20px',\n    },\n    textClass: {\n      type: String,\n      default: 'text-xs text-slate-600',\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatarWithName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatarWithName.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAvatarWithName.vue?vue&type=template&id=b19a8be4&\"\nimport script from \"./UserAvatarWithName.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAvatarWithName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"reportMetricContainer\",staticClass:\"m-0 p-4\",class:{\n    'grayscale pointer-events-none opacity-30': _vm.disabled,\n  }},[_c('h3',{staticClass:\"flex items-center text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[_c('span',{ref:\"reportMetricLabel\"},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('fluent-icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.infoText),expression:\"infoText\"}],ref:\"reportMetricInfo\",staticClass:\"text-slate-500 dark:text-slate-200 my-0 mx-1 mt-0.5\",attrs:{\"size\":\"14\",\"icon\":\"info\"}})],1),_vm._v(\" \"),_c('h4',{ref:\"reportMetricValue\",staticClass:\"text-slate-700 dark:text-slate-100 mb-0 mt-1 font-thin text-3xl\"},[_vm._v(\"\\n    \"+_vm._s(_vm.value)+\"\\n  \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./ReportMetricCard.vue?vue&type=template&id=1515d57f&\"\nimport script from \"./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ReportMetricCard.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatTable.vue?vue&type=style&index=0&id=5abfacf4&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('report-filter-selector',{attrs:{\"show-agents-filter\":true,\"show-inbox-filter\":true,\"show-rating-filter\":true,\"show-team-filter\":_vm.isTeamsEnabled,\"show-business-hours-switch\":false},on:{\"filter-change\":_vm.onFilterChange}}),_vm._v(\" \"),_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"arrow-download\"},on:{\"click\":_vm.downloadReports}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CSAT_REPORTS.DOWNLOAD'))+\"\\n  \")]),_vm._v(\" \"),_c('csat-metrics',{attrs:{\"filters\":_vm.requestPayload}}),_vm._v(\" \"),_c('csat-table',{attrs:{\"page-index\":_vm.pageIndex},on:{\"page-change\":_vm.onPageNumberChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-col lg:flex-row flex flex-wrap mx-0 bg-white dark:bg-slate-800 rounded-[4px] p-4 mb-5 border border-solid border-slate-75 dark:border-slate-700\"},[_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"label\":_vm.$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.TOOLTIP'),\"value\":_vm.responseCount}}),_vm._v(\" \"),_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"disabled\":_vm.ratingFilterEnabled,\"label\":_vm.$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.TOOLTIP'),\"value\":_vm.ratingFilterEnabled ? '--' : _vm.formatToPercent(_vm.satisfactionScore)}}),_vm._v(\" \"),_c('csat-metric-card',{staticClass:\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\",attrs:{\"label\":_vm.$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.LABEL'),\"info-text\":_vm.$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.TOOLTIP'),\"value\":_vm.formatToPercent(_vm.responseRate)}}),_vm._v(\" \"),(_vm.metrics.totalResponseCount && !_vm.ratingFilterEnabled)?_c('div',{ref:\"csatHorizontalBarChart\",staticClass:\"w-full md:w-1/2 md:max-w-[50%] flex-1 rtl:[direction:initial] p-4\"},[_c('h3',{staticClass:\"flex items-center text-xs md:text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"},[_c('div',{staticClass:\"flex justify-end flex-row-reverse\"},_vm._l((_vm.ratingPercentage),function(rating,key,index){return _c('div',{key:rating + key + index,staticClass:\"ltr:pr-4 rtl:pl-4\"},[_c('span',{staticClass:\"my-0 mx-0.5\"},[_vm._v(_vm._s(_vm.ratingToEmoji(key)))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.formatToPercent(rating)))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"mt-2\"},[_c('woot-horizontal-bar',{attrs:{\"collection\":_vm.chartData,\"height\":24}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"flex-col lg:flex-row flex flex-wrap mx-0 bg-white dark:bg-slate-800 rounded-[4px] p-4 mb-5 border border-solid border-slate-75 dark:border-slate-700\"\n  >\n    <csat-metric-card\n      :label=\"$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.LABEL')\"\n      :info-text=\"$t('CSAT_REPORTS.METRIC.TOTAL_RESPONSES.TOOLTIP')\"\n      :value=\"responseCount\"\n      class=\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\"\n    />\n    <csat-metric-card\n      :disabled=\"ratingFilterEnabled\"\n      :label=\"$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.LABEL')\"\n      :info-text=\"$t('CSAT_REPORTS.METRIC.SATISFACTION_SCORE.TOOLTIP')\"\n      :value=\"ratingFilterEnabled ? '--' : formatToPercent(satisfactionScore)\"\n      class=\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\"\n    />\n    <csat-metric-card\n      :label=\"$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.LABEL')\"\n      :info-text=\"$t('CSAT_REPORTS.METRIC.RESPONSE_RATE.TOOLTIP')\"\n      :value=\"formatToPercent(responseRate)\"\n      class=\"xs:w-full sm:max-w-[50%] lg:w-1/6 lg:max-w-[16%]\"\n    />\n\n    <div\n      v-if=\"metrics.totalResponseCount && !ratingFilterEnabled\"\n      ref=\"csatHorizontalBarChart\"\n      class=\"w-full md:w-1/2 md:max-w-[50%] flex-1 rtl:[direction:initial] p-4\"\n    >\n      <h3\n        class=\"flex items-center text-xs md:text-sm font-medium m-0 text-slate-800 dark:text-slate-100\"\n      >\n        <div class=\"flex justify-end flex-row-reverse\">\n          <div\n            v-for=\"(rating, key, index) in ratingPercentage\"\n            :key=\"rating + key + index\"\n            class=\"ltr:pr-4 rtl:pl-4\"\n          >\n            <span class=\"my-0 mx-0.5\">{{ ratingToEmoji(key) }}</span>\n            <span>{{ formatToPercent(rating) }}</span>\n          </div>\n        </div>\n      </h3>\n      <div class=\"mt-2\">\n        <woot-horizontal-bar :collection=\"chartData\" :height=\"24\" />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport CsatMetricCard from './ReportMetricCard.vue';\nimport { CSAT_RATINGS } from 'shared/constants/messages';\n\nexport default {\n  components: {\n    CsatMetricCard,\n  },\n  props: {\n    filters: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      csatRatings: CSAT_RATINGS,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      metrics: 'csat/getMetrics',\n      ratingPercentage: 'csat/getRatingPercentage',\n      satisfactionScore: 'csat/getSatisfactionScore',\n      responseRate: 'csat/getResponseRate',\n    }),\n    ratingFilterEnabled() {\n      return Boolean(this.filters.rating);\n    },\n    chartData() {\n      const sortedRatings = [...CSAT_RATINGS].sort((a, b) => b.value - a.value);\n      return {\n        labels: ['Rating'],\n        datasets: sortedRatings.map(rating => ({\n          label: rating.emoji,\n          data: [this.ratingPercentage[rating.value]],\n          backgroundColor: rating.color,\n        })),\n      };\n    },\n    responseCount() {\n      return this.metrics.totalResponseCount\n        ? this.metrics.totalResponseCount.toLocaleString()\n        : '--';\n    },\n  },\n  methods: {\n    formatToPercent(value) {\n      return value ? `${value}%` : '--';\n    },\n    ratingToEmoji(value) {\n      return CSAT_RATINGS.find(rating => rating.value === Number(value)).emoji;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatMetrics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatMetrics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsatMetrics.vue?vue&type=template&id=cdbc978c&\"\nimport script from \"./CsatMetrics.vue?vue&type=script&lang=js&\"\nexport * from \"./CsatMetrics.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"csat--table-container\"},[_c('ve-table',{attrs:{\"max-height\":\"calc(100vh - 21.875rem)\",\"fixed-header\":true,\"border-around\":true,\"columns\":_vm.columns,\"table-data\":_vm.tableData}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tableData.length),expression:\"!tableData.length\"}],staticClass:\"csat--empty-records\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CSAT_REPORTS.NO_RECORDS'))+\"\\n  \")]),_vm._v(\" \"),(_vm.metrics.totalResponseCount)?_c('div',{staticClass:\"table-pagination\"},[_c('ve-pagination',{attrs:{\"total\":_vm.metrics.totalResponseCount,\"page-index\":_vm.pageIndex,\"page-size\":25,\"page-size-option\":[25]},on:{\"on-page-number-change\":_vm.onPageNumberChange}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"csat--table-container\">\n    <ve-table\n      max-height=\"calc(100vh - 21.875rem)\"\n      :fixed-header=\"true\"\n      :border-around=\"true\"\n      :columns=\"columns\"\n      :table-data=\"tableData\"\n    />\n    <div v-show=\"!tableData.length\" class=\"csat--empty-records\">\n      {{ $t('CSAT_REPORTS.NO_RECORDS') }}\n    </div>\n    <div v-if=\"metrics.totalResponseCount\" class=\"table-pagination\">\n      <ve-pagination\n        :total=\"metrics.totalResponseCount\"\n        :page-index=\"pageIndex\"\n        :page-size=\"25\"\n        :page-size-option=\"[25]\"\n        @on-page-number-change=\"onPageNumberChange\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { VeTable, VePagination } from 'vue-easytable';\nimport UserAvatarWithName from 'dashboard/components/widgets/UserAvatarWithName.vue';\nimport { CSAT_RATINGS } from 'shared/constants/messages';\nimport { mapGetters } from 'vuex';\nimport timeMixin from 'dashboard/mixins/time';\nimport rtlMixin from 'shared/mixins/rtlMixin';\n\nexport default {\n  components: {\n    VeTable,\n    VePagination,\n  },\n  mixins: [timeMixin, rtlMixin],\n  props: {\n    pageIndex: {\n      type: Number,\n      default: 1,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'csat/getUIFlags',\n      csatResponses: 'csat/getCSATResponses',\n      metrics: 'csat/getMetrics',\n    }),\n    columns() {\n      return [\n        {\n          field: 'contact',\n          key: 'contact',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.CONTACT_NAME'),\n          align: this.isRTLView ? 'right' : 'left',\n          width: 200,\n          renderBodyCell: ({ row }) => {\n            if (row.contact) {\n              return (\n                <UserAvatarWithName\n                  textClass=\"text-sm text-slate-800\"\n                  size=\"24px\"\n                  user={row.contact}\n                />\n              );\n            }\n            return '---';\n          },\n        },\n        {\n          field: 'assignedAgent',\n          key: 'assignedAgent',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.AGENT_NAME'),\n          align: this.isRTLView ? 'right' : 'left',\n          width: 200,\n          renderBodyCell: ({ row }) => {\n            if (row.assignedAgent) {\n              return (\n                <UserAvatarWithName size=\"24px\" user={row.assignedAgent} />\n              );\n            }\n            return '---';\n          },\n        },\n        {\n          field: 'rating',\n          key: 'rating',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.RATING'),\n          align: 'center',\n          width: 80,\n          renderBodyCell: ({ row }) => {\n            const [ratingObject = {}] = CSAT_RATINGS.filter(\n              rating => rating.value === row.rating\n            );\n            return (\n              <span class=\"emoji-response\">{ratingObject.emoji || '---'}</span>\n            );\n          },\n        },\n        {\n          field: 'feedbackText',\n          key: 'feedbackText',\n          title: this.$t('CSAT_REPORTS.TABLE.HEADER.FEEDBACK_TEXT'),\n          align: this.isRTLView ? 'right' : 'left',\n          width: 400,\n        },\n        {\n          field: 'conversationId',\n          key: 'conversationId',\n          title: '',\n          align: this.isRTLView ? 'right' : 'left',\n          width: 100,\n          renderBodyCell: ({ row }) => {\n            const routerParams = {\n              name: 'inbox_conversation',\n              params: { conversation_id: row.conversationId },\n            };\n            return (\n              <div class=\"text-right\">\n                <router-link to={routerParams}>\n                  {`#${row.conversationId}`}\n                </router-link>\n                <div class=\"csat--timestamp\" v-tooltip={row.createdAt}>\n                  {row.createdAgo}\n                </div>\n              </div>\n            );\n          },\n        },\n      ];\n    },\n    tableData() {\n      return this.csatResponses.map(response => ({\n        contact: response.contact,\n        assignedAgent: response.assigned_agent,\n        rating: response.rating,\n        feedbackText: response.feedback_message || '---',\n        conversationId: response.conversation_id,\n        createdAgo: this.dynamicTime(response.created_at),\n        createdAt: this.messageStamp(response.created_at, 'LLL d yyyy, h:mm a'),\n      }));\n    },\n  },\n  methods: {\n    onPageNumberChange(pageIndex) {\n      this.$emit('page-change', pageIndex);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.csat--table-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  .ve-table {\n    @apply bg-white dark:bg-slate-900;\n\n    &::v-deep {\n      .ve-table-container {\n        border-radius: var(--border-radius-normal);\n      }\n\n      th.ve-table-header-th {\n        font-size: var(--font-size-mini) !important;\n        padding: var(--space-normal) !important;\n      }\n\n      td.ve-table-body-td {\n        padding: var(--space-small) var(--space-normal) !important;\n      }\n    }\n  }\n\n  &::v-deep .ve-pagination {\n    background-color: transparent;\n  }\n\n  &::v-deep .ve-pagination-select {\n    display: none;\n  }\n\n  .emoji-response {\n    font-size: var(--font-size-large);\n  }\n\n  .table-pagination {\n    margin-top: var(--space-normal);\n    text-align: right;\n  }\n}\n\n.csat--empty-records {\n  align-items: center;\n  // border: 1px solid var(--color-border);\n  border-top: 0;\n  display: flex;\n  font-size: var(--font-size-small);\n  height: 12.5rem;\n  justify-content: center;\n  margin-top: -1px;\n  width: 100%;\n  @apply text-slate-600 dark:text-slate-200 bg-white dark:bg-slate-900 border border-t-0 border-solid border-slate-75 dark:border-slate-700;\n}\n\n.csat--timestamp {\n  @apply text-slate-600 dark:text-slate-200 text-sm;\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsatTable.vue?vue&type=template&id=5abfacf4&scoped=true&\"\nimport script from \"./CsatTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CsatTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CsatTable.vue?vue&type=style&index=0&id=5abfacf4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5abfacf4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex-1 overflow-auto p-4\">\n    <report-filter-selector\n      :show-agents-filter=\"true\"\n      :show-inbox-filter=\"true\"\n      :show-rating-filter=\"true\"\n      :show-team-filter=\"isTeamsEnabled\"\n      :show-business-hours-switch=\"false\"\n      @filter-change=\"onFilterChange\"\n    />\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"arrow-download\"\n      @click=\"downloadReports\"\n    >\n      {{ $t('CSAT_REPORTS.DOWNLOAD') }}\n    </woot-button>\n    <csat-metrics :filters=\"requestPayload\" />\n    <csat-table :page-index=\"pageIndex\" @page-change=\"onPageNumberChange\" />\n  </div>\n</template>\n<script>\nimport CsatMetrics from './components/CsatMetrics.vue';\nimport CsatTable from './components/CsatTable.vue';\nimport ReportFilterSelector from './components/FilterSelector.vue';\nimport { generateFileName } from '../../../../helper/downloadHelper';\nimport { REPORTS_EVENTS } from '../../../../helper/AnalyticsHelper/events';\nimport { mapGetters } from 'vuex';\nimport { FEATURE_FLAGS } from '../../../../featureFlags';\nimport alertMixin from '../../../../../shared/mixins/alertMixin';\n\nexport default {\n  name: 'CsatResponses',\n  components: {\n    CsatMetrics,\n    CsatTable,\n    ReportFilterSelector,\n  },\n  mixins: [alertMixin],\n  data() {\n    return {\n      pageIndex: 1,\n      from: 0,\n      to: 0,\n      userIds: [],\n      inbox: null,\n      team: null,\n      rating: null,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledOnAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    requestPayload() {\n      return {\n        from: this.from,\n        to: this.to,\n        user_ids: this.userIds,\n        inbox_id: this.inbox,\n        team_id: this.team,\n        rating: this.rating,\n      };\n    },\n    isTeamsEnabled() {\n      return this.isFeatureEnabledOnAccount(\n        this.accountId,\n        FEATURE_FLAGS.TEAM_MANAGEMENT\n      );\n    },\n  },\n  methods: {\n    getAllData() {\n      try {\n        this.$store.dispatch('csat/getMetrics', this.requestPayload);\n        this.getResponses();\n      } catch {\n        this.showAlert(this.$t('REPORT.DATA_FETCHING_FAILED'));\n      }\n    },\n    getResponses() {\n      this.$store.dispatch('csat/get', {\n        page: this.pageIndex,\n        ...this.requestPayload,\n      });\n    },\n    downloadReports() {\n      const type = 'csat';\n      try {\n        this.$store.dispatch('csat/downloadCSATReports', {\n          fileName: generateFileName({ type, to: this.to }),\n          ...this.requestPayload,\n        });\n      } catch (error) {\n        this.showAlert(this.$t('REPORT.CSAT_REPORTS.DOWNLOAD_FAILED'));\n      }\n    },\n    onPageNumberChange(pageIndex) {\n      this.pageIndex = pageIndex;\n      this.getResponses();\n    },\n    onFilterChange({\n      from,\n      to,\n      selectedAgents,\n      selectedInbox,\n      selectedTeam,\n      selectedRating,\n    }) {\n      // do not track filter change on inital load\n      if (this.from !== 0 && this.to !== 0) {\n        this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n          filterType: 'date',\n          reportType: 'csat',\n        });\n      }\n\n      this.from = from;\n      this.to = to;\n      this.userIds = selectedAgents.map(el => el.id);\n      this.inbox = selectedInbox?.id;\n      this.team = selectedTeam?.id;\n      this.rating = selectedRating?.value;\n\n      this.getAllData();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatResponses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CsatResponses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CsatResponses.vue?vue&type=template&id=203139b1&\"\nimport script from \"./CsatResponses.vue?vue&type=script&lang=js&\"\nexport * from \"./CsatResponses.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}