{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{3393:function(e,t,r){\"use strict\";r.r(t);r(36),r(1869),r(13),r(9),r(11),r(15),r(12),r(16),r(10),r(28);var i=r(32),n=r(3116),c=r(3113),a=r(1780),l=r(79),o=r(3117),s=r(94);function u(e,t,r,i,n,c,a){try{var l=e[c](a),o=l.value}catch(s){return void r(s)}l.done?t(o):Promise.resolve(o).then(i,n)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={components:{EditArticleHeader:n.a,ArticleEditor:c.a,ArticleSettings:o.a},mixins:[a.a,l.a],data:function(){return{articleTitle:\"\",articleContent:\"\",showOpenSidebarButton:!1,showArticleSettings:!0,article:{}}},computed:p(p({},Object(i.mapGetters)({currentUserID:\"getCurrentUserID\",articles:\"articles/articles\",categories:\"categories/allCategories\"})),{},{articleId:function(){return this.$route.params.articleSlug},newArticle:function(){return{title:this.articleTitle,content:this.articleContent}},selectedPortalSlug:function(){return this.$route.params.portalSlug},categoryId:function(){return this.categories.length?this.categories[0].id:null}}),methods:{onClickGoBack:function(){this.$router.push({name:\"list_all_locale_articles\"})},createNewArticle:function(e){var t,r=this;return(t=regeneratorRuntime.mark((function t(){var i,n,c,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object.assign({},e),n=i.title,c=i.content,n&&(r.articleTitle=n),c&&(r.articleContent=c),!r.articleTitle||!r.articleContent){t.next=17;break}return t.prev=5,t.next=8,r.$store.dispatch(\"articles/create\",{portalSlug:r.selectedPortalSlug,content:r.articleContent,title:r.articleTitle,author_id:r.currentUserID,category_id:r.categoryId});case 8:a=t.sent,r.$router.push({name:\"edit_article\",params:{articleSlug:a,portalSlug:r.selectedPortalSlug,locale:r.locale,recentlyCreated:!0}}),r.$track(s.i.CREATE_ARTICLE,{locale:r.locale}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),r.alertMessage=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||r.$t(\"HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE\"),r.showAlert(r.alertMessage);case 17:case\"end\":return t.stop()}}),t,null,[[5,13]])})),function(){var e=this,r=arguments;return new Promise((function(i,n){var c=t.apply(e,r);function a(e){u(c,i,n,a,l,\"next\",e)}function l(e){u(c,i,n,a,l,\"throw\",e)}a(void 0)}))})()},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},saveArticle:function(){this.alertMessage=this.$t(\"HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE\"),this.showAlert(this.alertMessage)}}},d=h,v=r(8),w=Object(v.a)(d,(function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"flex flex-1 overflow-auto\"},[t(\"div\",{staticClass:\"flex-1 overflow-y-auto flex-shrink-0 px-6\",class:{\"flex-grow-1\":e.showArticleSettings}},[t(\"edit-article-header\",{attrs:{\"back-button-label\":e.$t(\"HELP_CENTER.HEADER.TITLES.ALL_ARTICLES\"),\"draft-state\":\"saved\",\"is-sidebar-open\":e.showArticleSettings},on:{back:e.onClickGoBack,open:e.openArticleSettings,close:e.closeArticleSettings,\"save-article\":e.createNewArticle}}),e._v(\" \"),t(\"article-editor\",{attrs:{article:e.newArticle},on:{\"save-article\":e.createNewArticle}})],1),e._v(\" \"),e.showArticleSettings?t(\"article-settings\",{attrs:{article:e.article},on:{\"save-article\":e.saveArticle}}):e._e()],1)}),[],!1,null,null,null);t.default=w.exports}}]);","name":"js/108-815204132a8b7f9d8094.chunk.js","map":{"version":3,"names":["window","push","module","__webpack_exports__","__webpack_require__","r","vuex","EditArticleHeader","ArticleEditor","portalMixin","alertMixin","ArticleSettings","events","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","NewArticlevue_type_script_lang_js_","components","mixins","data","articleTitle","articleContent","showOpenSidebarButton","showArticleSettings","article","computed","currentUserID","articles","categories","articleId","this","$route","params","articleSlug","newArticle","title","content","selectedPortalSlug","portalSlug","categoryId","id","methods","onClickGoBack","$router","name","createNewArticle","_ref","fn","_this","regeneratorRuntime","mark","_callee","values","wrap","_context","prev","next","assign","$store","dispatch","author_id","category_id","sent","locale","recentlyCreated","$track","CREATE_ARTICLE","t0","alertMessage","message","$t","showAlert","stop","self","args","err","undefined","openArticleSettings","closeArticleSettings","saveArticle","articles_NewArticlevue_type_script_lang_js_","componentNormalizer","component","_vm","_c","_self","staticClass","class","attrs","on","back","open","close","_v","_e"],"sources":["js/108-815204132a8b7f9d8094.chunk.js"],"mappings":"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,KAAK,CAE9D,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAWRC,EAAoB,IAGXA,EAAoB,MAGtBA,EAAoB,IAGzBA,EAAoB,GAGdA,EAAoB,IAGEA,EAAoB,IAG7BA,EAAoB,IAGVA,EAAoB,IAGvCA,EAAoB,IAG7BA,EAAoB,IAnCrC,IAsCIE,EAAOF,EAAoB,IAG3BG,EAAoBH,EAAoB,MAGxCI,EAAgBJ,EAAoB,MAGpCK,EAAcL,EAAoB,MAGlCM,EAAaN,EAAoB,IAGjCO,EAAkBP,EAAoB,MAGtCQ,EAASR,EAAoB,IAGjC,SAASS,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAOC,EAAIC,GAAK,IAAI,IAAIC,EAAKP,EAAIK,GAAKC,GAASE,EAAMD,EAAKC,MAAO,MAAMC,GAAqB,YAAdP,EAAOO,GAAkBF,EAAKG,KAAMT,EAAQO,GAAaG,QAAQV,QAAQO,GAAOI,KAAKT,EAAMC,GAAqW,SAASS,EAAQC,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAK7B,KAAKqC,MAAMR,EAAKG,GAAU,OAAOH,EAAM,SAASS,EAAcC,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAC,IAAIG,EAAqB,MAAdF,UAAUD,GAASC,UAAUD,GAAG,GAAMA,EAAE,EAAGd,EAAQI,OAAOa,IAAQ,GAAMC,SAAQ,SAAS1B,GAAK2B,EAAgBN,EAAOrB,EAAIyB,EAAOzB,OAAkBY,OAAOgB,0BAA2BhB,OAAOiB,iBAAiBR,EAAOT,OAAOgB,0BAA0BH,IAAejB,EAAQI,OAAOa,IAASC,SAAQ,SAAS1B,GAAKY,OAAOkB,eAAeT,EAAOrB,EAAIY,OAAOK,yBAAyBQ,EAAOzB,OAAW,OAAOqB,EAAQ,SAASM,EAAgBI,EAAI/B,EAAIG,GAAyI,OAA/HH,KAAO+B,EAAKnB,OAAOkB,eAAeC,EAAI/B,EAAI,CAACG,MAAMA,EAAMe,YAAW,EAAKc,cAAa,EAAKC,UAAS,IAAaF,EAAI/B,GAAKG,EAAc4B,EAAkC,IAAIG,EAAqC,CAAEC,WAAW,CAAC/C,kBAAkBA,EAAmC,EAAEC,cAAcA,EAA+B,EAAEG,gBAAgBA,EAAiC,GAAG4C,OAAO,CAAC9C,EAA6B,EAAEC,EAA4B,GAAG8C,KAAK,WAAgB,MAAM,CAACC,aAAa,GAAGC,eAAe,GAAGC,uBAAsB,EAAMC,qBAAoB,EAAKC,QAAQ,KAAMC,SAASvB,EAAcA,EAAc,GAAGR,OAAOzB,EAAiB,WAAxByB,CAA2B,CAACgC,cAAc,mBAAmBC,SAAS,oBAAoBC,WAAW,8BAA8B,GAAG,CAACC,UAAU,WAAqB,OAAOC,KAAKC,OAAOC,OAAOC,aAAcC,WAAW,WAAsB,MAAM,CAACC,MAAML,KAAKV,aAAagB,QAAQN,KAAKT,iBAAkBgB,mBAAmB,WAA8B,OAAOP,KAAKC,OAAOC,OAAOM,YAAaC,WAAW,WAAsB,OAAOT,KAAKF,WAAWtB,OAAOwB,KAAKF,WAAW,GAAGY,GAAG,QAASC,QAAQ,CAACC,cAAc,WAAyBZ,KAAKa,QAAQ/E,KAAK,CAACgF,KAAK,8BAA+BC,iBAAiB,SAA0BC,GAAM,IAA12EC,EAA82EC,EAAMlB,KAAK,OAAz3EiB,EAA+5EE,mBAAmBC,MAAK,SAASC,IAAU,IAAIC,EAAOjB,EAAMC,EAAQP,EAAU,OAAOoB,mBAAmBI,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAoJ,GAAlJJ,EAAO1D,OAAO+D,OAAO,GAAGX,GAAMX,EAAMiB,EAAOjB,MAAMC,EAAQgB,EAAOhB,QAAWD,IAAMa,EAAM5B,aAAae,GAASC,IAAQY,EAAM3B,eAAee,IAAaY,EAAM5B,eAAc4B,EAAM3B,eAAgB,CAACiC,EAASE,KAAK,GAAG,MAAuC,OAAhCF,EAASC,KAAK,EAAED,EAASE,KAAK,EAASR,EAAMU,OAAOC,SAAS,kBAAkB,CAACrB,WAAWU,EAAMX,mBAAmBD,QAAQY,EAAM3B,eAAec,MAAMa,EAAM5B,aAAawC,UAAUZ,EAAMtB,cACnvGmC,YAAYb,EAAMT,aAAa,KAAK,EAAEV,EAAUyB,EAASQ,KAAKd,EAAML,QAAQ/E,KAAK,CAACgF,KAAK,eAAeZ,OAAO,CAACC,YAAYJ,EAAUS,WAAWU,EAAMX,mBAAmB0B,OAAOf,EAAMe,OAAOC,iBAAgB,KAAQhB,EAAMiB,OAAO1F,EAA+B,EAAE2F,eAAe,CAACH,OAAOf,EAAMe,SAAST,EAASE,KAAK,GAAG,MAAM,KAAK,GAAGF,EAASC,KAAK,GAAGD,EAASa,GAAGb,EAAgB,MAAE,GAAGN,EAAMoB,cAA4B,OAAdd,EAASa,SAAyB,IAAdb,EAASa,QAAY,EAAOb,EAASa,GAAGE,UAAUrB,EAAMsB,GAAG,gDAAgDtB,EAAMuB,UAAUvB,EAAMoB,cAAc,KAAK,GAAG,IAAI,MAAM,OAAOd,EAASkB,UAAWrB,EAAQ,KAAK,CAAC,CAAC,EAAE,SADhW,WAAW,IAAIsB,EAAK3C,KAAK4C,EAAKrE,UAAU,OAAO,IAAIjB,SAAQ,SAASV,EAAQC,GAAQ,IAAIF,EAAIsE,EAAG9C,MAAMwE,EAAKC,GAAM,SAAS9F,EAAMK,GAAOT,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,OAAOI,GAAQ,SAASJ,EAAO8F,GAAKnG,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,QAAQ8F,GAAM/F,OAAMgG,WAC0EC,oBAAoB,WAA+B/C,KAAKP,qBAAoB,GAAOuD,qBAAqB,WAAgChD,KAAKP,qBAAoB,GAAQwD,YAAY,WAAuBjD,KAAKsC,aAAatC,KAAKwC,GAAG,4CAA4CxC,KAAKyC,UAAUzC,KAAKsC,iBAEh4BY,EAA8C,EAE5EC,EAAsBlH,EAAoB,GAU1CmH,EAAYxF,OAAOuF,EAAqC,EAA5CvF,CACdsF,GA3EW,WAAkB,IAAIG,EAAIrD,KAAKsD,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,4CAA4CC,MAAM,CAAE,cAAeJ,EAAI5D,sBAAuB,CAAC6D,EAAG,sBAAsB,CAACI,MAAM,CAAC,oBAAoBL,EAAIb,GAAG,0CAA0C,cAAc,QAAQ,kBAAkBa,EAAI5D,qBAAqBkE,GAAG,CAACC,KAAOP,EAAIzC,cAAciD,KAAOR,EAAIN,oBAAoBe,MAAQT,EAAIL,qBAAqB,eAAeK,EAAItC,oBAAoBsC,EAAIU,GAAG,KAAKT,EAAG,iBAAiB,CAACI,MAAM,CAAChE,QAAU2D,EAAIjD,YAAYuD,GAAG,CAAC,eAAeN,EAAItC,qBAAqB,GAAGsC,EAAIU,GAAG,KAAMV,EAAuB,oBAAEC,EAAG,mBAAmB,CAACI,MAAM,CAAChE,QAAU2D,EAAI3D,SAASiE,GAAG,CAAC,eAAeN,EAAIJ,eAAeI,EAAIW,MAAM,KAE7vB,IA4EpB,EACA,KACA,KACA,MAI4ChI,EAA6B,QAAKoH,EAAiB"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[108],{\n\n/***/ 3393:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?vue&type=template&id=d3bd99b0&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-1 overflow-auto\"},[_c('div',{staticClass:\"flex-1 overflow-y-auto flex-shrink-0 px-6\",class:{ 'flex-grow-1': _vm.showArticleSettings }},[_c('edit-article-header',{attrs:{\"back-button-label\":_vm.$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES'),\"draft-state\":\"saved\",\"is-sidebar-open\":_vm.showArticleSettings},on:{\"back\":_vm.onClickGoBack,\"open\":_vm.openArticleSettings,\"close\":_vm.closeArticleSettings,\"save-article\":_vm.createNewArticle}}),_vm._v(\" \"),_c('article-editor',{attrs:{\"article\":_vm.newArticle},on:{\"save-article\":_vm.createNewArticle}})],1),_vm._v(\" \"),(_vm.showArticleSettings)?_c('article-settings',{attrs:{\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?vue&type=template&id=d3bd99b0&\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__(1869);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/components/Header/EditArticleHeader.vue + 4 modules\nvar EditArticleHeader = __webpack_require__(3116);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/components/ArticleEditor.vue + 9 modules\nvar ArticleEditor = __webpack_require__(3113);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/mixins/portalMixin.js\nvar portalMixin = __webpack_require__(1780);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/ArticleSettings.vue + 4 modules\nvar ArticleSettings = __webpack_require__(3117);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/AnalyticsHelper/events.js\nvar events = __webpack_require__(94);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var NewArticlevue_type_script_lang_js_ = ({components:{EditArticleHeader:EditArticleHeader[\"a\" /* default */],ArticleEditor:ArticleEditor[\"a\" /* default */],ArticleSettings:ArticleSettings[\"a\" /* default */]},mixins:[portalMixin[\"a\" /* default */],alertMixin[\"a\" /* default */]],data:function data(){return{articleTitle:'',articleContent:'',showOpenSidebarButton:false,showArticleSettings:true,article:{}};},computed:_objectSpread(_objectSpread({},Object(vuex[\"mapGetters\"])({currentUserID:'getCurrentUserID',articles:'articles/articles',categories:'categories/allCategories'})),{},{articleId:function articleId(){return this.$route.params.articleSlug;},newArticle:function newArticle(){return{title:this.articleTitle,content:this.articleContent};},selectedPortalSlug:function selectedPortalSlug(){return this.$route.params.portalSlug;},categoryId:function categoryId(){return this.categories.length?this.categories[0].id:null;}}),methods:{onClickGoBack:function onClickGoBack(){this.$router.push({name:'list_all_locale_articles'});},createNewArticle:function createNewArticle(_ref){var _this=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var values,title,content,articleId;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values=Object.assign({},_ref);title=values.title,content=values.content;if(title)_this.articleTitle=title;if(content)_this.articleContent=content;if(!(_this.articleTitle&&_this.articleContent)){_context.next=17;break;}_context.prev=5;_context.next=8;return _this.$store.dispatch('articles/create',{portalSlug:_this.selectedPortalSlug,content:_this.articleContent,title:_this.articleTitle,author_id:_this.currentUserID,// TODO: Change to un categorized later when API supports\ncategory_id:_this.categoryId});case 8:articleId=_context.sent;_this.$router.push({name:'edit_article',params:{articleSlug:articleId,portalSlug:_this.selectedPortalSlug,locale:_this.locale,recentlyCreated:true}});_this.$track(events[\"i\" /* PORTALS_EVENTS */].CREATE_ARTICLE,{locale:_this.locale});_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](5);_this.alertMessage=(_context.t0===null||_context.t0===void 0?void 0:_context.t0.message)||_this.$t('HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE');_this.showAlert(_this.alertMessage);case 17:case\"end\":return _context.stop();}}},_callee,null,[[5,13]]);}))();},openArticleSettings:function openArticleSettings(){this.showArticleSettings=true;},closeArticleSettings:function closeArticleSettings(){this.showArticleSettings=false;},saveArticle:function saveArticle(){this.alertMessage=this.$t('HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE');this.showAlert(this.alertMessage);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?vue&type=script&lang=js&\n /* harmony default export */ var articles_NewArticlevue_type_script_lang_js_ = (NewArticlevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  articles_NewArticlevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var NewArticle = __webpack_exports__[\"default\"] = (component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?vue&type=template&id=d3bd99b0&","app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue"],"names":[],"mappings":";;;;;;;;;;AAAA,+BAA+B,6BAA6B,iBAAiB,wCAAwC,YAAY,+DAA+D,0CAA0C,4BAA4B,OAAO,qIAAqI,KAAK,8HAA8H,mCAAmC,OAAO,yBAAyB,KAAK,qCAAqC,mEAAmE,OAAO,sBAAsB,KAAK,gCAAgC;AACvwB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qhDC+BA,wEACA,YACA,sDADA,CAEA,8CAFA,CAGA,kDAHA,CADA,CAMA,qEANA,CAOA,IAPA,gBAOA,CACA,OACA,eADA,CAEA,iBAFA,CAGA,2BAHA,CAIA,wBAJA,CAKA,UALA,EAOA,CAfA,CAgBA,wCACA,4BACA,gCADA,CAEA,4BAFA,CAGA,qCAHA,EADA,MAMA,SANA,qBAMA,CACA,sCACA,CARA,CASA,UATA,sBASA,CACA,4DACA,CAXA,CAYA,kBAZA,8BAYA,CACA,qCACA,CAdA,CAeA,UAfA,sBAeA,CACA,yDACA,CAjBA,EAhBA,CAmCA,SACA,aADA,yBACA,CACA,qDACA,CAHA,CAIA,gBAJA,gCAIA,iRACA,KADA,CACA,MADA,CACA,KADA,CACA,OADA,CACA,MADA,CACA,OADA,CAEA,kCACA,wCAHA,KAIA,wCAJA,iEAMA,0CACA,mCADA,CAEA,4BAFA,CAGA,wBAHA,CAIA,6BAJA,CAKA;AACA,4BANA,EANA,QAMA,SANA,eAcA,oBACA,mBADA,CAEA,QACA,qBADA,CAEA,mCAFA,CAGA,mBAHA,CAIA,oBAJA,CAFA,GASA,8DACA,mBADA,GAvBA,iFA2BA,mBACA,uEACA,wDAFA,CAGA,oCA9BA,0EAiCA,CArCA,CAsCA,mBAtCA,+BAsCA,CACA,8BACA,CAxCA,CAyCA,oBAzCA,gCAyCA,CACA,+BACA,CA3CA,CA4CA,WA5CA,uBA4CA,CACA,sEACA,kCACA,CA/CA,CAnCA,G;;ACjCwN,CAAgB,kHAAG,EAAC,C;;;;;ACAnJ;AAC3B;AACL;;;AAGzD;AAC4G;AAC5G,gBAAgB,8CAAU;AAC1B,EAAE,2CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,iG","file":"x","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-1 overflow-auto\"},[_c('div',{staticClass:\"flex-1 overflow-y-auto flex-shrink-0 px-6\",class:{ 'flex-grow-1': _vm.showArticleSettings }},[_c('edit-article-header',{attrs:{\"back-button-label\":_vm.$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES'),\"draft-state\":\"saved\",\"is-sidebar-open\":_vm.showArticleSettings},on:{\"back\":_vm.onClickGoBack,\"open\":_vm.openArticleSettings,\"close\":_vm.closeArticleSettings,\"save-article\":_vm.createNewArticle}}),_vm._v(\" \"),_c('article-editor',{attrs:{\"article\":_vm.newArticle},on:{\"save-article\":_vm.createNewArticle}})],1),_vm._v(\" \"),(_vm.showArticleSettings)?_c('article-settings',{attrs:{\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-1 overflow-auto\">\n    <div\n      class=\"flex-1 overflow-y-auto flex-shrink-0 px-6\"\n      :class=\"{ 'flex-grow-1': showArticleSettings }\"\n    >\n      <edit-article-header\n        :back-button-label=\"$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES')\"\n        draft-state=\"saved\"\n        :is-sidebar-open=\"showArticleSettings\"\n        @back=\"onClickGoBack\"\n        @open=\"openArticleSettings\"\n        @close=\"closeArticleSettings\"\n        @save-article=\"createNewArticle\"\n      />\n      <article-editor :article=\"newArticle\" @save-article=\"createNewArticle\" />\n    </div>\n    <article-settings\n      v-if=\"showArticleSettings\"\n      :article=\"article\"\n      @save-article=\"saveArticle\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport EditArticleHeader from 'dashboard/routes/dashboard/helpcenter/components/Header/EditArticleHeader.vue';\nimport ArticleEditor from '../../components/ArticleEditor.vue';\nimport portalMixin from '../../mixins/portalMixin';\nimport alertMixin from 'shared/mixins/alertMixin.js';\nimport ArticleSettings from './ArticleSettings.vue';\nimport { PORTALS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\nexport default {\n  components: {\n    EditArticleHeader,\n    ArticleEditor,\n    ArticleSettings,\n  },\n  mixins: [portalMixin, alertMixin],\n  data() {\n    return {\n      articleTitle: '',\n      articleContent: '',\n      showOpenSidebarButton: false,\n      showArticleSettings: true,\n      article: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentUserID: 'getCurrentUserID',\n      articles: 'articles/articles',\n      categories: 'categories/allCategories',\n    }),\n    articleId() {\n      return this.$route.params.articleSlug;\n    },\n    newArticle() {\n      return { title: this.articleTitle, content: this.articleContent };\n    },\n    selectedPortalSlug() {\n      return this.$route.params.portalSlug;\n    },\n    categoryId() {\n      return this.categories.length ? this.categories[0].id : null;\n    },\n  },\n  methods: {\n    onClickGoBack() {\n      this.$router.push({ name: 'list_all_locale_articles' });\n    },\n    async createNewArticle({ ...values }) {\n      const { title, content } = values;\n      if (title) this.articleTitle = title;\n      if (content) this.articleContent = content;\n      if (this.articleTitle && this.articleContent) {\n        try {\n          const articleId = await this.$store.dispatch('articles/create', {\n            portalSlug: this.selectedPortalSlug,\n            content: this.articleContent,\n            title: this.articleTitle,\n            author_id: this.currentUserID,\n            // TODO: Change to un categorized later when API supports\n            category_id: this.categoryId,\n          });\n          this.$router.push({\n            name: 'edit_article',\n            params: {\n              articleSlug: articleId,\n              portalSlug: this.selectedPortalSlug,\n              locale: this.locale,\n              recentlyCreated: true,\n            },\n          });\n          this.$track(PORTALS_EVENTS.CREATE_ARTICLE, {\n            locale: this.locale,\n          });\n        } catch (error) {\n          this.alertMessage =\n            error?.message ||\n            this.$t('HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE');\n          this.showAlert(this.alertMessage);\n        }\n      }\n    },\n    openArticleSettings() {\n      this.showArticleSettings = true;\n    },\n    closeArticleSettings() {\n      this.showArticleSettings = false;\n    },\n    saveArticle() {\n      this.alertMessage = this.$t('HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE');\n      this.showAlert(this.alertMessage);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewArticle.vue?vue&type=template&id=d3bd99b0&\"\nimport script from \"./NewArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./NewArticle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}