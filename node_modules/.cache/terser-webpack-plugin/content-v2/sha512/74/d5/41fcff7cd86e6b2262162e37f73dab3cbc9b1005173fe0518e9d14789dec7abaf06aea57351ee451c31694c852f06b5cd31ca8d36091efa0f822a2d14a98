{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{2658:function(t,e,r){\"use strict\";r.d(e,\"b\",(function(){return i})),r.d(e,\"a\",(function(){return a}));r(51);var i=function(t){var e=window.chatwootConfig,r=e.hostURL,i=e.helpCenterURL;return\"\".concat(i||r||\"\",\"/hc/\").concat(t)},a=function(t,e,r,a){var n=i(t);return\"\".concat(n,\"/articles/\").concat(a)}},3394:function(t,e,r){\"use strict\";r.r(e);r(36),r(1869),r(13),r(9),r(11),r(15),r(12),r(16),r(10),r(28);var i=r(32),a=r(3116),n=r(3113),s=r(3117),o=r(190),c=r(1780),l=r(79),u=r(147),p=r(2658),h=r(94);function E(t,e,r,i,a,n,s){try{var o=t[n](s),c=o.value}catch(l){return void r(l)}o.done?e(c):Promise.resolve(c).then(i,a)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(i,a){var n=t.apply(e,r);function s(t){E(n,i,a,s,o,\"next\",t)}function o(t){E(n,i,a,s,o,\"throw\",t)}s(void 0)}))}}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A=u.b.ARTICLE_STATUS_TYPES,w={components:{EditArticleHeader:a.a,ArticleEditor:n.a,Spinner:o.a,ArticleSettings:s.a},mixins:[c.a,l.a],data:function(){return{isUpdating:!1,isSaved:!1,showArticleSettings:!0,alertMessage:\"\",showDeleteConfirmationPopup:!1}},computed:g(g({},Object(i.mapGetters)({isFetching:\"articles/isFetching\",articles:\"articles/articles\"})),{},{article:function(){return this.$store.getters[\"articles/articleById\"](this.articleId)},articleId:function(){return this.$route.params.articleSlug},selectedPortalSlug:function(){return this.$route.params.portalSlug},selectedLocale:function(){return this.$route.params.locale},portalLink:function(){var t=this.$route.params.portalSlug;return Object(p.a)(t,this.article.category.slug,this.article.category.locale,this.article.slug)}}),mounted:function(){this.fetchArticleDetails()},methods:{onClickGoBack:function(){window.history.length>2?this.$router.go(-1):this.$router.push({name:\"list_all_locale_articles\"})},fetchArticleDetails:function(){this.$store.dispatch(\"articles/show\",{id:this.articleId,portalSlug:this.selectedPortalSlug})},openDeletePopup:function(){this.showDeleteConfirmationPopup=!0},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},confirmDeletion:function(){var t;this.closeDeletePopup(),this.deleteArticle(),this.$track(h.i.DELETE_ARTICLE,{status:null===(t=this.article)||void 0===t?void 0:t.status})},saveArticle:function(t){var e=this;return d(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Object.assign({},t),e.isUpdating=!0,r.prev=2,r.next=5,e.$store.dispatch(\"articles/update\",g({portalSlug:e.selectedPortalSlug,articleId:e.articleId},i));case 5:r.next=11;break;case 7:r.prev=7,r.t0=r.catch(2),e.alertMessage=(null===r.t0||void 0===r.t0?void 0:r.t0.message)||e.$t(\"HELP_CENTER.EDIT_ARTICLE.API.ERROR\"),e.showAlert(e.alertMessage);case 11:return r.prev=11,setTimeout((function(){e.isUpdating=!1,e.isSaved=!0}),1500),r.finish(11);case 14:case\"end\":return r.stop()}}),r,null,[[2,7,11,14]])})))()},deleteArticle:function(){var t=this;return d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch(\"articles/delete\",{portalSlug:t.selectedPortalSlug,articleId:t.articleId});case 3:t.alertMessage=t.$t(\"HELP_CENTER.DELETE_ARTICLE.API.SUCCESS_MESSAGE\"),t.$router.push({name:\"list_all_locale_articles\",params:{portalSlug:t.selectedPortalSlug,locale:t.locale,recentlyDeleted:!0}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||t.$t(\"HELP_CENTER.DELETE_ARTICLE.API.ERROR_MESSAGE\");case 10:return e.prev=10,t.showAlert(t.alertMessage),e.finish(10);case 13:case\"end\":return e.stop()}}),e,null,[[0,7,10,13]])})))()},archiveArticle:function(){var t=this;return d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch(\"articles/update\",{portalSlug:t.selectedPortalSlug,articleId:t.articleId,status:A.ARCHIVE});case 3:t.alertMessage=t.$t(\"HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS\"),t.$track(h.i.ARCHIVE_ARTICLE,{uiFrom:\"sidebar\"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||t.$t(\"HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR\");case 10:return e.prev=10,t.showAlert(t.alertMessage),e.finish(10);case 13:case\"end\":return e.stop()}}),e,null,[[0,7,10,13]])})))()},updateMeta:function(){var t={portalSlug:this.selectedPortalSlug,locale:this.selectedLocale};return this.$store.dispatch(\"portals/show\",t)},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},showArticleInPortal:function(){var t;window.open(this.portalLink,\"_blank\"),this.$track(h.i.PREVIEW_ARTICLE,{status:null===(t=this.article)||void 0===t?void 0:t.status})}}},R=r(8),S=Object(R.a)(w,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"article-container flex w-full overflow-auto\"},[e(\"div\",{staticClass:\"flex-1 flex-shrink-0 overflow-auto px-6\",class:{\"flex-grow-1 flex-shrink-0\":t.showArticleSettings}},[e(\"edit-article-header\",{attrs:{\"back-button-label\":t.$t(\"HELP_CENTER.HEADER.TITLES.ALL_ARTICLES\"),\"is-updating\":t.isUpdating,\"is-saved\":t.isSaved,\"is-sidebar-open\":t.showArticleSettings},on:{back:t.onClickGoBack,open:t.openArticleSettings,close:t.closeArticleSettings,show:t.showArticleInPortal,\"update-meta\":t.updateMeta}}),t._v(\" \"),t.isFetching?e(\"div\",{staticClass:\"text-center p-4 text-base h-full\"},[e(\"spinner\",{attrs:{size:\"\"}}),t._v(\" \"),e(\"span\",[t._v(t._s(t.$t(\"HELP_CENTER.EDIT_ARTICLE.LOADING\")))])],1):e(\"article-editor\",{attrs:{\"is-settings-sidebar-open\":t.showArticleSettings,article:t.article},on:{\"save-article\":t.saveArticle}})],1),t._v(\" \"),t.showArticleSettings?e(\"article-settings\",{attrs:{article:t.article},on:{\"save-article\":t.saveArticle,\"delete-article\":t.openDeletePopup,\"archive-article\":t.archiveArticle,\"update-meta\":t.updateMeta}}):t._e(),t._v(\" \"),e(\"woot-delete-modal\",{attrs:{show:t.showDeleteConfirmationPopup,\"on-close\":t.closeDeletePopup,\"on-confirm\":t.confirmDeletion,title:t.$t(\"HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.TITLE\"),message:t.$t(\"HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.MESSAGE\"),\"confirm-text\":t.$t(\"HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.YES\"),\"reject-text\":t.$t(\"HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.NO\")},on:{\"update:show\":function(e){t.showDeleteConfirmationPopup=e}}})],1)}),[],!1,null,null,null);e.default=S.exports}}]);","name":"js/98-b1da69ed928ee36530fe.chunk.js","map":{"version":3,"names":["window","push","module","__webpack_exports__","__webpack_require__","d","buildPortalURL","buildPortalArticleURL","portalSlug","_window$chatwootConfi","chatwootConfig","hostURL","helpCenterURL","concat","categorySlug","locale","articleSlug","portalURL","r","vuex","EditArticleHeader","ArticleEditor","ArticleSettings","Spinner","portalMixin","alertMixin","globals","portalHelper","events","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","ARTICLE_STATUS_TYPES","articles_EditArticlevue_type_script_lang_js_","components","mixins","data","isUpdating","isSaved","showArticleSettings","alertMessage","showDeleteConfirmationPopup","computed","isFetching","articles","article","$store","getters","articleId","$route","params","selectedPortalSlug","selectedLocale","portalLink","slug","category","mounted","fetchArticleDetails","methods","onClickGoBack","history","$router","go","name","dispatch","id","openDeletePopup","closeDeletePopup","confirmDeletion","_this$article","deleteArticle","$track","DELETE_ARTICLE","status","saveArticle","_ref","_this","regeneratorRuntime","mark","_callee","values","wrap","_context","prev","next","assign","t0","message","$t","showAlert","setTimeout","finish","stop","_this2","_callee2","_context2","recentlyDeleted","archiveArticle","_this3","_callee3","_context3","ARCHIVE","ARCHIVE_ARTICLE","uiFrom","updateMeta","selectedPortalParam","openArticleSettings","closeArticleSettings","showArticleInPortal","_this$article2","open","PREVIEW_ARTICLE","componentNormalizer","component","_vm","_c","_self","staticClass","class","attrs","on","back","close","show","_v","size","_s","_e","title","$event"],"sources":["js/98-b1da69ed928ee36530fe.chunk.js"],"mappings":"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAE7D,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOG,KACpEF,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOI,KACRH,EAAoB,IAA1F,IAEjBE,EAAe,SAAwBE,GAAY,IAAIC,EAAsBT,OAAOU,eAAeC,EAAQF,EAAsBE,QAAQC,EAAcH,EAAsBG,cAAqD,MAAM,GAAGC,OAApCD,GAAeD,GAAS,GAA2B,QAAQE,OAAOL,IAAkBD,EAAsB,SAA+BC,EAAWM,EAAaC,EAAOC,GAAa,IAAIC,EAAUX,EAAeE,GAAY,MAAM,GAAGK,OAAOI,EAAU,cAAcJ,OAAOG,KAIld,KACA,SAAUd,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBc,EAAEf,GAWRC,EAAoB,IAGXA,EAAoB,MAGtBA,EAAoB,IAGzBA,EAAoB,GAGdA,EAAoB,IAGEA,EAAoB,IAG7BA,EAAoB,IAGVA,EAAoB,IAGvCA,EAAoB,IAG7BA,EAAoB,IAnCrC,IAsCIe,EAAOf,EAAoB,IAG3BgB,EAAoBhB,EAAoB,MAGxCiB,EAAgBjB,EAAoB,MAGpCkB,EAAkBlB,EAAoB,MAGtCmB,EAAUnB,EAAoB,KAG9BoB,EAAcpB,EAAoB,MAGlCqB,EAAarB,EAAoB,IAGjCsB,EAAUtB,EAAoB,KAG9BuB,EAAevB,EAAoB,MAGnCwB,EAASxB,EAAoB,IAGjC,SAASyB,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAOC,EAAIC,GAAK,IAAI,IAAIC,EAAKP,EAAIK,GAAKC,GAASE,EAAMD,EAAKC,MAAO,MAAMC,GAAqB,YAAdP,EAAOO,GAAkBF,EAAKG,KAAMT,EAAQO,GAAaG,QAAQV,QAAQO,GAAOI,KAAKT,EAAMC,GAAU,SAASS,EAAkBC,GAAI,OAAO,WAAW,IAAIC,EAAKC,KAAKC,EAAKC,UAAU,OAAO,IAAIP,SAAQ,SAASV,EAAQC,GAAQ,IAAIF,EAAIc,EAAGK,MAAMJ,EAAKE,GAAM,SAASd,EAAMK,GAAOT,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,OAAOI,GAAQ,SAASJ,EAAOgB,GAAKrB,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,QAAQgB,GAAMjB,OAAMkB,OAAiB,SAASC,EAAQC,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAKtD,KAAKgD,MAAMM,EAAKG,GAAU,OAAOH,EAAM,SAASQ,EAAcC,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEjB,UAAUkB,OAAOD,IAAI,CAAC,IAAIE,EAAqB,MAAdnB,UAAUiB,GAASjB,UAAUiB,GAAG,GAAMA,EAAE,EAAGb,EAAQI,OAAOW,IAAQ,GAAMC,SAAQ,SAASjC,GAAKkC,EAAgBL,EAAO7B,EAAIgC,EAAOhC,OAAkBqB,OAAOc,0BAA2Bd,OAAOe,iBAAiBP,EAAOR,OAAOc,0BAA0BH,IAAef,EAAQI,OAAOW,IAASC,SAAQ,SAASjC,GAAKqB,OAAOgB,eAAeR,EAAO7B,EAAIqB,OAAOK,yBAAyBM,EAAOhC,OAAW,OAAO6B,EAAQ,SAASK,EAAgBI,EAAItC,EAAIG,GAAyI,OAA/HH,KAAOsC,EAAKjB,OAAOgB,eAAeC,EAAItC,EAAI,CAACG,MAAMA,EAAMwB,YAAW,EAAKY,cAAa,EAAKC,UAAS,IAAaF,EAAItC,GAAKG,EAAcmC,EAAK,IAAIG,EAAqBlD,EAAyB,EAAEkD,qBAEviDC,EAFmoD,CAAEC,WAAW,CAAC1D,kBAAkBA,EAAmC,EAAEC,cAAcA,EAA+B,EAAEE,QAAQA,EAAyB,EAAED,gBAAgBA,EAAiC,GAAGyD,OAAO,CAACvD,EAA6B,EAAEC,EAA4B,GAAGuD,KAAK,WAAgB,MAAM,CAACC,YAAW,EAAMC,SAAQ,EAAMC,qBAAoB,EAAKC,aAAa,GAAGC,6BAA4B,IAASC,SAASvB,EAAcA,EAAc,GAAGP,OAAOrC,EAAiB,WAAxBqC,CAA2B,CAAC+B,WAAW,sBAAsBC,SAAS,uBAAuB,GAAG,CAACC,QAAQ,WAAmB,OAAO3C,KAAK4C,OAAOC,QAAQ,wBAAwB7C,KAAK8C,YAAaA,UAAU,WAAqB,OAAO9C,KAAK+C,OAAOC,OAAO9E,aAAc+E,mBAAmB,WAA8B,OAAOjD,KAAK+C,OAAOC,OAAOtF,YAAawF,eAAe,WAA0B,OAAOlD,KAAK+C,OAAOC,OAAO/E,QAASkF,WAAW,WAAsB,IAAIC,EAAKpD,KAAK+C,OAAOC,OAAOtF,WAAW,OAAOgD,OAAO7B,EAA4C,EAAnD6B,CAAsD0C,EAAKpD,KAAK2C,QAAQU,SAASD,KAAKpD,KAAK2C,QAAQU,SAASpF,OAAO+B,KAAK2C,QAAQS,SAAUE,QAAQ,WAAmBtD,KAAKuD,uBAAwBC,QAAQ,CAACC,cAAc,WAA4BvG,OAAOwG,QAAQtC,OAAO,EAAGpB,KAAK2D,QAAQC,IAAI,GAAS5D,KAAK2D,QAAQxG,KAAK,CAAC0G,KAAK,8BAAgCN,oBAAoB,WAA+BvD,KAAK4C,OAAOkB,SAAS,gBAAgB,CAACC,GAAG/D,KAAK8C,UAAUpF,WAAWsC,KAAKiD,sBAAuBe,gBAAgB,WAA2BhE,KAAKuC,6BAA4B,GAAO0B,iBAAiB,WAA4BjE,KAAKuC,6BAA4B,GAAQ2B,gBAAgB,WAA2B,IAAIC,EAAcnE,KAAKiE,mBAAmBjE,KAAKoE,gBAAgBpE,KAAKqE,OAAOvF,EAA+B,EAAEwF,eAAe,CAACC,OAAsC,QAA9BJ,EAAcnE,KAAK2C,eAAiC,IAAhBwB,OAAuB,EAAOA,EAAcI,UAAWC,YAAY,SAAqBC,GAAM,IAAIC,EAAM1E,KAAK,OAAOH,EAA+B8E,mBAAmBC,MAAK,SAASC,IAAU,IAAIC,EAAO,OAAOH,mBAAmBI,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAsF,OAApFJ,EAAOpE,OAAOyE,OAAO,GAAGV,GAAMC,EAAMvC,YAAW,EAAK6C,EAASC,KAAK,EAAED,EAASE,KAAK,EAASR,EAAM9B,OAAOkB,SAAS,kBAAkB7C,EAAc,CAACvD,WAAWgH,EAAMzB,mBAAmBH,UAAU4B,EAAM5B,WAAWgC,IAAS,KAAK,EAAEE,EAASE,KAAK,GAAG,MAAM,KAAK,EAAEF,EAASC,KAAK,EAAED,EAASI,GAAGJ,EAAgB,MAAE,GAAGN,EAAMpC,cAA4B,OAAd0C,EAASI,SAAyB,IAAdJ,EAASI,QAAY,EAAOJ,EAASI,GAAGC,UAAUX,EAAMY,GAAG,sCAAsCZ,EAAMa,UAAUb,EAAMpC,cAAc,KAAK,GAA4F,OAAzF0C,EAASC,KAAK,GAAGO,YAAW,WAAWd,EAAMvC,YAAW,EAAMuC,EAAMtC,SAAQ,IAAO,MAAa4C,EAASS,OAAO,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOT,EAASU,UAAWb,EAAQ,KAAK,CAAC,CAAC,EAAE,EAAE,GAAG,SAAh2BhF,IAA82BuE,cAAc,WAAyB,IAAIuB,EAAO3F,KAAK,OAAOH,EAA+B8E,mBAAmBC,MAAK,SAASgB,IAAW,OAAOjB,mBAAmBI,MAAK,SAAmBc,GAAW,OAAS,OAAOA,EAAUZ,KAAKY,EAAUX,MAAM,KAAK,EAAoC,OAAlCW,EAAUZ,KAAK,EAAEY,EAAUX,KAAK,EAASS,EAAO/C,OAAOkB,SAAS,kBAAkB,CAACpG,WAAWiI,EAAO1C,mBAAmBH,UAAU6C,EAAO7C,YAAY,KAAK,EAAE6C,EAAOrD,aAAaqD,EAAOL,GAAG,kDAAkDK,EAAOhC,QAAQxG,KAAK,CAAC0G,KAAK,2BAA2Bb,OAAO,CAACtF,WAAWiI,EAAO1C,mBAAmBhF,OAAO0H,EAAO1H,OAAO6H,iBAAgB,KAAQD,EAAUX,KAAK,GAAG,MAAM,KAAK,EAAEW,EAAUZ,KAAK,EAAEY,EAAUT,GAAGS,EAAiB,MAAE,GAAGF,EAAOrD,cAA6B,OAAfuD,EAAUT,SAA0B,IAAfS,EAAUT,QAAY,EAAOS,EAAUT,GAAGC,UAAUM,EAAOL,GAAG,gDAAgD,KAAK,GAA2D,OAAxDO,EAAUZ,KAAK,GAAGU,EAAOJ,UAAUI,EAAOrD,cAAqBuD,EAAUJ,OAAO,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOI,EAAUH,UAAWE,EAAS,KAAK,CAAC,CAAC,EAAE,EAAE,GAAG,SAAr8B/F,IAAm9BkG,eAAe,WAA0B,IAAIC,EAAOhG,KAAK,OAAOH,EAA+B8E,mBAAmBC,MAAK,SAASqB,IAAW,OAAOtB,mBAAmBI,MAAK,SAAmBmB,GAAW,OAAS,OAAOA,EAAUjB,KAAKiB,EAAUhB,MAAM,KAAK,EAAoC,OAAlCgB,EAAUjB,KAAK,EAAEiB,EAAUhB,KAAK,EAASc,EAAOpD,OAAOkB,SAAS,kBAAkB,CAACpG,WAAWsI,EAAO/C,mBAAmBH,UAAUkD,EAAOlD,UAAUyB,OAAOzC,EAAqBqE,UAAU,KAAK,EAAEH,EAAO1D,aAAa0D,EAAOV,GAAG,2CAA2CU,EAAO3B,OAAOvF,EAA+B,EAAEsH,gBAAgB,CAACC,OAAO,YAAYH,EAAUhB,KAAK,GAAG,MAAM,KAAK,EAAEgB,EAAUjB,KAAK,EAAEiB,EAAUd,GAAGc,EAAiB,MAAE,GAAGF,EAAO1D,cAA6B,OAAf4D,EAAUd,SAA0B,IAAfc,EAAUd,QAAY,EAAOc,EAAUd,GAAGC,UAAUW,EAAOV,GAAG,yCAAyC,KAAK,GAA2D,OAAxDY,EAAUjB,KAAK,GAAGe,EAAOT,UAAUS,EAAO1D,cAAqB4D,EAAUT,OAAO,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOS,EAAUR,UAAWO,EAAS,KAAK,CAAC,CAAC,EAAE,EAAE,GAAG,SAA/5BpG,IAA66ByG,WAAW,WAAsB,IAAIC,EAAoB,CAAC7I,WAAWsC,KAAKiD,mBAAmBhF,OAAO+B,KAAKkD,gBAAgB,OAAOlD,KAAK4C,OAAOkB,SAAS,eAAeyC,IAAuBC,oBAAoB,WAA+BxG,KAAKqC,qBAAoB,GAAOoE,qBAAqB,WAAgCzG,KAAKqC,qBAAoB,GAAQqE,oBAAoB,WAA+B,IAAIC,EAAezJ,OAAO0J,KAAK5G,KAAKmD,WAAW,UAAUnD,KAAKqE,OAAOvF,EAA+B,EAAE+H,gBAAgB,CAACtC,OAAuC,QAA/BoC,EAAe3G,KAAK2C,eAAkC,IAAjBgE,OAAwB,EAAOA,EAAepC,YAIrhOuC,EAAsBxJ,EAAoB,GAU1CyJ,EAAYrG,OAAOoG,EAAqC,EAA5CpG,CACdqB,GAnFW,WAAkB,IAAIiF,EAAIhH,KAAKiH,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACF,EAAG,MAAM,CAACE,YAAY,0CAA0CC,MAAM,CAAE,4BAA6BJ,EAAI3E,sBAAuB,CAAC4E,EAAG,sBAAsB,CAACI,MAAM,CAAC,oBAAoBL,EAAI1B,GAAG,0CAA0C,cAAc0B,EAAI7E,WAAW,WAAW6E,EAAI5E,QAAQ,kBAAkB4E,EAAI3E,qBAAqBiF,GAAG,CAACC,KAAOP,EAAIvD,cAAcmD,KAAOI,EAAIR,oBAAoBgB,MAAQR,EAAIP,qBAAqBgB,KAAOT,EAAIN,oBAAoB,cAAcM,EAAIV,cAAcU,EAAIU,GAAG,KAAMV,EAAc,WAAEC,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,UAAU,CAACI,MAAM,CAACM,KAAO,MAAMX,EAAIU,GAAG,KAAKT,EAAG,OAAO,CAACD,EAAIU,GAAGV,EAAIY,GAAGZ,EAAI1B,GAAG,yCAAyC,GAAG2B,EAAG,iBAAiB,CAACI,MAAM,CAAC,2BAA2BL,EAAI3E,oBAAoBM,QAAUqE,EAAIrE,SAAS2E,GAAG,CAAC,eAAeN,EAAIxC,gBAAgB,GAAGwC,EAAIU,GAAG,KAAMV,EAAuB,oBAAEC,EAAG,mBAAmB,CAACI,MAAM,CAAC1E,QAAUqE,EAAIrE,SAAS2E,GAAG,CAAC,eAAeN,EAAIxC,YAAY,iBAAiBwC,EAAIhD,gBAAgB,kBAAkBgD,EAAIjB,eAAe,cAAciB,EAAIV,cAAcU,EAAIa,KAAKb,EAAIU,GAAG,KAAKT,EAAG,oBAAoB,CAACI,MAAM,CAACI,KAAOT,EAAIzE,4BAA4B,WAAWyE,EAAI/C,iBAAiB,aAAa+C,EAAI9C,gBAAgB4D,MAAQd,EAAI1B,GAAG,kDAAkDD,QAAU2B,EAAI1B,GAAG,oDAAoD,eAAe0B,EAAI1B,GAAG,gDAAgD,cAAc0B,EAAI1B,GAAG,gDAAgDgC,GAAG,CAAC,cAAc,SAASS,GAAQf,EAAIzE,4BAA4BwF,OAAY,KAE3pD,IAoFpB,EACA,KACA,KACA,MAI6C1K,EAA6B,QAAK0J,EAAiB"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[98],{\n\n/***/ 2658:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return buildPortalURL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return buildPortalArticleURL; });\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);\nvar buildPortalURL=function buildPortalURL(portalSlug){var _window$chatwootConfi=window.chatwootConfig,hostURL=_window$chatwootConfi.hostURL,helpCenterURL=_window$chatwootConfi.helpCenterURL;var baseURL=helpCenterURL||hostURL||'';return\"\".concat(baseURL,\"/hc/\").concat(portalSlug);};var buildPortalArticleURL=function buildPortalArticleURL(portalSlug,categorySlug,locale,articleSlug){var portalURL=buildPortalURL(portalSlug);return\"\".concat(portalURL,\"/articles/\").concat(articleSlug);};\n\n/***/ }),\n\n/***/ 3394:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue?vue&type=template&id=852189a8&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container flex w-full overflow-auto\"},[_c('div',{staticClass:\"flex-1 flex-shrink-0 overflow-auto px-6\",class:{ 'flex-grow-1 flex-shrink-0': _vm.showArticleSettings }},[_c('edit-article-header',{attrs:{\"back-button-label\":_vm.$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES'),\"is-updating\":_vm.isUpdating,\"is-saved\":_vm.isSaved,\"is-sidebar-open\":_vm.showArticleSettings},on:{\"back\":_vm.onClickGoBack,\"open\":_vm.openArticleSettings,\"close\":_vm.closeArticleSettings,\"show\":_vm.showArticleInPortal,\"update-meta\":_vm.updateMeta}}),_vm._v(\" \"),(_vm.isFetching)?_c('div',{staticClass:\"text-center p-4 text-base h-full\"},[_c('spinner',{attrs:{\"size\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('HELP_CENTER.EDIT_ARTICLE.LOADING')))])],1):_c('article-editor',{attrs:{\"is-settings-sidebar-open\":_vm.showArticleSettings,\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle}})],1),_vm._v(\" \"),(_vm.showArticleSettings)?_c('article-settings',{attrs:{\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle,\"delete-article\":_vm.openDeletePopup,\"archive-article\":_vm.archiveArticle,\"update-meta\":_vm.updateMeta}}):_vm._e(),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.TITLE'),\"message\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.MESSAGE'),\"confirm-text\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.YES'),\"reject-text\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.NO')},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}})],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue?vue&type=template&id=852189a8&\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__(1869);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/components/Header/EditArticleHeader.vue + 4 modules\nvar EditArticleHeader = __webpack_require__(3116);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/components/ArticleEditor.vue + 9 modules\nvar ArticleEditor = __webpack_require__(3113);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/ArticleSettings.vue + 4 modules\nvar ArticleSettings = __webpack_require__(3117);\n\n// EXTERNAL MODULE: ./app/javascript/shared/components/Spinner.vue + 4 modules\nvar Spinner = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/mixins/portalMixin.js\nvar portalMixin = __webpack_require__(1780);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/constants/globals.js\nvar globals = __webpack_require__(147);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/portalHelper.js\nvar portalHelper = __webpack_require__(2658);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/AnalyticsHelper/events.js\nvar events = __webpack_require__(94);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var ARTICLE_STATUS_TYPES=globals[\"b\" /* default */].ARTICLE_STATUS_TYPES;/* harmony default export */ var EditArticlevue_type_script_lang_js_ = ({components:{EditArticleHeader:EditArticleHeader[\"a\" /* default */],ArticleEditor:ArticleEditor[\"a\" /* default */],Spinner:Spinner[\"a\" /* default */],ArticleSettings:ArticleSettings[\"a\" /* default */]},mixins:[portalMixin[\"a\" /* default */],alertMixin[\"a\" /* default */]],data:function data(){return{isUpdating:false,isSaved:false,showArticleSettings:true,alertMessage:'',showDeleteConfirmationPopup:false};},computed:_objectSpread(_objectSpread({},Object(vuex[\"mapGetters\"])({isFetching:'articles/isFetching',articles:'articles/articles'})),{},{article:function article(){return this.$store.getters['articles/articleById'](this.articleId);},articleId:function articleId(){return this.$route.params.articleSlug;},selectedPortalSlug:function selectedPortalSlug(){return this.$route.params.portalSlug;},selectedLocale:function selectedLocale(){return this.$route.params.locale;},portalLink:function portalLink(){var slug=this.$route.params.portalSlug;return Object(portalHelper[\"a\" /* buildPortalArticleURL */])(slug,this.article.category.slug,this.article.category.locale,this.article.slug);}}),mounted:function mounted(){this.fetchArticleDetails();},methods:{onClickGoBack:function onClickGoBack(){if(window.history.length>2){this.$router.go(-1);}else{this.$router.push({name:'list_all_locale_articles'});}},fetchArticleDetails:function fetchArticleDetails(){this.$store.dispatch('articles/show',{id:this.articleId,portalSlug:this.selectedPortalSlug});},openDeletePopup:function openDeletePopup(){this.showDeleteConfirmationPopup=true;},closeDeletePopup:function closeDeletePopup(){this.showDeleteConfirmationPopup=false;},confirmDeletion:function confirmDeletion(){var _this$article;this.closeDeletePopup();this.deleteArticle();this.$track(events[\"i\" /* PORTALS_EVENTS */].DELETE_ARTICLE,{status:(_this$article=this.article)===null||_this$article===void 0?void 0:_this$article.status});},saveArticle:function saveArticle(_ref){var _this=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var values;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values=Object.assign({},_ref);_this.isUpdating=true;_context.prev=2;_context.next=5;return _this.$store.dispatch('articles/update',_objectSpread({portalSlug:_this.selectedPortalSlug,articleId:_this.articleId},values));case 5:_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](2);_this.alertMessage=(_context.t0===null||_context.t0===void 0?void 0:_context.t0.message)||_this.$t('HELP_CENTER.EDIT_ARTICLE.API.ERROR');_this.showAlert(_this.alertMessage);case 11:_context.prev=11;setTimeout(function(){_this.isUpdating=false;_this.isSaved=true;},1500);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,7,11,14]]);}))();},deleteArticle:function deleteArticle(){var _this2=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _this2.$store.dispatch('articles/delete',{portalSlug:_this2.selectedPortalSlug,articleId:_this2.articleId});case 3:_this2.alertMessage=_this2.$t('HELP_CENTER.DELETE_ARTICLE.API.SUCCESS_MESSAGE');_this2.$router.push({name:'list_all_locale_articles',params:{portalSlug:_this2.selectedPortalSlug,locale:_this2.locale,recentlyDeleted:true}});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);_this2.alertMessage=(_context2.t0===null||_context2.t0===void 0?void 0:_context2.t0.message)||_this2.$t('HELP_CENTER.DELETE_ARTICLE.API.ERROR_MESSAGE');case 10:_context2.prev=10;_this2.showAlert(_this2.alertMessage);return _context2.finish(10);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7,10,13]]);}))();},archiveArticle:function archiveArticle(){var _this3=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _this3.$store.dispatch('articles/update',{portalSlug:_this3.selectedPortalSlug,articleId:_this3.articleId,status:ARTICLE_STATUS_TYPES.ARCHIVE});case 3:_this3.alertMessage=_this3.$t('HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS');_this3.$track(events[\"i\" /* PORTALS_EVENTS */].ARCHIVE_ARTICLE,{uiFrom:'sidebar'});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);_this3.alertMessage=(_context3.t0===null||_context3.t0===void 0?void 0:_context3.t0.message)||_this3.$t('HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR');case 10:_context3.prev=10;_this3.showAlert(_this3.alertMessage);return _context3.finish(10);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7,10,13]]);}))();},updateMeta:function updateMeta(){var selectedPortalParam={portalSlug:this.selectedPortalSlug,locale:this.selectedLocale};return this.$store.dispatch('portals/show',selectedPortalParam);},openArticleSettings:function openArticleSettings(){this.showArticleSettings=true;},closeArticleSettings:function closeArticleSettings(){this.showArticleSettings=false;},showArticleInPortal:function showArticleInPortal(){var _this$article2;window.open(this.portalLink,'_blank');this.$track(events[\"i\" /* PORTALS_EVENTS */].PREVIEW_ARTICLE,{status:(_this$article2=this.article)===null||_this$article2===void 0?void 0:_this$article2.status});}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue?vue&type=script&lang=js&\n /* harmony default export */ var articles_EditArticlevue_type_script_lang_js_ = (EditArticlevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  articles_EditArticlevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var EditArticle = __webpack_exports__[\"default\"] = (component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/app/javascript/dashboard/helper/portalHelper.js","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue?vue&type=template&id=852189a8&","app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/EditArticle.vue"],"names":["buildPortalURL","portalSlug","window","chatwootConfig","hostURL","helpCenterURL","baseURL","buildPortalArticleURL","categorySlug","locale","articleSlug","portalURL"],"mappings":"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","file":"x","sourcesContent":["export const buildPortalURL = portalSlug => {\n  const { hostURL, helpCenterURL } = window.chatwootConfig;\n  const baseURL = helpCenterURL || hostURL || '';\n  return `${baseURL}/hc/${portalSlug}`;\n};\n\nexport const buildPortalArticleURL = (\n  portalSlug,\n  categorySlug,\n  locale,\n  articleSlug\n) => {\n  const portalURL = buildPortalURL(portalSlug);\n  return `${portalURL}/articles/${articleSlug}`;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container flex w-full overflow-auto\"},[_c('div',{staticClass:\"flex-1 flex-shrink-0 overflow-auto px-6\",class:{ 'flex-grow-1 flex-shrink-0': _vm.showArticleSettings }},[_c('edit-article-header',{attrs:{\"back-button-label\":_vm.$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES'),\"is-updating\":_vm.isUpdating,\"is-saved\":_vm.isSaved,\"is-sidebar-open\":_vm.showArticleSettings},on:{\"back\":_vm.onClickGoBack,\"open\":_vm.openArticleSettings,\"close\":_vm.closeArticleSettings,\"show\":_vm.showArticleInPortal,\"update-meta\":_vm.updateMeta}}),_vm._v(\" \"),(_vm.isFetching)?_c('div',{staticClass:\"text-center p-4 text-base h-full\"},[_c('spinner',{attrs:{\"size\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('HELP_CENTER.EDIT_ARTICLE.LOADING')))])],1):_c('article-editor',{attrs:{\"is-settings-sidebar-open\":_vm.showArticleSettings,\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle}})],1),_vm._v(\" \"),(_vm.showArticleSettings)?_c('article-settings',{attrs:{\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle,\"delete-article\":_vm.openDeletePopup,\"archive-article\":_vm.archiveArticle,\"update-meta\":_vm.updateMeta}}):_vm._e(),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.TITLE'),\"message\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.MESSAGE'),\"confirm-text\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.YES'),\"reject-text\":_vm.$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.NO')},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article-container flex w-full overflow-auto\">\n    <div\n      class=\"flex-1 flex-shrink-0 overflow-auto px-6\"\n      :class=\"{ 'flex-grow-1 flex-shrink-0': showArticleSettings }\"\n    >\n      <edit-article-header\n        :back-button-label=\"$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES')\"\n        :is-updating=\"isUpdating\"\n        :is-saved=\"isSaved\"\n        :is-sidebar-open=\"showArticleSettings\"\n        @back=\"onClickGoBack\"\n        @open=\"openArticleSettings\"\n        @close=\"closeArticleSettings\"\n        @show=\"showArticleInPortal\"\n        @update-meta=\"updateMeta\"\n      />\n      <div v-if=\"isFetching\" class=\"text-center p-4 text-base h-full\">\n        <spinner size=\"\" />\n        <span>{{ $t('HELP_CENTER.EDIT_ARTICLE.LOADING') }}</span>\n      </div>\n      <article-editor\n        v-else\n        :is-settings-sidebar-open=\"showArticleSettings\"\n        :article=\"article\"\n        @save-article=\"saveArticle\"\n      />\n    </div>\n    <article-settings\n      v-if=\"showArticleSettings\"\n      :article=\"article\"\n      @save-article=\"saveArticle\"\n      @delete-article=\"openDeletePopup\"\n      @archive-article=\"archiveArticle\"\n      @update-meta=\"updateMeta\"\n    />\n    <woot-delete-modal\n      :show.sync=\"showDeleteConfirmationPopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.TITLE')\"\n      :message=\"$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.MESSAGE')\"\n      :confirm-text=\"$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.YES')\"\n      :reject-text=\"$t('HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.NO')\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport EditArticleHeader from '../../components/Header/EditArticleHeader.vue';\nimport ArticleEditor from '../../components/ArticleEditor.vue';\nimport ArticleSettings from './ArticleSettings.vue';\nimport Spinner from 'shared/components/Spinner.vue';\nimport portalMixin from '../../mixins/portalMixin';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport wootConstants from 'dashboard/constants/globals';\nimport { buildPortalArticleURL } from 'dashboard/helper/portalHelper';\nimport { PORTALS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\n\nconst { ARTICLE_STATUS_TYPES } = wootConstants;\nexport default {\n  components: {\n    EditArticleHeader,\n    ArticleEditor,\n    Spinner,\n    ArticleSettings,\n  },\n  mixins: [portalMixin, alertMixin],\n  data() {\n    return {\n      isUpdating: false,\n      isSaved: false,\n      showArticleSettings: true,\n      alertMessage: '',\n      showDeleteConfirmationPopup: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      isFetching: 'articles/isFetching',\n      articles: 'articles/articles',\n    }),\n    article() {\n      return this.$store.getters['articles/articleById'](this.articleId);\n    },\n    articleId() {\n      return this.$route.params.articleSlug;\n    },\n    selectedPortalSlug() {\n      return this.$route.params.portalSlug;\n    },\n    selectedLocale() {\n      return this.$route.params.locale;\n    },\n    portalLink() {\n      const slug = this.$route.params.portalSlug;\n      return buildPortalArticleURL(\n        slug,\n        this.article.category.slug,\n        this.article.category.locale,\n        this.article.slug\n      );\n    },\n  },\n  mounted() {\n    this.fetchArticleDetails();\n  },\n  methods: {\n    onClickGoBack() {\n      if (window.history.length > 2) {\n        this.$router.go(-1);\n      } else {\n        this.$router.push({ name: 'list_all_locale_articles' });\n      }\n    },\n    fetchArticleDetails() {\n      this.$store.dispatch('articles/show', {\n        id: this.articleId,\n        portalSlug: this.selectedPortalSlug,\n      });\n    },\n    openDeletePopup() {\n      this.showDeleteConfirmationPopup = true;\n    },\n    closeDeletePopup() {\n      this.showDeleteConfirmationPopup = false;\n    },\n    confirmDeletion() {\n      this.closeDeletePopup();\n      this.deleteArticle();\n      this.$track(PORTALS_EVENTS.DELETE_ARTICLE, {\n        status: this.article?.status,\n      });\n    },\n    async saveArticle({ ...values }) {\n      this.isUpdating = true;\n      try {\n        await this.$store.dispatch('articles/update', {\n          portalSlug: this.selectedPortalSlug,\n          articleId: this.articleId,\n          ...values,\n        });\n      } catch (error) {\n        this.alertMessage =\n          error?.message || this.$t('HELP_CENTER.EDIT_ARTICLE.API.ERROR');\n        this.showAlert(this.alertMessage);\n      } finally {\n        setTimeout(() => {\n          this.isUpdating = false;\n          this.isSaved = true;\n        }, 1500);\n      }\n    },\n    async deleteArticle() {\n      try {\n        await this.$store.dispatch('articles/delete', {\n          portalSlug: this.selectedPortalSlug,\n          articleId: this.articleId,\n        });\n        this.alertMessage = this.$t(\n          'HELP_CENTER.DELETE_ARTICLE.API.SUCCESS_MESSAGE'\n        );\n        this.$router.push({\n          name: 'list_all_locale_articles',\n          params: {\n            portalSlug: this.selectedPortalSlug,\n            locale: this.locale,\n            recentlyDeleted: true,\n          },\n        });\n      } catch (error) {\n        this.alertMessage =\n          error?.message ||\n          this.$t('HELP_CENTER.DELETE_ARTICLE.API.ERROR_MESSAGE');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n    },\n    async archiveArticle() {\n      try {\n        await this.$store.dispatch('articles/update', {\n          portalSlug: this.selectedPortalSlug,\n          articleId: this.articleId,\n          status: ARTICLE_STATUS_TYPES.ARCHIVE,\n        });\n        this.alertMessage = this.$t('HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS');\n        this.$track(PORTALS_EVENTS.ARCHIVE_ARTICLE, { uiFrom: 'sidebar' });\n      } catch (error) {\n        this.alertMessage =\n          error?.message || this.$t('HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR');\n      } finally {\n        this.showAlert(this.alertMessage);\n      }\n    },\n    updateMeta() {\n      const selectedPortalParam = {\n        portalSlug: this.selectedPortalSlug,\n        locale: this.selectedLocale,\n      };\n      return this.$store.dispatch('portals/show', selectedPortalParam);\n    },\n    openArticleSettings() {\n      this.showArticleSettings = true;\n    },\n    closeArticleSettings() {\n      this.showArticleSettings = false;\n    },\n    showArticleInPortal() {\n      window.open(this.portalLink, '_blank');\n      this.$track(PORTALS_EVENTS.PREVIEW_ARTICLE, {\n        status: this.article?.status,\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditArticle.vue?vue&type=template&id=852189a8&\"\nimport script from \"./EditArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./EditArticle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}