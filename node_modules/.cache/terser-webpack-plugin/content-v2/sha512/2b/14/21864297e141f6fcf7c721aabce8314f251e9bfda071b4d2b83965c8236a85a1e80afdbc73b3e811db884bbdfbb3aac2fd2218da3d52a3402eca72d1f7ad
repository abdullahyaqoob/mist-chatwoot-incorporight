{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{3354:function(e,t,n){\"use strict\";n.r(t);n(36),n(51),n(43),n(11),n(13),n(9),n(15),n(12),n(16),n(10),n(28);var r=n(32),a=n(272),o=n(271),i=(n(75),n(102),n(66)),s=n(79);function l(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={mixins:[s.a],props:{onClose:{type:Function,default:function(){}}},data:function(){return{agentName:\"\",agentEmail:\"\",agentType:\"agent\",vertical:\"bottom\",horizontal:\"center\",roles:[{name:\"administrator\",label:this.$t(\"AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR\")},{name:\"agent\",label:this.$t(\"AGENT_MGMT.AGENT_TYPES.AGENT\")}],show:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.mapGetters)({uiFlags:\"agents/getUIFlags\"})),validations:{agentName:{required:i.required,minLength:Object(i.minLength)(1)},agentEmail:{required:i.required,email:i.email},agentType:{required:i.required}},methods:{addAgent:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,a,o,i,s,l,u,c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch(\"agents/create\",{name:t.agentName,email:t.agentEmail,role:t.agentType});case 3:t.showAlert(t.$t(\"AGENT_MGMT.ADD.API.SUCCESS_MESSAGE\")),t.onClose(),e.next=17;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.response,a=(r=void 0===r?{}:r).data,o=(a=void 0===a?{}:a).error,i=void 0===o?\"\":o,s=a.attributes,l=void 0===s?[]:s,u=a.message,c=void 0===u?\"\":u,p=\"\",p=422!==(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status)||l.includes(\"base\")?t.$t(\"AGENT_MGMT.ADD.API.ERROR_MESSAGE\"):t.$t(\"AGENT_MGMT.ADD.API.EXIST_MESSAGE\"),t.showAlert(i||c||p);case 17:case\"end\":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,s,\"next\",e)}function s(e){l(o,r,a,i,s,\"throw\",e)}i(void 0)}))})()}}},d=p,v=n(8),m=Object(v.a)(d,(function(){var e=this,t=e._self._c;return t(\"woot-modal\",{attrs:{show:e.show,\"on-close\":e.onClose},on:{\"update:show\":function(t){e.show=t}}},[t(\"div\",{staticClass:\"flex flex-col h-auto overflow-auto\"},[t(\"woot-modal-header\",{attrs:{\"header-title\":e.$t(\"AGENT_MGMT.ADD.TITLE\"),\"header-content\":e.$t(\"AGENT_MGMT.ADD.DESC\")}}),e._v(\" \"),t(\"form\",{staticClass:\"flex flex-col items-start w-full\",on:{submit:function(t){return t.preventDefault(),e.addAgent()}}},[t(\"div\",{staticClass:\"w-full\"},[t(\"label\",{class:{error:e.$v.agentName.$error}},[e._v(\"\\n          \"+e._s(e.$t(\"AGENT_MGMT.ADD.FORM.NAME.LABEL\"))+\"\\n          \"),t(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.agentName,expression:\"agentName\",modifiers:{trim:!0}}],attrs:{type:\"text\",placeholder:e.$t(\"AGENT_MGMT.ADD.FORM.NAME.PLACEHOLDER\")},domProps:{value:e.agentName},on:{input:[function(t){t.target.composing||(e.agentName=t.target.value.trim())},e.$v.agentName.$touch],blur:function(t){return e.$forceUpdate()}}})])]),e._v(\" \"),t(\"div\",{staticClass:\"w-full\"},[t(\"label\",{class:{error:e.$v.agentType.$error}},[e._v(\"\\n          \"+e._s(e.$t(\"AGENT_MGMT.ADD.FORM.AGENT_TYPE.LABEL\"))+\"\\n          \"),t(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.agentType,expression:\"agentType\"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.agentType=t.target.multiple?n:n[0]}}},e._l(e.roles,(function(n){return t(\"option\",{key:n.name,domProps:{value:n.name}},[e._v(\"\\n              \"+e._s(n.label)+\"\\n            \")])})),0),e._v(\" \"),e.$v.agentType.$error?t(\"span\",{staticClass:\"message\"},[e._v(\"\\n            \"+e._s(e.$t(\"AGENT_MGMT.ADD.FORM.AGENT_TYPE.ERROR\"))+\"\\n          \")]):e._e()])]),e._v(\" \"),t(\"div\",{staticClass:\"w-full\"},[t(\"label\",{class:{error:e.$v.agentEmail.$error}},[e._v(\"\\n          \"+e._s(e.$t(\"AGENT_MGMT.ADD.FORM.EMAIL.LABEL\"))+\"\\n          \"),t(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.agentEmail,expression:\"agentEmail\",modifiers:{trim:!0}}],attrs:{type:\"text\",placeholder:e.$t(\"AGENT_MGMT.ADD.FORM.EMAIL.PLACEHOLDER\")},domProps:{value:e.agentEmail},on:{input:[function(t){t.target.composing||(e.agentEmail=t.target.value.trim())},e.$v.agentEmail.$touch],blur:function(t){return e.$forceUpdate()}}})])]),e._v(\" \"),t(\"div\",{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[t(\"div\",{staticClass:\"w-full\"},[t(\"woot-submit-button\",{attrs:{disabled:e.$v.agentEmail.$invalid||e.$v.agentName.$invalid||e.uiFlags.isCreating,\"button-text\":e.$t(\"AGENT_MGMT.ADD.FORM.SUBMIT\"),loading:e.uiFlags.isCreating}}),e._v(\" \"),t(\"button\",{staticClass:\"button clear\",on:{click:function(t){return t.preventDefault(),e.onClose.apply(null,arguments)}}},[e._v(\"\\n            \"+e._s(e.$t(\"AGENT_MGMT.ADD.CANCEL_BUTTON_TEXT\"))+\"\\n          \")])],1)])])],1)])}),[],!1,null,null,null),T=m.exports,g=(n(56),n(88),n(1927)),E=n(316),f=n(169);function A(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,s,\"next\",e)}function s(e){A(o,r,a,i,s,\"throw\",e)}i(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=n(147).b.AVAILABILITY_STATUS_KEYS,G={components:{WootSubmitButton:g.a,Modal:E.a},mixins:[s.a],props:{id:{type:Number,required:!0},name:{type:String,required:!0},email:{type:String,default:\"\"},type:{type:String,default:\"\"},availability:{type:String,default:\"\"},onClose:{type:Function,required:!0}},data:function(){return{roles:[{name:\"administrator\",label:this.$t(\"AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR\")},{name:\"agent\",label:this.$t(\"AGENT_MGMT.AGENT_TYPES.AGENT\")}],agentName:this.name,agentAvailability:this.availability,agentType:this.type,agentCredentials:{email:this.email},show:!0}},validations:{agentName:{required:i.required,minLength:Object(i.minLength)(1)},agentType:{required:i.required},agentAvailability:{required:i.required}},computed:M(M({pageTitle:function(){return\"\".concat(this.$t(\"AGENT_MGMT.EDIT.TITLE\"),\" - \").concat(this.name)}},Object(r.mapGetters)({uiFlags:\"agents/getUIFlags\"})),{},{availabilityStatuses:function(){var e=this;return this.$t(\"PROFILE_SETTINGS.FORM.AVAILABILITY.STATUSES_LIST\").map((function(t,n){return{label:t,value:w[n],disabled:e.currentUserAvailability===w[n]}}))}}),methods:{editAgent:function(){var e=this;return _(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch(\"agents/update\",{id:e.id,name:e.agentName,role:e.agentType,availability:e.agentAvailability});case 3:e.showAlert(e.$t(\"AGENT_MGMT.EDIT.API.SUCCESS_MESSAGE\")),e.onClose(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.showAlert(e.$t(\"AGENT_MGMT.EDIT.API.ERROR_MESSAGE\"));case 10:case\"end\":return t.stop()}}),t,null,[[0,7]])})))()},resetPassword:function(){var e=this;return _(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.resetPassword(e.agentCredentials);case 3:e.showAlert(e.$t(\"AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_SUCCESS_MESSAGE\")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.showAlert(e.$t(\"AGENT_MGMT.EDIT.PASSWORD_RESET.ERROR_MESSAGE\"));case 9:case\"end\":return t.stop()}}),t,null,[[0,6]])})))()}}},N=Object(v.a)(G,(function(){var e=this,t=e._self._c;return t(\"modal\",{attrs:{show:e.show,\"on-close\":e.onClose},on:{\"update:show\":function(t){e.show=t}}},[t(\"div\",{staticClass:\"h-auto overflow-auto flex flex-col\"},[t(\"woot-modal-header\",{attrs:{\"header-title\":e.pageTitle}}),e._v(\" \"),t(\"form\",{staticClass:\"w-full\",on:{submit:function(t){return t.preventDefault(),e.editAgent()}}},[t(\"div\",{staticClass:\"w-full\"},[t(\"label\",{class:{error:e.$v.agentName.$error}},[e._v(\"\\n          \"+e._s(e.$t(\"AGENT_MGMT.EDIT.FORM.NAME.LABEL\"))+\"\\n          \"),t(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.agentName,expression:\"agentName\",modifiers:{trim:!0}}],attrs:{type:\"text\",placeholder:e.$t(\"AGENT_MGMT.EDIT.FORM.NAME.PLACEHOLDER\")},domProps:{value:e.agentName},on:{input:[function(t){t.target.composing||(e.agentName=t.target.value.trim())},e.$v.agentName.$touch],blur:function(t){return e.$forceUpdate()}}})])]),e._v(\" \"),t(\"div\",{staticClass:\"w-full\"},[t(\"label\",{class:{error:e.$v.agentType.$error}},[e._v(\"\\n          \"+e._s(e.$t(\"AGENT_MGMT.EDIT.FORM.AGENT_TYPE.LABEL\"))+\"\\n          \"),t(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.agentType,expression:\"agentType\"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.agentType=t.target.multiple?n:n[0]}}},e._l(e.roles,(function(n){return t(\"option\",{key:n.name,domProps:{value:n.name}},[e._v(\"\\n              \"+e._s(n.label)+\"\\n            \")])})),0),e._v(\" \"),e.$v.agentType.$error?t(\"span\",{staticClass:\"message\"},[e._v(\"\\n            \"+e._s(e.$t(\"AGENT_MGMT.EDIT.FORM.AGENT_TYPE.ERROR\"))+\"\\n          \")]):e._e()])]),e._v(\" \"),t(\"div\",{staticClass:\"w-full\"},[t(\"label\",{class:{error:e.$v.agentAvailability.$error}},[e._v(\"\\n          \"+e._s(e.$t(\"PROFILE_SETTINGS.FORM.AVAILABILITY.LABEL\"))+\"\\n          \"),t(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.agentAvailability,expression:\"agentAvailability\"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.agentAvailability=t.target.multiple?n:n[0]}}},e._l(e.availabilityStatuses,(function(n){return t(\"option\",{key:n.value,domProps:{value:n.value}},[e._v(\"\\n              \"+e._s(n.label)+\"\\n            \")])})),0),e._v(\" \"),e.$v.agentAvailability.$error?t(\"span\",{staticClass:\"message\"},[e._v(\"\\n            \"+e._s(e.$t(\"AGENT_MGMT.EDIT.FORM.AGENT_AVAILABILITY.ERROR\"))+\"\\n          \")]):e._e()])]),e._v(\" \"),t(\"div\",{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[t(\"div\",{staticClass:\"w-[50%]\"},[t(\"woot-submit-button\",{attrs:{disabled:e.$v.agentType.$invalid||e.$v.agentName.$invalid||e.uiFlags.isUpdating,\"button-text\":e.$t(\"AGENT_MGMT.EDIT.FORM.SUBMIT\"),loading:e.uiFlags.isUpdating}}),e._v(\" \"),t(\"button\",{staticClass:\"button clear\",on:{click:function(t){return t.preventDefault(),e.onClose.apply(null,arguments)}}},[e._v(\"\\n            \"+e._s(e.$t(\"AGENT_MGMT.EDIT.CANCEL_BUTTON_TEXT\"))+\"\\n          \")])],1),e._v(\" \"),t(\"div\",{staticClass:\"w-[50%] text-right\"},[t(\"woot-button\",{attrs:{icon:\"lock-closed\",variant:\"clear\"},on:{click:function(t){return t.preventDefault(),e.resetPassword.apply(null,arguments)}}},[e._v(\"\\n            \"+e._s(e.$t(\"AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_RESET_BUTTON\"))+\"\\n          \")])],1)])])],1)])}),[],!1,null,null,null);function y(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={components:{AddAgent:T,EditAgent:N.exports,Thumbnail:o.a},mixins:[a.a,s.a],data:function(){return{loading:{},showAddPopup:!1,showDeletePopup:!1,showEditPopup:!1,agentAPI:{message:\"\"},currentAgent:{}}},computed:P(P({},Object(r.mapGetters)({agentList:\"agents/getAgents\",uiFlags:\"agents/getUIFlags\",currentUserId:\"getCurrentUserID\",globalConfig:\"globalConfig/get\"})),{},{deleteConfirmText:function(){return\"\".concat(this.$t(\"AGENT_MGMT.DELETE.CONFIRM.YES\"),\" \").concat(this.currentAgent.name)},deleteRejectText:function(){return\"\".concat(this.$t(\"AGENT_MGMT.DELETE.CONFIRM.NO\"),\" \").concat(this.currentAgent.name)},deleteMessage:function(){return\" \".concat(this.currentAgent.name,\"?\")}}),mounted:function(){this.$store.dispatch(\"agents/get\")},methods:{showEditAction:function(e){return this.currentUserId!==e.id},showDeleteAction:function(e){return this.currentUserId!==e.id&&(!e.confirmed||(\"administrator\"!==e.role||1!==this.verifiedAdministrators().length))},verifiedAdministrators:function(){return this.agentList.filter((function(e){return\"administrator\"===e.role&&e.confirmed}))},openAddPopup:function(){this.showAddPopup=!0},hideAddPopup:function(){this.showAddPopup=!1},openEditPopup:function(e){this.showEditPopup=!0,this.currentAgent=e},hideEditPopup:function(){this.showEditPopup=!1},openDeletePopup:function(e){this.showDeletePopup=!0,this.currentAgent=e},closeDeletePopup:function(){this.showDeletePopup=!1},confirmDeletion:function(){this.loading[this.currentAgent.id]=!0,this.closeDeletePopup(),this.deleteAgent(this.currentAgent.id)},deleteAgent:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$store.dispatch(\"agents/delete\",e);case 3:n.showAlertMessage(n.$t(\"AGENT_MGMT.DELETE.API.SUCCESS_MESSAGE\")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n.showAlertMessage(n.$t(\"AGENT_MGMT.DELETE.API.ERROR_MESSAGE\"));case 9:case\"end\":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){y(o,r,a,i,s,\"next\",e)}function s(e){y(o,r,a,i,s,\"throw\",e)}i(void 0)}))})()},showAlertMessage:function(e){this.loading[this.currentAgent.id]=!1,this.currentAgent={},this.agentAPI.message=e,this.showAlert(e)}}},S=$,I=Object(v.a)(S,(function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"flex-1 overflow-auto p-4\"},[t(\"woot-button\",{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",icon:\"add-circle\"},on:{click:function(t){return e.openAddPopup()}}},[e._v(\"\\n    \"+e._s(e.$t(\"AGENT_MGMT.HEADER_BTN_TXT\"))+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"flex flex-row gap-4\"},[t(\"div\",{staticClass:\"w-full lg:w-3/5\"},[e.uiFlags.isFetching?t(\"woot-loading-state\",{attrs:{message:e.$t(\"AGENT_MGMT.LOADING\")}}):t(\"div\",[e.agentList.length?t(\"table\",{staticClass:\"woot-table\"},[t(\"tbody\",e._l(e.agentList,(function(n,r){return t(\"tr\",{key:n.email},[t(\"td\",[t(\"thumbnail\",{attrs:{src:n.thumbnail,username:n.name,size:\"40px\",status:n.availability_status}})],1),e._v(\" \"),t(\"td\",[t(\"span\",{staticClass:\"agent-name\"},[e._v(\"\\n                  \"+e._s(n.name)+\"\\n                \")]),e._v(\" \"),t(\"span\",[e._v(e._s(n.email))])]),e._v(\" \"),t(\"td\",[t(\"span\",{staticClass:\"agent-name\"},[e._v(\"\\n                  \"+e._s(e.$t(`AGENT_MGMT.AGENT_TYPES.${n.role.toUpperCase()}`))+\"\\n                \")]),e._v(\" \"),n.confirmed?t(\"span\",[e._v(\"\\n                  \"+e._s(e.$t(\"AGENT_MGMT.LIST.VERIFIED\"))+\"\\n                \")]):e._e(),e._v(\" \"),n.confirmed?e._e():t(\"span\",[e._v(\"\\n                  \"+e._s(e.$t(\"AGENT_MGMT.LIST.VERIFICATION_PENDING\"))+\"\\n                \")])]),e._v(\" \"),t(\"td\",[t(\"div\",{staticClass:\"button-wrapper\"},[e.showEditAction(n)?t(\"woot-button\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:e.$t(\"AGENT_MGMT.EDIT.BUTTON_TEXT\"),expression:\"$t('AGENT_MGMT.EDIT.BUTTON_TEXT')\",modifiers:{top:!0}}],attrs:{variant:\"smooth\",size:\"tiny\",\"color-scheme\":\"secondary\",icon:\"edit\",\"class-names\":\"grey-btn\"},on:{click:function(t){return e.openEditPopup(n)}}}):e._e(),e._v(\" \"),e.showDeleteAction(n)?t(\"woot-button\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:e.$t(\"AGENT_MGMT.DELETE.BUTTON_TEXT\"),expression:\"$t('AGENT_MGMT.DELETE.BUTTON_TEXT')\",modifiers:{top:!0}}],attrs:{variant:\"smooth\",\"color-scheme\":\"alert\",size:\"tiny\",icon:\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":e.loading[n.id]},on:{click:function(t){return e.openDeletePopup(n,r)}}}):e._e()],1)])])})),0)]):t(\"p\",[e._v(\"\\n          \"+e._s(e.$t(\"AGENT_MGMT.LIST.404\"))+\"\\n        \")])])],1),e._v(\" \"),t(\"div\",{staticClass:\"w-1/3 hidden lg:block\"},[t(\"span\",{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:e.useInstallationName(e.$t(\"AGENT_MGMT.SIDEBAR_TXT\"),e.globalConfig.installationName),expression:\"\\n          useInstallationName(\\n            $t('AGENT_MGMT.SIDEBAR_TXT'),\\n            globalConfig.installationName\\n          )\\n        \"}]})])]),e._v(\" \"),t(\"woot-modal\",{attrs:{show:e.showAddPopup,\"on-close\":e.hideAddPopup},on:{\"update:show\":function(t){e.showAddPopup=t}}},[t(\"add-agent\",{attrs:{\"on-close\":e.hideAddPopup}})],1),e._v(\" \"),t(\"woot-modal\",{attrs:{show:e.showEditPopup,\"on-close\":e.hideEditPopup},on:{\"update:show\":function(t){e.showEditPopup=t}}},[e.showEditPopup?t(\"edit-agent\",{attrs:{id:e.currentAgent.id,name:e.currentAgent.name,type:e.currentAgent.role,email:e.currentAgent.email,availability:e.currentAgent.availability_status,\"on-close\":e.hideEditPopup}}):e._e()],1),e._v(\" \"),t(\"woot-delete-modal\",{attrs:{show:e.showDeletePopup,\"on-close\":e.closeDeletePopup,\"on-confirm\":e.confirmDeletion,title:e.$t(\"AGENT_MGMT.DELETE.CONFIRM.TITLE\"),message:e.$t(\"AGENT_MGMT.DELETE.CONFIRM.MESSAGE\"),\"message-value\":e.deleteMessage,\"confirm-text\":e.deleteConfirmText,\"reject-text\":e.deleteRejectText},on:{\"update:show\":function(t){e.showDeletePopup=t}}})],1)}),[],!1,null,null,null);t.default=I.exports}}]);","name":"js/115-d1cb703ba20349300dff.chunk.js","map":{"version":3,"names":["window","push","module","__webpack_exports__","__webpack_require__","r","vuex","globalConfigMixin","Thumbnail","validators","alertMixin","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_defineProperty","obj","defineProperty","configurable","writable","AddAgentvue_type_script_lang_js_","mixins","props","onClose","type","Function","default","data","agentName","agentEmail","agentType","vertical","horizontal","roles","name","label","this","$t","show","computed","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","uiFlags","validations","required","minLength","email","methods","addAgent","fn","_this","regeneratorRuntime","mark","_callee","_error$response2","_error$response","_error$response$data","_error$response$data$","errorResponse","_error$response$data$2","attributes","_error$response$data$3","attrError","errorMessage","wrap","_context","prev","next","$store","dispatch","role","showAlert","t0","response","message","status","includes","stop","self","args","err","undefined","agents_AddAgentvue_type_script_lang_js_","componentNormalizer","component","_vm","_c","_self","attrs","on","$event","staticClass","_v","submit","preventDefault","class","$v","$error","_s","directives","rawName","expression","modifiers","trim","placeholder","domProps","input","composing","$touch","blur","$forceUpdate","change","$$selectedVal","Array","prototype","call","options","o","selected","map","_value","multiple","_l","_e","disabled","$invalid","isCreating","loading","click","AddAgent","FormSubmitButton","Modal","auth","EditAgentvue_type_script_lang_js_asyncGeneratorStep","EditAgentvue_type_script_lang_js_asyncToGenerator","EditAgentvue_type_script_lang_js_ownKeys","EditAgentvue_type_script_lang_js_objectSpread","EditAgentvue_type_script_lang_js_defineProperty","AVAILABILITY_STATUS_KEYS","agents_EditAgentvue_type_script_lang_js_","components","WootSubmitButton","id","Number","String","availability","agentAvailability","agentCredentials","pageTitle","concat","availabilityStatuses","statusLabel","index","currentUserAvailability","editAgent","_this2","resetPassword","_this3","_callee2","_context2","EditAgent_component","isUpdating","icon","variant","Indexvue_type_script_lang_js_asyncGeneratorStep","Indexvue_type_script_lang_js_ownKeys","Indexvue_type_script_lang_js_objectSpread","Indexvue_type_script_lang_js_defineProperty","Indexvue_type_script_lang_js_","EditAgent","showAddPopup","showDeletePopup","showEditPopup","agentAPI","currentAgent","agentList","currentUserId","globalConfig","deleteConfirmText","deleteRejectText","deleteMessage","mounted","showEditAction","agent","showDeleteAction","confirmed","verifiedAdministrators","openAddPopup","hideAddPopup","openEditPopup","hideEditPopup","openDeletePopup","closeDeletePopup","confirmDeletion","deleteAgent","showAlertMessage","agents_Indexvue_type_script_lang_js_","Index_component","src","thumbnail","username","size","availability_status","toUpperCase","top","useInstallationName","installationName","title"],"sources":["js/115-d1cb703ba20349300dff.chunk.js"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[115],{\n\n/***/ 3354:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue?vue&type=template&id=a66cead6&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":function($event){return _vm.openAddPopup()}}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('AGENT_MGMT.HEADER_BTN_TXT'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row gap-4\"},[_c('div',{staticClass:\"w-full lg:w-3/5\"},[(_vm.uiFlags.isFetching)?_c('woot-loading-state',{attrs:{\"message\":_vm.$t('AGENT_MGMT.LOADING')}}):_c('div',[(!_vm.agentList.length)?_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.LIST.404'))+\"\\n        \")]):_c('table',{staticClass:\"woot-table\"},[_c('tbody',_vm._l((_vm.agentList),function(agent,index){return _c('tr',{key:agent.email},[_c('td',[_c('thumbnail',{attrs:{\"src\":agent.thumbnail,\"username\":agent.name,\"size\":\"40px\",\"status\":agent.availability_status}})],1),_vm._v(\" \"),_c('td',[_c('span',{staticClass:\"agent-name\"},[_vm._v(\"\\n                  \"+_vm._s(agent.name)+\"\\n                \")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(agent.email))])]),_vm._v(\" \"),_c('td',[_c('span',{staticClass:\"agent-name\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t(`AGENT_MGMT.AGENT_TYPES.${agent.role.toUpperCase()}`))+\"\\n                \")]),_vm._v(\" \"),(agent.confirmed)?_c('span',[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('AGENT_MGMT.LIST.VERIFIED'))+\"\\n                \")]):_vm._e(),_vm._v(\" \"),(!agent.confirmed)?_c('span',[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('AGENT_MGMT.LIST.VERIFICATION_PENDING'))+\"\\n                \")]):_vm._e()]),_vm._v(\" \"),_c('td',[_c('div',{staticClass:\"button-wrapper\"},[(_vm.showEditAction(agent))?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AGENT_MGMT.EDIT.BUTTON_TEXT')),expression:\"$t('AGENT_MGMT.EDIT.BUTTON_TEXT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"icon\":\"edit\",\"class-names\":\"grey-btn\"},on:{\"click\":function($event){return _vm.openEditPopup(agent)}}}):_vm._e(),_vm._v(\" \"),(_vm.showDeleteAction(agent))?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AGENT_MGMT.DELETE.BUTTON_TEXT')),expression:\"$t('AGENT_MGMT.DELETE.BUTTON_TEXT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"color-scheme\":\"alert\",\"size\":\"tiny\",\"icon\":\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[agent.id]},on:{\"click\":function($event){return _vm.openDeletePopup(agent, index)}}}):_vm._e()],1)])])}),0)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"w-1/3 hidden lg:block\"},[_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.useInstallationName(\n            _vm.$t('AGENT_MGMT.SIDEBAR_TXT'),\n            _vm.globalConfig.installationName\n          )\n        ),expression:\"\\n          useInstallationName(\\n            $t('AGENT_MGMT.SIDEBAR_TXT'),\\n            globalConfig.installationName\\n          )\\n        \"}]})])]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddPopup,\"on-close\":_vm.hideAddPopup},on:{\"update:show\":function($event){_vm.showAddPopup=$event}}},[_c('add-agent',{attrs:{\"on-close\":_vm.hideAddPopup}})],1),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showEditPopup,\"on-close\":_vm.hideEditPopup},on:{\"update:show\":function($event){_vm.showEditPopup=$event}}},[(_vm.showEditPopup)?_c('edit-agent',{attrs:{\"id\":_vm.currentAgent.id,\"name\":_vm.currentAgent.name,\"type\":_vm.currentAgent.role,\"email\":_vm.currentAgent.email,\"availability\":_vm.currentAgent.availability_status,\"on-close\":_vm.hideEditPopup}}):_vm._e()],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeletePopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('AGENT_MGMT.DELETE.CONFIRM.TITLE'),\"message\":_vm.$t('AGENT_MGMT.DELETE.CONFIRM.MESSAGE'),\"message-value\":_vm.deleteMessage,\"confirm-text\":_vm.deleteConfirmText,\"reject-text\":_vm.deleteRejectText},on:{\"update:show\":function($event){_vm.showDeletePopup=$event}}})],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue?vue&type=template&id=a66cead6&\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/globalConfigMixin.js\nvar globalConfigMixin = __webpack_require__(272);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/Thumbnail.vue + 4 modules\nvar Thumbnail = __webpack_require__(271);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue?vue&type=template&id=c19fbadc&\nvar AddAgentvue_type_template_id_c19fbadc_render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AGENT_MGMT.ADD.TITLE'),\"header-content\":_vm.$t('AGENT_MGMT.ADD.DESC')}}),_vm._v(\" \"),_c('form',{staticClass:\"flex flex-col items-start w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addAgent()}}},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentName.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.NAME.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.agentName),expression:\"agentName\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_MGMT.ADD.FORM.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.agentName)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.agentName=$event.target.value.trim()},_vm.$v.agentName.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentType.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.AGENT_TYPE.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agentType),expression:\"agentType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.agentType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.roles),function(role){return _c('option',{key:role.name,domProps:{\"value\":role.name}},[_vm._v(\"\\n              \"+_vm._s(role.label)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.agentType.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.AGENT_TYPE.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentEmail.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.EMAIL.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.agentEmail),expression:\"agentEmail\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_MGMT.ADD.FORM.EMAIL.PLACEHOLDER')},domProps:{\"value\":(_vm.agentEmail)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.agentEmail=$event.target.value.trim()},_vm.$v.agentEmail.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-submit-button',{attrs:{\"disabled\":_vm.$v.agentEmail.$invalid ||\n              _vm.$v.agentName.$invalid ||\n              _vm.uiFlags.isCreating,\"button-text\":_vm.$t('AGENT_MGMT.ADD.FORM.SUBMIT'),\"loading\":_vm.uiFlags.isCreating}}),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.CANCEL_BUTTON_TEXT'))+\"\\n          \")])],1)])])],1)])\n}\nvar AddAgentvue_type_template_id_c19fbadc_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue?vue&type=template&id=c19fbadc&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./node_modules/vuelidate/lib/validators/index.js\nvar validators = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var AddAgentvue_type_script_lang_js_ = ({mixins:[alertMixin[\"a\" /* default */]],props:{onClose:{type:Function,default:function _default(){}}},data:function data(){return{agentName:'',agentEmail:'',agentType:'agent',vertical:'bottom',horizontal:'center',roles:[{name:'administrator',label:this.$t('AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR')},{name:'agent',label:this.$t('AGENT_MGMT.AGENT_TYPES.AGENT')}],show:true};},computed:_objectSpread({},Object(vuex[\"mapGetters\"])({uiFlags:'agents/getUIFlags'})),validations:{agentName:{required:validators[\"required\"],minLength:Object(validators[\"minLength\"])(1)},agentEmail:{required:validators[\"required\"],email:validators[\"email\"]},agentType:{required:validators[\"required\"]}},methods:{addAgent:function addAgent(){var _this=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var _error$response2,_error$response,_error$response$data,_error$response$data$,errorResponse,_error$response$data$2,attributes,_error$response$data$3,attrError,errorMessage;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.$store.dispatch('agents/create',{name:_this.agentName,email:_this.agentEmail,role:_this.agentType});case 3:_this.showAlert(_this.$t('AGENT_MGMT.ADD.API.SUCCESS_MESSAGE'));_this.onClose();_context.next=17;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);_error$response=_context.t0.response;_error$response=_error$response===void 0?{}:_error$response;_error$response$data=_error$response.data;_error$response$data=_error$response$data===void 0?{}:_error$response$data;_error$response$data$=_error$response$data.error,errorResponse=_error$response$data$===void 0?'':_error$response$data$,_error$response$data$2=_error$response$data.attributes,attributes=_error$response$data$2===void 0?[]:_error$response$data$2,_error$response$data$3=_error$response$data.message,attrError=_error$response$data$3===void 0?'':_error$response$data$3;errorMessage='';if((_context.t0===null||_context.t0===void 0?void 0:(_error$response2=_context.t0.response)===null||_error$response2===void 0?void 0:_error$response2.status)===422&&!attributes.includes('base')){errorMessage=_this.$t('AGENT_MGMT.ADD.API.EXIST_MESSAGE');}else{errorMessage=_this.$t('AGENT_MGMT.ADD.API.ERROR_MESSAGE');}_this.showAlert(errorResponse||attrError||errorMessage);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue?vue&type=script&lang=js&\n /* harmony default export */ var agents_AddAgentvue_type_script_lang_js_ = (AddAgentvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  agents_AddAgentvue_type_script_lang_js_,\n  AddAgentvue_type_template_id_c19fbadc_render,\n  AddAgentvue_type_template_id_c19fbadc_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var AddAgent = (component.exports);\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue?vue&type=template&id=77cdeeaf&\nvar EditAgentvue_type_template_id_77cdeeaf_render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.pageTitle}}),_vm._v(\" \"),_c('form',{staticClass:\"w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editAgent()}}},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentName.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.NAME.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.agentName),expression:\"agentName\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_MGMT.EDIT.FORM.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.agentName)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.agentName=$event.target.value.trim()},_vm.$v.agentName.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentType.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.AGENT_TYPE.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agentType),expression:\"agentType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.agentType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.roles),function(role){return _c('option',{key:role.name,domProps:{\"value\":role.name}},[_vm._v(\"\\n              \"+_vm._s(role.label)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.agentType.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.AGENT_TYPE.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentAvailability.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('PROFILE_SETTINGS.FORM.AVAILABILITY.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agentAvailability),expression:\"agentAvailability\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.agentAvailability=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.availabilityStatuses),function(role){return _c('option',{key:role.value,domProps:{\"value\":role.value}},[_vm._v(\"\\n              \"+_vm._s(role.label)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.agentAvailability.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.AGENT_AVAILABILITY.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('div',{staticClass:\"w-[50%]\"},[_c('woot-submit-button',{attrs:{\"disabled\":_vm.$v.agentType.$invalid ||\n              _vm.$v.agentName.$invalid ||\n              _vm.uiFlags.isUpdating,\"button-text\":_vm.$t('AGENT_MGMT.EDIT.FORM.SUBMIT'),\"loading\":_vm.uiFlags.isUpdating}}),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.CANCEL_BUTTON_TEXT'))+\"\\n          \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"w-[50%] text-right\"},[_c('woot-button',{attrs:{\"icon\":\"lock-closed\",\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.resetPassword.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_RESET_BUTTON'))+\"\\n          \")])],1)])])],1)])\n}\nvar EditAgentvue_type_template_id_77cdeeaf_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue?vue&type=template&id=77cdeeaf&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.constructor.js\nvar es_number_constructor = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/buttons/FormSubmitButton.vue + 4 modules\nvar FormSubmitButton = __webpack_require__(1927);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/Modal.vue + 4 modules\nvar Modal = __webpack_require__(316);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/api/auth.js\nvar auth = __webpack_require__(169);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/constants/globals.js\nvar globals = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue?vue&type=script&lang=js&\nfunction EditAgentvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function EditAgentvue_type_script_lang_js_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){EditAgentvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){EditAgentvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function EditAgentvue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function EditAgentvue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){EditAgentvue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){EditAgentvue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{EditAgentvue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function EditAgentvue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var AVAILABILITY_STATUS_KEYS=globals[\"b\" /* default */].AVAILABILITY_STATUS_KEYS;/* harmony default export */ var EditAgentvue_type_script_lang_js_ = ({components:{WootSubmitButton:FormSubmitButton[\"a\" /* default */],Modal:Modal[\"a\" /* default */]},mixins:[alertMixin[\"a\" /* default */]],props:{id:{type:Number,required:true},name:{type:String,required:true},email:{type:String,default:''},type:{type:String,default:''},availability:{type:String,default:''},onClose:{type:Function,required:true}},data:function data(){return{roles:[{name:'administrator',label:this.$t('AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR')},{name:'agent',label:this.$t('AGENT_MGMT.AGENT_TYPES.AGENT')}],agentName:this.name,agentAvailability:this.availability,agentType:this.type,agentCredentials:{email:this.email},show:true};},validations:{agentName:{required:validators[\"required\"],minLength:Object(validators[\"minLength\"])(1)},agentType:{required:validators[\"required\"]},agentAvailability:{required:validators[\"required\"]}},computed:EditAgentvue_type_script_lang_js_objectSpread(EditAgentvue_type_script_lang_js_objectSpread({pageTitle:function pageTitle(){return\"\".concat(this.$t('AGENT_MGMT.EDIT.TITLE'),\" - \").concat(this.name);}},Object(vuex[\"mapGetters\"])({uiFlags:'agents/getUIFlags'})),{},{availabilityStatuses:function availabilityStatuses(){var _this=this;return this.$t('PROFILE_SETTINGS.FORM.AVAILABILITY.STATUSES_LIST').map(function(statusLabel,index){return{label:statusLabel,value:AVAILABILITY_STATUS_KEYS[index],disabled:_this.currentUserAvailability===AVAILABILITY_STATUS_KEYS[index]};});}}),methods:{editAgent:function editAgent(){var _this2=this;return EditAgentvue_type_script_lang_js_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this2.$store.dispatch('agents/update',{id:_this2.id,name:_this2.agentName,role:_this2.agentType,availability:_this2.agentAvailability});case 3:_this2.showAlert(_this2.$t('AGENT_MGMT.EDIT.API.SUCCESS_MESSAGE'));_this2.onClose();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);_this2.showAlert(_this2.$t('AGENT_MGMT.EDIT.API.ERROR_MESSAGE'));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},resetPassword:function resetPassword(){var _this3=this;return EditAgentvue_type_script_lang_js_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return auth[\"a\" /* default */].resetPassword(_this3.agentCredentials);case 3:_this3.showAlert(_this3.$t('AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_SUCCESS_MESSAGE'));_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);_this3.showAlert(_this3.$t('AGENT_MGMT.EDIT.PASSWORD_RESET.ERROR_MESSAGE'));case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}))();}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue?vue&type=script&lang=js&\n /* harmony default export */ var agents_EditAgentvue_type_script_lang_js_ = (EditAgentvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue\n\n\n\n\n\n/* normalize component */\n\nvar EditAgent_component = Object(componentNormalizer[\"a\" /* default */])(\n  agents_EditAgentvue_type_script_lang_js_,\n  EditAgentvue_type_template_id_77cdeeaf_render,\n  EditAgentvue_type_template_id_77cdeeaf_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var EditAgent = (EditAgent_component.exports);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue?vue&type=script&lang=js&\nfunction Indexvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function Indexvue_type_script_lang_js_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Indexvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){Indexvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function Indexvue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Indexvue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Indexvue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){Indexvue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Indexvue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function Indexvue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var Indexvue_type_script_lang_js_ = ({components:{AddAgent:AddAgent,EditAgent:EditAgent,Thumbnail:Thumbnail[\"a\" /* default */]},mixins:[globalConfigMixin[\"a\" /* default */],alertMixin[\"a\" /* default */]],data:function data(){return{loading:{},showAddPopup:false,showDeletePopup:false,showEditPopup:false,agentAPI:{message:''},currentAgent:{}};},computed:Indexvue_type_script_lang_js_objectSpread(Indexvue_type_script_lang_js_objectSpread({},Object(vuex[\"mapGetters\"])({agentList:'agents/getAgents',uiFlags:'agents/getUIFlags',currentUserId:'getCurrentUserID',globalConfig:'globalConfig/get'})),{},{deleteConfirmText:function deleteConfirmText(){return\"\".concat(this.$t('AGENT_MGMT.DELETE.CONFIRM.YES'),\" \").concat(this.currentAgent.name);},deleteRejectText:function deleteRejectText(){return\"\".concat(this.$t('AGENT_MGMT.DELETE.CONFIRM.NO'),\" \").concat(this.currentAgent.name);},deleteMessage:function deleteMessage(){return\" \".concat(this.currentAgent.name,\"?\");}}),mounted:function mounted(){this.$store.dispatch('agents/get');},methods:{showEditAction:function showEditAction(agent){return this.currentUserId!==agent.id;},showDeleteAction:function showDeleteAction(agent){if(this.currentUserId===agent.id){return false;}if(!agent.confirmed){return true;}if(agent.role==='administrator'){return this.verifiedAdministrators().length!==1;}return true;},verifiedAdministrators:function verifiedAdministrators(){return this.agentList.filter(function(agent){return agent.role==='administrator'&&agent.confirmed;});},// Edit Function\nopenAddPopup:function openAddPopup(){this.showAddPopup=true;},hideAddPopup:function hideAddPopup(){this.showAddPopup=false;},// Edit Function\nopenEditPopup:function openEditPopup(agent){this.showEditPopup=true;this.currentAgent=agent;},hideEditPopup:function hideEditPopup(){this.showEditPopup=false;},// Delete Function\nopenDeletePopup:function openDeletePopup(agent){this.showDeletePopup=true;this.currentAgent=agent;},closeDeletePopup:function closeDeletePopup(){this.showDeletePopup=false;},confirmDeletion:function confirmDeletion(){this.loading[this.currentAgent.id]=true;this.closeDeletePopup();this.deleteAgent(this.currentAgent.id);},deleteAgent:function deleteAgent(id){var _this=this;return Indexvue_type_script_lang_js_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.$store.dispatch('agents/delete',id);case 3:_this.showAlertMessage(_this.$t('AGENT_MGMT.DELETE.API.SUCCESS_MESSAGE'));_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);_this.showAlertMessage(_this.$t('AGENT_MGMT.DELETE.API.ERROR_MESSAGE'));case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}))();},// Show SnackBar\nshowAlertMessage:function showAlertMessage(message){// Reset loading, current selected agent\nthis.loading[this.currentAgent.id]=false;this.currentAgent={};// Show message\nthis.agentAPI.message=message;this.showAlert(message);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var agents_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  agents_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue?vue&type=template&id=a66cead6&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue?vue&type=template&id=c19fbadc&","app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/AddAgent.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue?vue&type=template&id=77cdeeaf&","app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/EditAgent.vue","app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agents/Index.vue"],"names":[],"mappings":"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","file":"x","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":function($event){return _vm.openAddPopup()}}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('AGENT_MGMT.HEADER_BTN_TXT'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row gap-4\"},[_c('div',{staticClass:\"w-full lg:w-3/5\"},[(_vm.uiFlags.isFetching)?_c('woot-loading-state',{attrs:{\"message\":_vm.$t('AGENT_MGMT.LOADING')}}):_c('div',[(!_vm.agentList.length)?_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.LIST.404'))+\"\\n        \")]):_c('table',{staticClass:\"woot-table\"},[_c('tbody',_vm._l((_vm.agentList),function(agent,index){return _c('tr',{key:agent.email},[_c('td',[_c('thumbnail',{attrs:{\"src\":agent.thumbnail,\"username\":agent.name,\"size\":\"40px\",\"status\":agent.availability_status}})],1),_vm._v(\" \"),_c('td',[_c('span',{staticClass:\"agent-name\"},[_vm._v(\"\\n                  \"+_vm._s(agent.name)+\"\\n                \")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(agent.email))])]),_vm._v(\" \"),_c('td',[_c('span',{staticClass:\"agent-name\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t(`AGENT_MGMT.AGENT_TYPES.${agent.role.toUpperCase()}`))+\"\\n                \")]),_vm._v(\" \"),(agent.confirmed)?_c('span',[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('AGENT_MGMT.LIST.VERIFIED'))+\"\\n                \")]):_vm._e(),_vm._v(\" \"),(!agent.confirmed)?_c('span',[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('AGENT_MGMT.LIST.VERIFICATION_PENDING'))+\"\\n                \")]):_vm._e()]),_vm._v(\" \"),_c('td',[_c('div',{staticClass:\"button-wrapper\"},[(_vm.showEditAction(agent))?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AGENT_MGMT.EDIT.BUTTON_TEXT')),expression:\"$t('AGENT_MGMT.EDIT.BUTTON_TEXT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"icon\":\"edit\",\"class-names\":\"grey-btn\"},on:{\"click\":function($event){return _vm.openEditPopup(agent)}}}):_vm._e(),_vm._v(\" \"),(_vm.showDeleteAction(agent))?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AGENT_MGMT.DELETE.BUTTON_TEXT')),expression:\"$t('AGENT_MGMT.DELETE.BUTTON_TEXT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"color-scheme\":\"alert\",\"size\":\"tiny\",\"icon\":\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[agent.id]},on:{\"click\":function($event){return _vm.openDeletePopup(agent, index)}}}):_vm._e()],1)])])}),0)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"w-1/3 hidden lg:block\"},[_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.useInstallationName(\n            _vm.$t('AGENT_MGMT.SIDEBAR_TXT'),\n            _vm.globalConfig.installationName\n          )\n        ),expression:\"\\n          useInstallationName(\\n            $t('AGENT_MGMT.SIDEBAR_TXT'),\\n            globalConfig.installationName\\n          )\\n        \"}]})])]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddPopup,\"on-close\":_vm.hideAddPopup},on:{\"update:show\":function($event){_vm.showAddPopup=$event}}},[_c('add-agent',{attrs:{\"on-close\":_vm.hideAddPopup}})],1),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showEditPopup,\"on-close\":_vm.hideEditPopup},on:{\"update:show\":function($event){_vm.showEditPopup=$event}}},[(_vm.showEditPopup)?_c('edit-agent',{attrs:{\"id\":_vm.currentAgent.id,\"name\":_vm.currentAgent.name,\"type\":_vm.currentAgent.role,\"email\":_vm.currentAgent.email,\"availability\":_vm.currentAgent.availability_status,\"on-close\":_vm.hideEditPopup}}):_vm._e()],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeletePopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('AGENT_MGMT.DELETE.CONFIRM.TITLE'),\"message\":_vm.$t('AGENT_MGMT.DELETE.CONFIRM.MESSAGE'),\"message-value\":_vm.deleteMessage,\"confirm-text\":_vm.deleteConfirmText,\"reject-text\":_vm.deleteRejectText},on:{\"update:show\":function($event){_vm.showDeletePopup=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AGENT_MGMT.ADD.TITLE'),\"header-content\":_vm.$t('AGENT_MGMT.ADD.DESC')}}),_vm._v(\" \"),_c('form',{staticClass:\"flex flex-col items-start w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addAgent()}}},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentName.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.NAME.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.agentName),expression:\"agentName\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_MGMT.ADD.FORM.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.agentName)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.agentName=$event.target.value.trim()},_vm.$v.agentName.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentType.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.AGENT_TYPE.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agentType),expression:\"agentType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.agentType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.roles),function(role){return _c('option',{key:role.name,domProps:{\"value\":role.name}},[_vm._v(\"\\n              \"+_vm._s(role.label)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.agentType.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.AGENT_TYPE.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentEmail.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.FORM.EMAIL.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.agentEmail),expression:\"agentEmail\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_MGMT.ADD.FORM.EMAIL.PLACEHOLDER')},domProps:{\"value\":(_vm.agentEmail)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.agentEmail=$event.target.value.trim()},_vm.$v.agentEmail.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-submit-button',{attrs:{\"disabled\":_vm.$v.agentEmail.$invalid ||\n              _vm.$v.agentName.$invalid ||\n              _vm.uiFlags.isCreating,\"button-text\":_vm.$t('AGENT_MGMT.ADD.FORM.SUBMIT'),\"loading\":_vm.uiFlags.isCreating}}),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.ADD.CANCEL_BUTTON_TEXT'))+\"\\n          \")])],1)])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n    <div class=\"flex flex-col h-auto overflow-auto\">\n      <woot-modal-header\n        :header-title=\"$t('AGENT_MGMT.ADD.TITLE')\"\n        :header-content=\"$t('AGENT_MGMT.ADD.DESC')\"\n      />\n\n      <form\n        class=\"flex flex-col items-start w-full\"\n        @submit.prevent=\"addAgent()\"\n      >\n        <div class=\"w-full\">\n          <label :class=\"{ error: $v.agentName.$error }\">\n            {{ $t('AGENT_MGMT.ADD.FORM.NAME.LABEL') }}\n            <input\n              v-model.trim=\"agentName\"\n              type=\"text\"\n              :placeholder=\"$t('AGENT_MGMT.ADD.FORM.NAME.PLACEHOLDER')\"\n              @input=\"$v.agentName.$touch\"\n            />\n          </label>\n        </div>\n        <div class=\"w-full\">\n          <label :class=\"{ error: $v.agentType.$error }\">\n            {{ $t('AGENT_MGMT.ADD.FORM.AGENT_TYPE.LABEL') }}\n            <select v-model=\"agentType\">\n              <option v-for=\"role in roles\" :key=\"role.name\" :value=\"role.name\">\n                {{ role.label }}\n              </option>\n            </select>\n            <span v-if=\"$v.agentType.$error\" class=\"message\">\n              {{ $t('AGENT_MGMT.ADD.FORM.AGENT_TYPE.ERROR') }}\n            </span>\n          </label>\n        </div>\n        <div class=\"w-full\">\n          <label :class=\"{ error: $v.agentEmail.$error }\">\n            {{ $t('AGENT_MGMT.ADD.FORM.EMAIL.LABEL') }}\n            <input\n              v-model.trim=\"agentEmail\"\n              type=\"text\"\n              :placeholder=\"$t('AGENT_MGMT.ADD.FORM.EMAIL.PLACEHOLDER')\"\n              @input=\"$v.agentEmail.$touch\"\n            />\n          </label>\n        </div>\n        <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n          <div class=\"w-full\">\n            <woot-submit-button\n              :disabled=\"\n                $v.agentEmail.$invalid ||\n                $v.agentName.$invalid ||\n                uiFlags.isCreating\n              \"\n              :button-text=\"$t('AGENT_MGMT.ADD.FORM.SUBMIT')\"\n              :loading=\"uiFlags.isCreating\"\n            />\n            <button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('AGENT_MGMT.ADD.CANCEL_BUTTON_TEXT') }}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </woot-modal>\n</template>\n\n<script>\nimport { required, minLength, email } from 'vuelidate/lib/validators';\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\n\nexport default {\n  mixins: [alertMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      agentName: '',\n      agentEmail: '',\n      agentType: 'agent',\n      vertical: 'bottom',\n      horizontal: 'center',\n      roles: [\n        {\n          name: 'administrator',\n          label: this.$t('AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR'),\n        },\n        {\n          name: 'agent',\n          label: this.$t('AGENT_MGMT.AGENT_TYPES.AGENT'),\n        },\n      ],\n      show: true,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'agents/getUIFlags',\n    }),\n  },\n  validations: {\n    agentName: {\n      required,\n      minLength: minLength(1),\n    },\n    agentEmail: {\n      required,\n      email,\n    },\n    agentType: {\n      required,\n    },\n  },\n\n  methods: {\n    async addAgent() {\n      try {\n        await this.$store.dispatch('agents/create', {\n          name: this.agentName,\n          email: this.agentEmail,\n          role: this.agentType,\n        });\n        this.showAlert(this.$t('AGENT_MGMT.ADD.API.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        const {\n          response: {\n            data: {\n              error: errorResponse = '',\n              attributes: attributes = [],\n              message: attrError = '',\n            } = {},\n          } = {},\n        } = error;\n\n        let errorMessage = '';\n        if (error?.response?.status === 422 && !attributes.includes('base')) {\n          errorMessage = this.$t('AGENT_MGMT.ADD.API.EXIST_MESSAGE');\n        } else {\n          errorMessage = this.$t('AGENT_MGMT.ADD.API.ERROR_MESSAGE');\n        }\n        this.showAlert(errorResponse || attrError || errorMessage);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAgent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAgent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddAgent.vue?vue&type=template&id=c19fbadc&\"\nimport script from \"./AddAgent.vue?vue&type=script&lang=js&\"\nexport * from \"./AddAgent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.pageTitle}}),_vm._v(\" \"),_c('form',{staticClass:\"w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editAgent()}}},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentName.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.NAME.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.agentName),expression:\"agentName\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_MGMT.EDIT.FORM.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.agentName)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.agentName=$event.target.value.trim()},_vm.$v.agentName.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentType.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.AGENT_TYPE.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agentType),expression:\"agentType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.agentType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.roles),function(role){return _c('option',{key:role.name,domProps:{\"value\":role.name}},[_vm._v(\"\\n              \"+_vm._s(role.label)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.agentType.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.AGENT_TYPE.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.$v.agentAvailability.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('PROFILE_SETTINGS.FORM.AVAILABILITY.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agentAvailability),expression:\"agentAvailability\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.agentAvailability=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.availabilityStatuses),function(role){return _c('option',{key:role.value,domProps:{\"value\":role.value}},[_vm._v(\"\\n              \"+_vm._s(role.label)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.agentAvailability.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.FORM.AGENT_AVAILABILITY.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('div',{staticClass:\"w-[50%]\"},[_c('woot-submit-button',{attrs:{\"disabled\":_vm.$v.agentType.$invalid ||\n              _vm.$v.agentName.$invalid ||\n              _vm.uiFlags.isUpdating,\"button-text\":_vm.$t('AGENT_MGMT.EDIT.FORM.SUBMIT'),\"loading\":_vm.uiFlags.isUpdating}}),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.CANCEL_BUTTON_TEXT'))+\"\\n          \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"w-[50%] text-right\"},[_c('woot-button',{attrs:{\"icon\":\"lock-closed\",\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.resetPassword.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_RESET_BUTTON'))+\"\\n          \")])],1)])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <modal :show.sync=\"show\" :on-close=\"onClose\">\n    <div class=\"h-auto overflow-auto flex flex-col\">\n      <woot-modal-header :header-title=\"pageTitle\" />\n      <form class=\"w-full\" @submit.prevent=\"editAgent()\">\n        <div class=\"w-full\">\n          <label :class=\"{ error: $v.agentName.$error }\">\n            {{ $t('AGENT_MGMT.EDIT.FORM.NAME.LABEL') }}\n            <input\n              v-model.trim=\"agentName\"\n              type=\"text\"\n              :placeholder=\"$t('AGENT_MGMT.EDIT.FORM.NAME.PLACEHOLDER')\"\n              @input=\"$v.agentName.$touch\"\n            />\n          </label>\n        </div>\n\n        <div class=\"w-full\">\n          <label :class=\"{ error: $v.agentType.$error }\">\n            {{ $t('AGENT_MGMT.EDIT.FORM.AGENT_TYPE.LABEL') }}\n            <select v-model=\"agentType\">\n              <option v-for=\"role in roles\" :key=\"role.name\" :value=\"role.name\">\n                {{ role.label }}\n              </option>\n            </select>\n            <span v-if=\"$v.agentType.$error\" class=\"message\">\n              {{ $t('AGENT_MGMT.EDIT.FORM.AGENT_TYPE.ERROR') }}\n            </span>\n          </label>\n        </div>\n\n        <div class=\"w-full\">\n          <label :class=\"{ error: $v.agentAvailability.$error }\">\n            {{ $t('PROFILE_SETTINGS.FORM.AVAILABILITY.LABEL') }}\n            <select v-model=\"agentAvailability\">\n              <option\n                v-for=\"role in availabilityStatuses\"\n                :key=\"role.value\"\n                :value=\"role.value\"\n              >\n                {{ role.label }}\n              </option>\n            </select>\n            <span v-if=\"$v.agentAvailability.$error\" class=\"message\">\n              {{ $t('AGENT_MGMT.EDIT.FORM.AGENT_AVAILABILITY.ERROR') }}\n            </span>\n          </label>\n        </div>\n        <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n          <div class=\"w-[50%]\">\n            <woot-submit-button\n              :disabled=\"\n                $v.agentType.$invalid ||\n                $v.agentName.$invalid ||\n                uiFlags.isUpdating\n              \"\n              :button-text=\"$t('AGENT_MGMT.EDIT.FORM.SUBMIT')\"\n              :loading=\"uiFlags.isUpdating\"\n            />\n            <button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('AGENT_MGMT.EDIT.CANCEL_BUTTON_TEXT') }}\n            </button>\n          </div>\n          <div class=\"w-[50%] text-right\">\n            <woot-button\n              icon=\"lock-closed\"\n              variant=\"clear\"\n              @click.prevent=\"resetPassword\"\n            >\n              {{ $t('AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_RESET_BUTTON') }}\n            </woot-button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </modal>\n</template>\n\n<script>\nimport { required, minLength } from 'vuelidate/lib/validators';\nimport { mapGetters } from 'vuex';\nimport WootSubmitButton from '../../../../components/buttons/FormSubmitButton.vue';\nimport Modal from '../../../../components/Modal.vue';\nimport Auth from '../../../../api/auth';\nimport wootConstants from 'dashboard/constants/globals';\nimport alertMixin from 'shared/mixins/alertMixin';\n\nconst { AVAILABILITY_STATUS_KEYS } = wootConstants;\n\nexport default {\n  components: {\n    WootSubmitButton,\n    Modal,\n  },\n  mixins: [alertMixin],\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n    email: {\n      type: String,\n      default: '',\n    },\n    type: {\n      type: String,\n      default: '',\n    },\n    availability: {\n      type: String,\n      default: '',\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      roles: [\n        {\n          name: 'administrator',\n          label: this.$t('AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR'),\n        },\n        {\n          name: 'agent',\n          label: this.$t('AGENT_MGMT.AGENT_TYPES.AGENT'),\n        },\n      ],\n      agentName: this.name,\n      agentAvailability: this.availability,\n      agentType: this.type,\n      agentCredentials: {\n        email: this.email,\n      },\n      show: true,\n    };\n  },\n  validations: {\n    agentName: {\n      required,\n      minLength: minLength(1),\n    },\n    agentType: {\n      required,\n    },\n    agentAvailability: {\n      required,\n    },\n  },\n  computed: {\n    pageTitle() {\n      return `${this.$t('AGENT_MGMT.EDIT.TITLE')} - ${this.name}`;\n    },\n    ...mapGetters({\n      uiFlags: 'agents/getUIFlags',\n    }),\n    availabilityStatuses() {\n      return this.$t('PROFILE_SETTINGS.FORM.AVAILABILITY.STATUSES_LIST').map(\n        (statusLabel, index) => ({\n          label: statusLabel,\n          value: AVAILABILITY_STATUS_KEYS[index],\n          disabled:\n            this.currentUserAvailability === AVAILABILITY_STATUS_KEYS[index],\n        })\n      );\n    },\n  },\n  methods: {\n    async editAgent() {\n      try {\n        await this.$store.dispatch('agents/update', {\n          id: this.id,\n          name: this.agentName,\n          role: this.agentType,\n          availability: this.agentAvailability,\n        });\n        this.showAlert(this.$t('AGENT_MGMT.EDIT.API.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        this.showAlert(this.$t('AGENT_MGMT.EDIT.API.ERROR_MESSAGE'));\n      }\n    },\n    async resetPassword() {\n      try {\n        await Auth.resetPassword(this.agentCredentials);\n        this.showAlert(\n          this.$t('AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_SUCCESS_MESSAGE')\n        );\n      } catch (error) {\n        this.showAlert(this.$t('AGENT_MGMT.EDIT.PASSWORD_RESET.ERROR_MESSAGE'));\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAgent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAgent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditAgent.vue?vue&type=template&id=77cdeeaf&\"\nimport script from \"./EditAgent.vue?vue&type=script&lang=js&\"\nexport * from \"./EditAgent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex-1 overflow-auto p-4\">\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"add-circle\"\n      @click=\"openAddPopup()\"\n    >\n      {{ $t('AGENT_MGMT.HEADER_BTN_TXT') }}\n    </woot-button>\n\n    <!-- List Agents -->\n    <div class=\"flex flex-row gap-4\">\n      <div class=\"w-full lg:w-3/5\">\n        <woot-loading-state\n          v-if=\"uiFlags.isFetching\"\n          :message=\"$t('AGENT_MGMT.LOADING')\"\n        />\n        <div v-else>\n          <p v-if=\"!agentList.length\">\n            {{ $t('AGENT_MGMT.LIST.404') }}\n          </p>\n          <table v-else class=\"woot-table\">\n            <tbody>\n              <tr v-for=\"(agent, index) in agentList\" :key=\"agent.email\">\n                <!-- Gravtar Image -->\n                <td>\n                  <thumbnail\n                    :src=\"agent.thumbnail\"\n                    :username=\"agent.name\"\n                    size=\"40px\"\n                    :status=\"agent.availability_status\"\n                  />\n                </td>\n                <!-- Agent Name + Email -->\n                <td>\n                  <span class=\"agent-name\">\n                    {{ agent.name }}\n                  </span>\n                  <span>{{ agent.email }}</span>\n                </td>\n                <!-- Agent Role + Verification Status -->\n                <td>\n                  <span class=\"agent-name\">\n                    {{\n                      $t(`AGENT_MGMT.AGENT_TYPES.${agent.role.toUpperCase()}`)\n                    }}\n                  </span>\n                  <span v-if=\"agent.confirmed\">\n                    {{ $t('AGENT_MGMT.LIST.VERIFIED') }}\n                  </span>\n                  <span v-if=\"!agent.confirmed\">\n                    {{ $t('AGENT_MGMT.LIST.VERIFICATION_PENDING') }}\n                  </span>\n                </td>\n                <!-- Actions -->\n                <td>\n                  <div class=\"button-wrapper\">\n                    <woot-button\n                      v-if=\"showEditAction(agent)\"\n                      v-tooltip.top=\"$t('AGENT_MGMT.EDIT.BUTTON_TEXT')\"\n                      variant=\"smooth\"\n                      size=\"tiny\"\n                      color-scheme=\"secondary\"\n                      icon=\"edit\"\n                      class-names=\"grey-btn\"\n                      @click=\"openEditPopup(agent)\"\n                    />\n                    <woot-button\n                      v-if=\"showDeleteAction(agent)\"\n                      v-tooltip.top=\"$t('AGENT_MGMT.DELETE.BUTTON_TEXT')\"\n                      variant=\"smooth\"\n                      color-scheme=\"alert\"\n                      size=\"tiny\"\n                      icon=\"dismiss-circle\"\n                      class-names=\"grey-btn\"\n                      :is-loading=\"loading[agent.id]\"\n                      @click=\"openDeletePopup(agent, index)\"\n                    />\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"w-1/3 hidden lg:block\">\n        <span\n          v-dompurify-html=\"\n            useInstallationName(\n              $t('AGENT_MGMT.SIDEBAR_TXT'),\n              globalConfig.installationName\n            )\n          \"\n        />\n      </div>\n    </div>\n    <!-- Add Agent -->\n    <woot-modal :show.sync=\"showAddPopup\" :on-close=\"hideAddPopup\">\n      <add-agent :on-close=\"hideAddPopup\" />\n    </woot-modal>\n    <!-- Edit Agent -->\n    <woot-modal :show.sync=\"showEditPopup\" :on-close=\"hideEditPopup\">\n      <edit-agent\n        v-if=\"showEditPopup\"\n        :id=\"currentAgent.id\"\n        :name=\"currentAgent.name\"\n        :type=\"currentAgent.role\"\n        :email=\"currentAgent.email\"\n        :availability=\"currentAgent.availability_status\"\n        :on-close=\"hideEditPopup\"\n      />\n    </woot-modal>\n    <!-- Delete Agent -->\n    <woot-delete-modal\n      :show.sync=\"showDeletePopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('AGENT_MGMT.DELETE.CONFIRM.TITLE')\"\n      :message=\"$t('AGENT_MGMT.DELETE.CONFIRM.MESSAGE')\"\n      :message-value=\"deleteMessage\"\n      :confirm-text=\"deleteConfirmText\"\n      :reject-text=\"deleteRejectText\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport globalConfigMixin from 'shared/mixins/globalConfigMixin';\nimport Thumbnail from '../../../../components/widgets/Thumbnail.vue';\nimport AddAgent from './AddAgent.vue';\nimport EditAgent from './EditAgent.vue';\nimport alertMixin from 'shared/mixins/alertMixin';\n\nexport default {\n  components: {\n    AddAgent,\n    EditAgent,\n    Thumbnail,\n  },\n  mixins: [globalConfigMixin, alertMixin],\n  data() {\n    return {\n      loading: {},\n      showAddPopup: false,\n      showDeletePopup: false,\n      showEditPopup: false,\n      agentAPI: {\n        message: '',\n      },\n      currentAgent: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      agentList: 'agents/getAgents',\n      uiFlags: 'agents/getUIFlags',\n      currentUserId: 'getCurrentUserID',\n      globalConfig: 'globalConfig/get',\n    }),\n    deleteConfirmText() {\n      return `${this.$t('AGENT_MGMT.DELETE.CONFIRM.YES')} ${\n        this.currentAgent.name\n      }`;\n    },\n    deleteRejectText() {\n      return `${this.$t('AGENT_MGMT.DELETE.CONFIRM.NO')} ${\n        this.currentAgent.name\n      }`;\n    },\n    deleteMessage() {\n      return ` ${this.currentAgent.name}?`;\n    },\n  },\n  mounted() {\n    this.$store.dispatch('agents/get');\n  },\n  methods: {\n    showEditAction(agent) {\n      return this.currentUserId !== agent.id;\n    },\n    showDeleteAction(agent) {\n      if (this.currentUserId === agent.id) {\n        return false;\n      }\n\n      if (!agent.confirmed) {\n        return true;\n      }\n\n      if (agent.role === 'administrator') {\n        return this.verifiedAdministrators().length !== 1;\n      }\n      return true;\n    },\n    verifiedAdministrators() {\n      return this.agentList.filter(\n        agent => agent.role === 'administrator' && agent.confirmed\n      );\n    },\n    // Edit Function\n    openAddPopup() {\n      this.showAddPopup = true;\n    },\n    hideAddPopup() {\n      this.showAddPopup = false;\n    },\n\n    // Edit Function\n    openEditPopup(agent) {\n      this.showEditPopup = true;\n      this.currentAgent = agent;\n    },\n    hideEditPopup() {\n      this.showEditPopup = false;\n    },\n\n    // Delete Function\n    openDeletePopup(agent) {\n      this.showDeletePopup = true;\n      this.currentAgent = agent;\n    },\n    closeDeletePopup() {\n      this.showDeletePopup = false;\n    },\n    confirmDeletion() {\n      this.loading[this.currentAgent.id] = true;\n      this.closeDeletePopup();\n      this.deleteAgent(this.currentAgent.id);\n    },\n    async deleteAgent(id) {\n      try {\n        await this.$store.dispatch('agents/delete', id);\n        this.showAlertMessage(this.$t('AGENT_MGMT.DELETE.API.SUCCESS_MESSAGE'));\n      } catch (error) {\n        this.showAlertMessage(this.$t('AGENT_MGMT.DELETE.API.ERROR_MESSAGE'));\n      }\n    },\n    // Show SnackBar\n    showAlertMessage(message) {\n      // Reset loading, current selected agent\n      this.loading[this.currentAgent.id] = false;\n      this.currentAgent = {};\n      // Show message\n      this.agentAPI.message = message;\n      this.showAlert(message);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=a66cead6&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}