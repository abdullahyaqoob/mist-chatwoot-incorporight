{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{2740:function(t,e,n){},2842:function(t,e,n){\"use strict\";n(2740)},2960:function(t,e,n){\"use strict\";n(43),n(9),n(37),n(13),n(11),n(15),n(12),n(16);var r=n(66),o=(n(323),n(52),n(70),n(360)),i=n(32);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={components:{LoadingState:o.a},props:{value:{type:String,default:\"\"}},data:function(){return{iframeLoading:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(i.mapGetters)({globalConfig:\"globalConfig/get\"})),mounted:function(){var t=this;window.onmessage=function(e){if(\"string\"===typeof e.data&&e.data.startsWith(\"chatwoot-csml-editor:update\")){var n=e.data.replace(\"chatwoot-csml-editor:update\",\"\");t.$emit(\"input\",n)}}},methods:{onEditorLoad:function(){var t=document.getElementById(\"csml-editor--frame\"),e={event:\"editorContext\",data:this.value||\"\"};t.contentWindow.postMessage(JSON.stringify(e),\"*\"),this.iframeLoading=!1}}},l=s,u=(n(2842),n(8));function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b={components:{CsmlMonacoEditor:Object(u.a)(l,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"csml-editor--container\"},[t.iframeLoading?e(\"loading-state\",{staticClass:\"dashboard-app_loading-container\",attrs:{message:t.$t(\"AGENT_BOTS.LOADING_EDITOR\")}}):t._e(),t._v(\" \"),e(\"iframe\",{attrs:{id:\"csml-editor--frame\",src:t.globalConfig.csmlEditorHost},on:{load:t.onEditorLoad}})],1)}),[],!1,null,\"d9e9be14\",null).exports},props:{agentBot:{type:Object,default:function(){}}},validations:{bot:{name:{required:r.required},csmlContent:{required:r.required}}},data:function(){return{bot:{name:this.agentBot.name||\"\",description:this.agentBot.description||\"\",csmlContent:this.agentBot.bot_config.csml_content||\"\"}}},methods:{onSubmit:function(){this.$v.$touch(),this.$v.$invalid||this.$emit(\"submit\",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:this.agentBot.id||\"\"},this.bot))}}},d=b,O=Object(u.a)(d,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"h-auto overflow-auto flex flex-col\"},[e(\"div\",{staticClass:\"flex flex-row\"},[e(\"div\",{staticClass:\"w-[68%]\"},[e(\"div\",{staticClass:\"h-[calc(100vh-56px)] relative\"},[e(\"csml-monaco-editor\",{staticClass:\"w-full h-full\",model:{value:t.bot.csmlContent,callback:function(e){t.$set(t.bot,\"csmlContent\",e)},expression:\"bot.csmlContent\"}}),t._v(\" \"),t.$v.bot.csmlContent.$error?e(\"div\",{staticClass:\"bg-red-100 dark:bg-red-200 text-white dark:text-white absolute bottom-0 w-full p-2.5 flex items-center text-xs justify-center flex-shrink-0\"},[e(\"span\",[t._v(t._s(t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.BOT_CONFIG.ERROR\")))])]):t._e()],1)]),t._v(\" \"),e(\"div\",{staticClass:\"w-[32%] overflow-auto p-4 h-[calc(100vh-56px)]\"},[e(\"form\",{staticClass:\"flex flex-col justify-between h-full\",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e(\"div\",[e(\"label\",{class:{error:t.$v.bot.name.$error}},[t._v(\"\\n            \"+t._s(t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.NAME.LABEL\"))+\"\\n            \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.bot.name,expression:\"bot.name\"}],attrs:{type:\"text\",placeholder:t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.NAME.PLACEHOLDER\")},domProps:{value:t.bot.name},on:{input:function(e){e.target.composing||t.$set(t.bot,\"name\",e.target.value)}}}),t._v(\" \"),t.$v.bot.name.$error?e(\"span\",{staticClass:\"message\"},[t._v(\"\\n              \"+t._s(t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.NAME.ERROR\"))+\"\\n            \")]):t._e()]),t._v(\" \"),e(\"label\",[t._v(\"\\n            \"+t._s(t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.LABEL\"))+\"\\n            \"),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.bot.description,expression:\"bot.description\"}],attrs:{rows:\"4\",placeholder:t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.PLACEHOLDER\")},domProps:{value:t.bot.description},on:{input:function(e){e.target.composing||t.$set(t.bot,\"description\",e.target.value)}}})]),t._v(\" \"),e(\"woot-button\",[t._v(\"\\n            \"+t._s(t.$t(\"AGENT_BOTS.CSML_BOT_EDITOR.SUBMIT\"))+\"\\n          \")])],1)])])])])}),[],!1,null,null,null);e.a=O.exports},3397:function(t,e,n){\"use strict\";n.r(e);n(36),n(43),n(9),n(37),n(52),n(70),n(51),n(13),n(11),n(15),n(12),n(16),n(10),n(28);var r=n(79),o=n(2960),i=n(17),a=n(32);function c(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(r,o)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={components:{CsmlBotEditor:o.a},mixins:[r.a],computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(a.mapGetters)({accountId:\"getCurrentAccountId\"})),methods:{saveBot:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$store.dispatch(\"agentBots/create\",{name:t.name,description:t.description,bot_type:\"csml\",bot_config:{csml_content:t.csmlContent}});case 3:(r=e.sent)&&n.$router.replace(Object(i.c)(\"accounts/\".concat(n.accountId,\"/settings/agent-bots/csml/\").concat(r.id))),n.showAlert(n.$t(\"AGENT_BOTS.ADD.API.SUCCESS_MESSAGE\")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.showAlert(n.$t(\"AGENT_BOTS.ADD.API.ERROR_MESSAGE\"));case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){c(i,r,o,a,s,\"next\",t)}function s(t){c(i,r,o,a,s,\"throw\",t)}a(void 0)}))})()}}},p=u,f=n(8),b=Object(f.a)(p,(function(){return(0,this._self._c)(\"csml-bot-editor\",{attrs:{\"agent-bot\":{bot_config:{}}},on:{submit:this.saveBot}})}),[],!1,null,null,null);e.default=b.exports}}]);","name":"js/81-f1952507edf57209a0b8.chunk.js","map":{"version":3,"names":["window","push","module","exports","__webpack_require__","__webpack_exports__","validators","LoadingState","vuex","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_defineProperty","obj","key","value","defineProperty","configurable","writable","CSMLMonacoEditorvue_type_script_lang_js_","components","props","type","String","default","data","iframeLoading","computed","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","globalConfig","mounted","_this","this","onmessage","e","startsWith","csmlContent","replace","$emit","methods","onEditorLoad","frameElement","document","getElementById","eventData","event","contentWindow","postMessage","JSON","stringify","components_CSMLMonacoEditorvue_type_script_lang_js_","componentNormalizer","CSMLBotEditorvue_type_script_lang_js_ownKeys","CSMLBotEditorvue_type_script_lang_js_defineProperty","CSMLBotEditorvue_type_script_lang_js_","CsmlMonacoEditor","_vm","_c","_self","staticClass","attrs","message","$t","_e","_v","id","src","csmlEditorHost","on","load","agentBot","validations","bot","name","required","description","bot_config","csml_content","onSubmit","$v","$touch","$invalid","CSMLBotEditorvue_type_script_lang_js_objectSpread","components_CSMLBotEditorvue_type_script_lang_js_","CSMLBotEditor_component","model","callback","$$v","$set","expression","_s","submit","$event","preventDefault","class","error","$error","directives","rawName","placeholder","domProps","input","composing","rows","r","alertMixin","CSMLBotEditor","URLHelper","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","Newvue_type_script_lang_js_","CsmlBotEditor","mixins","accountId","saveBot","fn","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$store","dispatch","bot_type","sent","$router","concat","showAlert","t0","stop","self","args","err","undefined","csml_Newvue_type_script_lang_js_","component"],"sources":["js/81-f1952507edf57209a0b8.chunk.js"],"mappings":"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAE7D,KACA,SAAUC,EAAQC,EAASC,KAM3B,KACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAC2YA,EAAoB,OAOzZ,KACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAWuBA,EAAoB,IAG3BA,EAAoB,GAGRA,EAAoB,IAG3BA,EAAoB,IAGnBA,EAAoB,IAGEA,EAAoB,IAG7BA,EAAoB,IAGVA,EAAoB,IA7BjE,IAgCIE,EAAaF,EAAoB,IAoBjCG,GATwBH,EAAoB,KAG3BA,EAAoB,IAGjBA,EAAoB,IAGzBA,EAAoB,MAGnCI,EAAOJ,EAAoB,IAG/B,SAASK,EAAQC,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAKX,KAAKmB,MAAMR,EAAKG,GAAU,OAAOH,EAAue,SAASS,EAAgBC,EAAIC,EAAIC,GAAyI,OAA/HD,KAAOD,EAAKT,OAAOY,eAAeH,EAAIC,EAAI,CAACC,MAAMA,EAAML,YAAW,EAAKO,cAAa,EAAKC,UAAS,IAAaL,EAAIC,GAAKC,EAAcF,EAAkC,IAAIM,EAA2C,CAAEC,WAAW,CAACtB,aAAaA,EAA8B,GAAGuB,MAAM,CAACN,MAAM,CAACO,KAAKC,OAAOC,QAAQ,KAAKC,KAAK,WAAgB,MAAM,CAACC,eAAc,IAAQC,SAAx3B,SAAuBC,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAC,IAAIG,EAAqB,MAAdF,UAAUD,GAASC,UAAUD,GAAG,GAAMA,EAAE,EAAG7B,EAAQI,OAAO4B,IAAQ,GAAMC,SAAQ,SAASnB,GAAKF,EAAgBgB,EAAOd,EAAIkB,EAAOlB,OAAkBV,OAAO8B,0BAA2B9B,OAAO+B,iBAAiBP,EAAOxB,OAAO8B,0BAA0BF,IAAehC,EAAQI,OAAO4B,IAASC,SAAQ,SAASnB,GAAKV,OAAOY,eAAeY,EAAOd,EAAIV,OAAOK,yBAAyBuB,EAAOlB,OAAW,OAAOc,EAAwaQ,CAAc,GAAGhC,OAAOL,EAAiB,WAAxBK,CAA2B,CAACiC,aAAa,sBAAsBC,QAAQ,WAAmB,IAAIC,EAAMC,KAAKjD,OAAOkD,UAAU,SAASC,GAAG,GAAmB,kBAATA,EAAEjB,MAAkBiB,EAAEjB,KAAKkB,WAAW,+BAAhD,CAAwF,IAAIC,EAAYF,EAAEjB,KAAKoB,QAAQ,8BAA8B,IAAIN,EAAMO,MAAM,QAAQF,MAAiBG,QAAQ,CAACC,aAAa,WAAwB,IAAIC,EAAaC,SAASC,eAAe,sBAA0BC,EAAU,CAACC,MAAM,gBAAgB5B,KAAKe,KAAKzB,OAAO,IAAIkC,EAAaK,cAAcC,YAAYC,KAAKC,UAAUL,GAAW,KAAKZ,KAAKd,eAAc,KAE/uDgC,EAAsD,EAKpFC,GAHgFhE,EAAoB,MAG9EA,EAAoB,IAwB9C,SAASiE,EAA6C3D,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAKX,KAAKmB,MAAMR,EAAKG,GAAU,OAAOH,EAAynB,SAAS0D,EAAoDhD,EAAIC,EAAIC,GAAyI,OAA/HD,KAAOD,EAAKT,OAAOY,eAAeH,EAAIC,EAAI,CAACC,MAAMA,EAAML,YAAW,EAAKO,cAAa,EAAKC,UAAS,IAAaL,EAAIC,GAAKC,EAAcF,EAAkC,IAAIiD,EAAwC,CAAE1C,WAAW,CAAC2C,iBAbpvC3D,OAAOuD,EAAqC,EAA5CvD,CACdsD,GA1CqE,WAAkB,IAAIM,EAAIxB,KAAKyB,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAAEH,EAAiB,cAAEC,EAAG,gBAAgB,CAACE,YAAY,kCAAkCC,MAAM,CAACC,QAAUL,EAAIM,GAAG,gCAAgCN,EAAIO,KAAKP,EAAIQ,GAAG,KAAKP,EAAG,SAAS,CAACG,MAAM,CAACK,GAAK,qBAAqBC,IAAMV,EAAI3B,aAAasC,gBAAgBC,GAAG,CAACC,KAAOb,EAAIhB,iBAAiB,KAEtX,IA2C9E,EACA,KACA,WACA,MAIoE,SAEiuC3B,MAAM,CAACyD,SAAS,CAACxD,KAAKlB,OAAOoB,QAAQ,eAAwBuD,YAAY,CAACC,IAAI,CAACC,KAAK,CAACC,SAASrF,EAAqB,UAAG+C,YAAY,CAACsC,SAASrF,EAAqB,YAAK4B,KAAK,WAAgB,MAAM,CAACuD,IAAI,CAACC,KAAKzC,KAAKsC,SAASG,MAAM,GAAGE,YAAY3C,KAAKsC,SAASK,aAAa,GAAGvC,YAAYJ,KAAKsC,SAASM,WAAWC,cAAc,MAAOtC,QAAQ,CAACuC,SAAS,WAAoB9C,KAAK+C,GAAGC,SAAYhD,KAAK+C,GAAGE,UAAkBjD,KAAKM,MAAM,SAA72C,SAA2DlB,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAC,IAAIG,EAAqB,MAAdF,UAAUD,GAASC,UAAUD,GAAG,GAAMA,EAAE,EAAG+B,EAA6CxD,OAAO4B,IAAQ,GAAMC,SAAQ,SAASnB,GAAK+C,EAAoDjC,EAAOd,EAAIkB,EAAOlB,OAAkBV,OAAO8B,0BAA2B9B,OAAO+B,iBAAiBP,EAAOxB,OAAO8B,0BAA0BF,IAAe4B,EAA6CxD,OAAO4B,IAASC,SAAQ,SAASnB,GAAKV,OAAOY,eAAeY,EAAOd,EAAIV,OAAOK,yBAAyBuB,EAAOlB,OAAW,OAAOc,EAA2wB8D,CAAkD,CAACjB,GAAGjC,KAAKsC,SAASL,IAAI,IAAIjC,KAAKwC,SAErwDW,EAAmD,EASjFC,EAA0BxF,OAAOuD,EAAqC,EAA5CvD,CAC5BuF,GArGW,WAAkB,IAAI3B,EAAIxB,KAAKyB,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,qBAAqB,CAACE,YAAY,gBAAgB0B,MAAM,CAAC9E,MAAOiD,EAAIgB,IAAe,YAAEc,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAIgB,IAAK,cAAee,IAAME,WAAW,qBAAqBjC,EAAIQ,GAAG,KAAMR,EAAIuB,GAAGP,IAAIpC,YAAkB,OAAEqB,EAAG,MAAM,CAACE,YAAY,+IAA+I,CAACF,EAAG,OAAO,CAACD,EAAIQ,GAAGR,EAAIkC,GAAGlC,EAAIM,GAAG,qDAAqDN,EAAIO,MAAM,KAAKP,EAAIQ,GAAG,KAAKP,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,OAAO,CAACE,YAAY,uCAAuCS,GAAG,CAACuB,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBrC,EAAIsB,SAAS3E,MAAM,KAAMmB,cAAc,CAACmC,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACqC,MAAM,CAAEC,MAAOvC,EAAIuB,GAAGP,IAAIC,KAAKuB,SAAU,CAACxC,EAAIQ,GAAG,iBAAiBR,EAAIkC,GAAGlC,EAAIM,GAAG,0CAA0C,kBAAkBL,EAAG,QAAQ,CAACwC,WAAW,CAAC,CAACxB,KAAK,QAAQyB,QAAQ,UAAU3F,MAAOiD,EAAIgB,IAAQ,KAAEiB,WAAW,aAAa7B,MAAM,CAAC9C,KAAO,OAAOqF,YAAc3C,EAAIM,GAAG,gDAAgDsC,SAAS,CAAC7F,MAASiD,EAAIgB,IAAQ,MAAGJ,GAAG,CAACiC,MAAQ,SAAST,GAAWA,EAAOxE,OAAOkF,WAAiB9C,EAAIgC,KAAKhC,EAAIgB,IAAK,OAAQoB,EAAOxE,OAAOb,WAAWiD,EAAIQ,GAAG,KAAMR,EAAIuB,GAAGP,IAAIC,KAAW,OAAEhB,EAAG,OAAO,CAACE,YAAY,WAAW,CAACH,EAAIQ,GAAG,mBAAmBR,EAAIkC,GAAGlC,EAAIM,GAAG,0CAA0C,oBAAoBN,EAAIO,OAAOP,EAAIQ,GAAG,KAAKP,EAAG,QAAQ,CAACD,EAAIQ,GAAG,iBAAiBR,EAAIkC,GAAGlC,EAAIM,GAAG,iDAAiD,kBAAkBL,EAAG,WAAW,CAACwC,WAAW,CAAC,CAACxB,KAAK,QAAQyB,QAAQ,UAAU3F,MAAOiD,EAAIgB,IAAe,YAAEiB,WAAW,oBAAoB7B,MAAM,CAAC2C,KAAO,IAAIJ,YAAc3C,EAAIM,GAAG,uDAAuDsC,SAAS,CAAC7F,MAASiD,EAAIgB,IAAe,aAAGJ,GAAG,CAACiC,MAAQ,SAAST,GAAWA,EAAOxE,OAAOkF,WAAiB9C,EAAIgC,KAAKhC,EAAIgB,IAAK,cAAeoB,EAAOxE,OAAOb,aAAaiD,EAAIQ,GAAG,KAAKP,EAAG,cAAc,CAACD,EAAIQ,GAAG,iBAAiBR,EAAIkC,GAAGlC,EAAIM,GAAG,sCAAsC,mBAAmB,aAEtvE,IAsGpB,EACA,KACA,KACA,MAI+C1E,EAAuB,EAAKgG,EAA+B,SAItG,KACA,SAAUnG,EAAQG,EAAqBD,GAE7C,aAEAA,EAAoBqH,EAAEpH,GAWRD,EAAoB,IAGXA,EAAoB,IAG3BA,EAAoB,GAGRA,EAAoB,IAG3BA,EAAoB,IAGjBA,EAAoB,IAGtBA,EAAoB,IAGrBA,EAAoB,IAGnBA,EAAoB,IAGEA,EAAoB,IAG7BA,EAAoB,IAGVA,EAAoB,IAGvCA,EAAoB,IAG7BA,EAAoB,IA/CrC,IAkDIsH,EAAatH,EAAoB,IAGjCuH,EAAgBvH,EAAoB,MAGpCwH,EAAYxH,EAAoB,IAGhCI,EAAOJ,EAAoB,IAG/B,SAASyH,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO3G,EAAI4G,GAAK,IAAI,IAAIC,EAAKN,EAAIvG,GAAK4G,GAAS3G,EAAM4G,EAAK5G,MAAO,MAAMwF,GAAqB,YAAdgB,EAAOhB,GAAkBoB,EAAKC,KAAMN,EAAQvG,GAAa8G,QAAQP,QAAQvG,GAAO+G,KAAKN,EAAMC,GAAqW,SAASzH,EAAQC,EAAOC,GAAgB,IAAIC,EAAKC,OAAOD,KAAKF,GAAQ,GAAGG,OAAOC,sBAAsB,CAAC,IAAIC,EAAQF,OAAOC,sBAAsBJ,GAAWC,IAAeI,EAAQA,EAAQC,QAAO,SAASC,GAAK,OAAOJ,OAAOK,yBAAyBR,EAAOO,GAAKE,eAAcP,EAAKX,KAAKmB,MAAMR,EAAKG,GAAU,OAAOH,EAAue,SAASS,EAAgBC,EAAIC,EAAIC,GAAyI,OAA/HD,KAAOD,EAAKT,OAAOY,eAAeH,EAAIC,EAAI,CAACC,MAAMA,EAAML,YAAW,EAAKO,cAAa,EAAKC,UAAS,IAAaL,EAAIC,GAAKC,EAAcF,EAAkC,IAAIkH,EAA8B,CAAE3G,WAAW,CAAC4G,cAAcd,EAA+B,GAAGe,OAAO,CAAChB,EAA4B,GAAGtF,SAA3zB,SAAuBC,GAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAC,IAAIG,EAAqB,MAAdF,UAAUD,GAASC,UAAUD,GAAG,GAAMA,EAAE,EAAG7B,EAAQI,OAAO4B,IAAQ,GAAMC,SAAQ,SAASnB,GAAKF,EAAgBgB,EAAOd,EAAIkB,EAAOlB,OAAkBV,OAAO8B,0BAA2B9B,OAAO+B,iBAAiBP,EAAOxB,OAAO8B,0BAA0BF,IAAehC,EAAQI,OAAO4B,IAASC,SAAQ,SAASnB,GAAKV,OAAOY,eAAeY,EAAOd,EAAIV,OAAOK,yBAAyBuB,EAAOlB,OAAW,OAAOc,EAA2WQ,CAAc,GAAGhC,OAAOL,EAAiB,WAAxBK,CAA2B,CAAC8H,UAAU,yBAAyBnF,QAAQ,CAACoF,QAAQ,SAAiBnD,GAAK,IAAtjDoD,EAA0jD7F,EAAMC,KAAK,OAArkD4F,EAA2mDC,mBAAmBC,MAAK,SAASC,IAAU,IAAIzD,EAAS,OAAOuD,mBAAmBG,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAkC,OAAhCF,EAASC,KAAK,EAAED,EAASE,KAAK,EAASpG,EAAMqG,OAAOC,SAAS,mBAAmB,CAAC5D,KAAKD,EAAIC,KAAKE,YAAYH,EAAIG,YAAY2D,SAAS,OAAO1D,WAAW,CAACC,aAAaL,EAAIpC,eAAe,KAAK,GAAEkC,EAAS2D,EAASM,OAAkBxG,EAAMyG,QAAQnG,QAAQzC,OAAO+G,EAA+B,EAAtC/G,CAAyC,YAAY6I,OAAO1G,EAAM2F,UAAU,8BAA8Be,OAAOnE,EAASL,MAAOlC,EAAM2G,UAAU3G,EAAM+B,GAAG,uCAAuCmE,EAASE,KAAK,GAAG,MAAM,KAAK,EAAEF,EAASC,KAAK,EAAED,EAASU,GAAGV,EAAgB,MAAE,GAAGlG,EAAM2G,UAAU3G,EAAM+B,GAAG,qCAAqC,KAAK,GAAG,IAAI,MAAM,OAAOmE,EAASW,UAAWb,EAAQ,KAAK,CAAC,CAAC,EAAE,QAA34E,WAAW,IAAIc,EAAK7G,KAAK8G,EAAKxH,UAAU,OAAO,IAAI+F,SAAQ,SAASP,EAAQC,GAAQ,IAAIF,EAAIe,EAAGzH,MAAM0I,EAAKC,GAAM,SAAS9B,EAAMzG,GAAOqG,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,OAAO1G,GAAQ,SAAS0G,EAAO8B,GAAKnC,EAAmBC,EAAIC,EAAQC,EAAOC,EAAMC,EAAO,QAAQ8B,GAAM/B,OAAMgC,aAEhhBC,EAAmC,EAEjE9F,EAAsBhE,EAAoB,GAU1C+J,EAAYtJ,OAAOuD,EAAqC,EAA5CvD,CACdqJ,GA7EW,WAA+C,OAAOxF,EAA5BzB,KAAY0B,MAAMD,IAAa,kBAAkB,CAACG,MAAM,CAAC,YAAY,CAAEgB,WAAY,KAAMR,GAAG,CAACuB,OAA7F3D,KAA0G2F,aAE3H,IA8EpB,EACA,KACA,KACA,MAIqCvI,EAA6B,QAAK8J,EAAiB"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[81],{\n\n/***/ 2740:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 2842:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_CSMLMonacoEditor_vue_vue_type_style_index_0_id_d9e9be14_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2740);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_CSMLMonacoEditor_vue_vue_type_style_index_0_id_d9e9be14_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_CSMLMonacoEditor_vue_vue_type_style_index_0_id_d9e9be14_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ 2960:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue?vue&type=template&id=43db4521&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('div',{staticClass:\"flex flex-row\"},[_c('div',{staticClass:\"w-[68%]\"},[_c('div',{staticClass:\"h-[calc(100vh-56px)] relative\"},[_c('csml-monaco-editor',{staticClass:\"w-full h-full\",model:{value:(_vm.bot.csmlContent),callback:function ($$v) {_vm.$set(_vm.bot, \"csmlContent\", $$v)},expression:\"bot.csmlContent\"}}),_vm._v(\" \"),(_vm.$v.bot.csmlContent.$error)?_c('div',{staticClass:\"bg-red-100 dark:bg-red-200 text-white dark:text-white absolute bottom-0 w-full p-2.5 flex items-center text-xs justify-center flex-shrink-0\"},[_c('span',[_vm._v(_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.BOT_CONFIG.ERROR')))])]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"w-[32%] overflow-auto p-4 h-[calc(100vh-56px)]\"},[_c('form',{staticClass:\"flex flex-col justify-between h-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',[_c('label',{class:{ error: _vm.$v.bot.name.$error }},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.LABEL'))+\"\\n            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bot.name),expression:\"bot.name\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.bot.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.bot, \"name\", $event.target.value)}}}),_vm._v(\" \"),(_vm.$v.bot.name.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.ERROR'))+\"\\n            \")]):_vm._e()]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.LABEL'))+\"\\n            \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bot.description),expression:\"bot.description\"}],attrs:{\"rows\":\"4\",\"placeholder\":_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.PLACEHOLDER')},domProps:{\"value\":(_vm.bot.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.bot, \"description\", $event.target.value)}}})]),_vm._v(\" \"),_c('woot-button',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.SUBMIT'))+\"\\n          \")])],1)])])])])\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue?vue&type=template&id=43db4521&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/vuelidate/lib/validators/index.js\nvar validators = __webpack_require__(66);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=template&id=d9e9be14&scoped=true&\nvar CSMLMonacoEditorvue_type_template_id_d9e9be14_scoped_true_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"csml-editor--container\"},[(_vm.iframeLoading)?_c('loading-state',{staticClass:\"dashboard-app_loading-container\",attrs:{\"message\":_vm.$t('AGENT_BOTS.LOADING_EDITOR')}}):_vm._e(),_vm._v(\" \"),_c('iframe',{attrs:{\"id\":\"csml-editor--frame\",\"src\":_vm.globalConfig.csmlEditorHost},on:{\"load\":_vm.onEditorLoad}})],1)\n}\nvar CSMLMonacoEditorvue_type_template_id_d9e9be14_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=template&id=d9e9be14&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.starts-with.js\nvar es_string_starts_with = __webpack_require__(323);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/LoadingState.vue + 4 modules\nvar LoadingState = __webpack_require__(360);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=script&lang=js&\nfunction ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var CSMLMonacoEditorvue_type_script_lang_js_ = ({components:{LoadingState:LoadingState[\"a\" /* default */]},props:{value:{type:String,default:''}},data:function data(){return{iframeLoading:true};},computed:_objectSpread({},Object(vuex[\"mapGetters\"])({globalConfig:'globalConfig/get'})),mounted:function mounted(){var _this=this;window.onmessage=function(e){if(typeof e.data!=='string'||!e.data.startsWith('chatwoot-csml-editor:update')){return;}var csmlContent=e.data.replace('chatwoot-csml-editor:update','');_this.$emit('input',csmlContent);};},methods:{onEditorLoad:function onEditorLoad(){var frameElement=document.getElementById(\"csml-editor--frame\");var eventData={event:'editorContext',data:this.value||''};frameElement.contentWindow.postMessage(JSON.stringify(eventData),'*');this.iframeLoading=false;}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_CSMLMonacoEditorvue_type_script_lang_js_ = (CSMLMonacoEditorvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=style&index=0&id=d9e9be14&prod&scoped=true&lang=css&\nvar CSMLMonacoEditorvue_type_style_index_0_id_d9e9be14_prod_scoped_true_lang_css_ = __webpack_require__(2842);\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_CSMLMonacoEditorvue_type_script_lang_js_,\n  CSMLMonacoEditorvue_type_template_id_d9e9be14_scoped_true_render,\n  CSMLMonacoEditorvue_type_template_id_d9e9be14_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"d9e9be14\",\n  null\n  \n)\n\n/* harmony default export */ var CSMLMonacoEditor = (component.exports);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue?vue&type=script&lang=js&\nfunction CSMLBotEditorvue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function CSMLBotEditorvue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){CSMLBotEditorvue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){CSMLBotEditorvue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{CSMLBotEditorvue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function CSMLBotEditorvue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var CSMLBotEditorvue_type_script_lang_js_ = ({components:{CsmlMonacoEditor:CSMLMonacoEditor},props:{agentBot:{type:Object,default:function _default(){}}},validations:{bot:{name:{required:validators[\"required\"]},csmlContent:{required:validators[\"required\"]}}},data:function data(){return{bot:{name:this.agentBot.name||'',description:this.agentBot.description||'',csmlContent:this.agentBot.bot_config.csml_content||''}};},methods:{onSubmit:function onSubmit(){this.$v.$touch();if(this.$v.$invalid){return;}this.$emit('submit',CSMLBotEditorvue_type_script_lang_js_objectSpread({id:this.agentBot.id||''},this.bot));}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_CSMLBotEditorvue_type_script_lang_js_ = (CSMLBotEditorvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSMLBotEditor_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_CSMLBotEditorvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSMLBotEditor = __webpack_exports__[\"a\"] = (CSMLBotEditor_component.exports);\n\n/***/ }),\n\n/***/ 3397:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue?vue&type=template&id=04b4c5f9&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('csml-bot-editor',{attrs:{\"agent-bot\":{ bot_config: {} }},on:{\"submit\":_vm.saveBot}})\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue?vue&type=template&id=04b4c5f9&\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue + 9 modules\nvar CSMLBotEditor = __webpack_require__(2960);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/URLHelper.js\nvar URLHelper = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var Newvue_type_script_lang_js_ = ({components:{CsmlBotEditor:CSMLBotEditor[\"a\" /* default */]},mixins:[alertMixin[\"a\" /* default */]],computed:_objectSpread({},Object(vuex[\"mapGetters\"])({accountId:'getCurrentAccountId'})),methods:{saveBot:function saveBot(bot){var _this=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var agentBot;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.$store.dispatch('agentBots/create',{name:bot.name,description:bot.description,bot_type:'csml',bot_config:{csml_content:bot.csmlContent}});case 3:agentBot=_context.sent;if(agentBot){_this.$router.replace(Object(URLHelper[\"c\" /* frontendURL */])(\"accounts/\".concat(_this.accountId,\"/settings/agent-bots/csml/\").concat(agentBot.id)));}_this.showAlert(_this.$t('AGENT_BOTS.ADD.API.SUCCESS_MESSAGE'));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_this.showAlert(_this.$t('AGENT_BOTS.ADD.API.ERROR_MESSAGE'));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue?vue&type=script&lang=js&\n /* harmony default export */ var csml_Newvue_type_script_lang_js_ = (Newvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  csml_Newvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var New = __webpack_exports__[\"default\"] = (component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--2-1!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--2-2!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=style&index=0&id=d9e9be14&prod&scoped=true&lang=css&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--2-1!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--2-2!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=style&index=0&id=d9e9be14&prod&scoped=true&lang=css&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue?vue&type=template&id=43db4521&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=template&id=d9e9be14&scoped=true&","app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLMonacoEditor.vue","app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/CSMLBotEditor.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue?vue&type=template&id=04b4c5f9&","app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/csml/New.vue"],"names":[],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export * from \"-!../../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--2-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--2-2!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CSMLMonacoEditor.vue?vue&type=style&index=0&id=d9e9be14&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"h-auto overflow-auto flex flex-col\"},[_c('div',{staticClass:\"flex flex-row\"},[_c('div',{staticClass:\"w-[68%]\"},[_c('div',{staticClass:\"h-[calc(100vh-56px)] relative\"},[_c('csml-monaco-editor',{staticClass:\"w-full h-full\",model:{value:(_vm.bot.csmlContent),callback:function ($$v) {_vm.$set(_vm.bot, \"csmlContent\", $$v)},expression:\"bot.csmlContent\"}}),_vm._v(\" \"),(_vm.$v.bot.csmlContent.$error)?_c('div',{staticClass:\"bg-red-100 dark:bg-red-200 text-white dark:text-white absolute bottom-0 w-full p-2.5 flex items-center text-xs justify-center flex-shrink-0\"},[_c('span',[_vm._v(_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.BOT_CONFIG.ERROR')))])]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"w-[32%] overflow-auto p-4 h-[calc(100vh-56px)]\"},[_c('form',{staticClass:\"flex flex-col justify-between h-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',[_c('label',{class:{ error: _vm.$v.bot.name.$error }},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.LABEL'))+\"\\n            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bot.name),expression:\"bot.name\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.bot.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.bot, \"name\", $event.target.value)}}}),_vm._v(\" \"),(_vm.$v.bot.name.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.ERROR'))+\"\\n            \")]):_vm._e()]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.LABEL'))+\"\\n            \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bot.description),expression:\"bot.description\"}],attrs:{\"rows\":\"4\",\"placeholder\":_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.PLACEHOLDER')},domProps:{\"value\":(_vm.bot.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.bot, \"description\", $event.target.value)}}})]),_vm._v(\" \"),_c('woot-button',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_BOTS.CSML_BOT_EDITOR.SUBMIT'))+\"\\n          \")])],1)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"csml-editor--container\"},[(_vm.iframeLoading)?_c('loading-state',{staticClass:\"dashboard-app_loading-container\",attrs:{\"message\":_vm.$t('AGENT_BOTS.LOADING_EDITOR')}}):_vm._e(),_vm._v(\" \"),_c('iframe',{attrs:{\"id\":\"csml-editor--frame\",\"src\":_vm.globalConfig.csmlEditorHost},on:{\"load\":_vm.onEditorLoad}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"csml-editor--container\">\n    <loading-state\n      v-if=\"iframeLoading\"\n      :message=\"$t('AGENT_BOTS.LOADING_EDITOR')\"\n      class=\"dashboard-app_loading-container\"\n    />\n    <iframe\n      id=\"csml-editor--frame\"\n      :src=\"globalConfig.csmlEditorHost\"\n      @load=\"onEditorLoad\"\n    />\n  </div>\n</template>\n<script>\nimport LoadingState from 'dashboard/components/widgets/LoadingState.vue';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: { LoadingState },\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      iframeLoading: true,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      globalConfig: 'globalConfig/get',\n    }),\n  },\n  mounted() {\n    window.onmessage = e => {\n      if (\n        typeof e.data !== 'string' ||\n        !e.data.startsWith('chatwoot-csml-editor:update')\n      ) {\n        return;\n      }\n      const csmlContent = e.data.replace('chatwoot-csml-editor:update', '');\n      this.$emit('input', csmlContent);\n    };\n  },\n  methods: {\n    onEditorLoad() {\n      const frameElement = document.getElementById(`csml-editor--frame`);\n      const eventData = {\n        event: 'editorContext',\n        data: this.value || '',\n      };\n      frameElement.contentWindow.postMessage(JSON.stringify(eventData), '*');\n      this.iframeLoading = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#csml-editor--frame {\n  border: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CSMLMonacoEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CSMLMonacoEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CSMLMonacoEditor.vue?vue&type=template&id=d9e9be14&scoped=true&\"\nimport script from \"./CSMLMonacoEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CSMLMonacoEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CSMLMonacoEditor.vue?vue&type=style&index=0&id=d9e9be14&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9e9be14\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"h-auto overflow-auto flex flex-col\">\n    <div class=\"flex flex-row\">\n      <div class=\"w-[68%]\">\n        <div class=\"h-[calc(100vh-56px)] relative\">\n          <csml-monaco-editor v-model=\"bot.csmlContent\" class=\"w-full h-full\" />\n          <div\n            v-if=\"$v.bot.csmlContent.$error\"\n            class=\"bg-red-100 dark:bg-red-200 text-white dark:text-white absolute bottom-0 w-full p-2.5 flex items-center text-xs justify-center flex-shrink-0\"\n          >\n            <span>{{ $t('AGENT_BOTS.CSML_BOT_EDITOR.BOT_CONFIG.ERROR') }}</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"w-[32%] overflow-auto p-4 h-[calc(100vh-56px)]\">\n        <form\n          class=\"flex flex-col justify-between h-full\"\n          @submit.prevent=\"onSubmit\"\n        >\n          <div>\n            <label :class=\"{ error: $v.bot.name.$error }\">\n              {{ $t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.LABEL') }}\n              <input\n                v-model=\"bot.name\"\n                type=\"text\"\n                :placeholder=\"$t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.PLACEHOLDER')\"\n              />\n              <span v-if=\"$v.bot.name.$error\" class=\"message\">\n                {{ $t('AGENT_BOTS.CSML_BOT_EDITOR.NAME.ERROR') }}\n              </span>\n            </label>\n            <label>\n              {{ $t('AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.LABEL') }}\n              <textarea\n                v-model=\"bot.description\"\n                rows=\"4\"\n                :placeholder=\"\n                  $t('AGENT_BOTS.CSML_BOT_EDITOR.DESCRIPTION.PLACEHOLDER')\n                \"\n              />\n            </label>\n            <woot-button>\n              {{ $t('AGENT_BOTS.CSML_BOT_EDITOR.SUBMIT') }}\n            </woot-button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required } from 'vuelidate/lib/validators';\nimport CsmlMonacoEditor from './CSMLMonacoEditor.vue';\n\nexport default {\n  components: { CsmlMonacoEditor },\n  props: {\n    agentBot: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  validations: {\n    bot: {\n      name: { required },\n      csmlContent: { required },\n    },\n  },\n  data() {\n    return {\n      bot: {\n        name: this.agentBot.name || '',\n        description: this.agentBot.description || '',\n        csmlContent: this.agentBot.bot_config.csml_content || '',\n      },\n    };\n  },\n  methods: {\n    onSubmit() {\n      this.$v.$touch();\n      if (this.$v.$invalid) {\n        return;\n      }\n      this.$emit('submit', {\n        id: this.agentBot.id || '',\n        ...this.bot,\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CSMLBotEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CSMLBotEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CSMLBotEditor.vue?vue&type=template&id=43db4521&\"\nimport script from \"./CSMLBotEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CSMLBotEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('csml-bot-editor',{attrs:{\"agent-bot\":{ bot_config: {} }},on:{\"submit\":_vm.saveBot}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <csml-bot-editor :agent-bot=\"{ bot_config: {} }\" @submit=\"saveBot\" />\n</template>\n\n<script>\nimport alertMixin from 'shared/mixins/alertMixin';\nimport CsmlBotEditor from '../components/CSMLBotEditor.vue';\nimport { frontendURL } from '../../../../../helper/URLHelper';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: { CsmlBotEditor },\n  mixins: [alertMixin],\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n    }),\n  },\n  methods: {\n    async saveBot(bot) {\n      try {\n        const agentBot = await this.$store.dispatch('agentBots/create', {\n          name: bot.name,\n          description: bot.description,\n          bot_type: 'csml',\n          bot_config: { csml_content: bot.csmlContent },\n        });\n        if (agentBot) {\n          this.$router.replace(\n            frontendURL(\n              `accounts/${this.accountId}/settings/agent-bots/csml/${agentBot.id}`\n            )\n          );\n        }\n        this.showAlert(this.$t('AGENT_BOTS.ADD.API.SUCCESS_MESSAGE'));\n      } catch (error) {\n        this.showAlert(this.$t('AGENT_BOTS.ADD.API.ERROR_MESSAGE'));\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./New.vue?vue&type=template&id=04b4c5f9&\"\nimport script from \"./New.vue?vue&type=script&lang=js&\"\nexport * from \"./New.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}