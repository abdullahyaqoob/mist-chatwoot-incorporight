{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{2680:function(t,e,n){},2735:function(t,e,n){\"use strict\";n(22),n(10),n(25),n(13),n(9),n(11),n(15),n(12),n(16);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r={props:{value:{type:Object,default:function(){return null}},filterAttributes:{type:Array,default:function(){return[]}},inputType:{type:String,default:\"plain_text\"},dataType:{type:String,default:\"plain_text\"},operators:{type:Array,default:function(){return[]}},dropdownValues:{type:Array,default:function(){return[]}},showQueryOperator:{type:Boolean,default:!1},v:{type:Object,default:function(){return null}},showUserInput:{type:Boolean,default:!0},groupedFilters:{type:Boolean,default:!1},filterGroups:{type:Array,default:function(){return[]}},customAttributeType:{type:String,default:\"\"}},computed:{attributeKey:{get:function(){return this.value?this.value.attribute_key:null},set:function(t){var e=this.value||{};this.$emit(\"input\",o(o({},e),{},{attribute_key:t}))}},filterOperator:{get:function(){return this.value?this.value.filter_operator:null},set:function(t){var e=this.value||{};this.$emit(\"input\",o(o({},e),{},{filter_operator:t}))}},values:{get:function(){return this.value?this.value.values:null},set:function(t){var e=this.value||{};this.$emit(\"input\",o(o({},e),{},{values:t}))}},query_operator:{get:function(){return this.value?this.value.query_operator:null},set:function(t){var e=this.value||{};this.$emit(\"input\",o(o({},e),{},{query_operator:t}))}},custom_attribute_type:{get:function(){return this.customAttributeType?this.customAttributeType:\"\"},set:function(){var t=this.value||{};this.$emit(\"input\",o(o({},t),{},{custom_attribute_type:this.customAttributeType}))}}},watch:{customAttributeType:{handler:function(t){this.value.custom_attribute_type=\"conversation_attribute\"===t||\"contact_attribute\"===t?this.customAttributeType:\"\"},immediate:!0}},methods:{removeFilter:function(){this.$emit(\"removeFilter\")},resetFilter:function(){this.$emit(\"resetFilter\")},getInputErrorClass:function(t,e){return t&&e?\"bg-red-50 dark:bg-red-800/50 border-red-100 dark:border-red-700/50\":\"bg-slate-50 dark:bg-slate-800 border-slate-75 dark:border-slate-700/50\"}}},s=(n(2741),n(8)),u=Object(s.a)(r,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"div\",{staticClass:\"rounded-md p-2 border border-solid\",class:t.getInputErrorClass(t.v.values.$dirty,t.v.values.$error)},[e(\"div\",{staticClass:\"flex\"},[t.groupedFilters?e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.attributeKey,expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.attributeKey=e.target.multiple?n:n[0]},function(e){return t.resetFilter()}]}},t._l(t.filterGroups,(function(n,a){return e(\"optgroup\",{key:a,attrs:{label:n.name}},t._l(n.attributes,(function(n){return e(\"option\",{key:n.key,domProps:{value:n.key}},[t._v(\"\\n            \"+t._s(n.name)+\"\\n          \")])})),0)})),0):e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.attributeKey,expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.attributeKey=e.target.multiple?n:n[0]},function(e){return t.resetFilter()}]}},t._l(t.filterAttributes,(function(n){return e(\"option\",{key:n.key,attrs:{disabled:n.disabled},domProps:{value:n.key}},[t._v(\"\\n          \"+t._s(n.name)+\"\\n        \")])})),0),t._v(\" \"),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.filterOperator,expression:\"filterOperator\"}],staticClass:\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.filterOperator=e.target.multiple?n:n[0]}}},t._l(t.operators,(function(n,a){return e(\"option\",{key:a,domProps:{value:n.value}},[t._v(\"\\n          \"+t._s(t.$t(`FILTER.OPERATOR_LABELS.${n.value}`))+\"\\n        \")])})),0),t._v(\" \"),t.showUserInput?e(\"div\",{staticClass:\"filter__answer--wrap mr-1 flex-grow\"},[\"multi_select\"===t.inputType?e(\"div\",{staticClass:\"multiselect-wrap--small\"},[e(\"multiselect\",{attrs:{\"track-by\":\"id\",label:\"name\",placeholder:\"Select\",multiple:!0,\"selected-label\":\"\",\"select-label\":t.$t(\"FORMS.MULTISELECT.ENTER_TO_SELECT\"),\"deselect-label\":\"\",\"max-height\":160,options:t.dropdownValues,\"allow-empty\":!1},model:{value:t.values,callback:function(e){t.values=e},expression:\"values\"}})],1):\"search_select\"===t.inputType?e(\"div\",{staticClass:\"multiselect-wrap--small\"},[e(\"multiselect\",{attrs:{\"track-by\":\"id\",label:\"name\",placeholder:\"Select\",\"selected-label\":\"\",\"select-label\":t.$t(\"FORMS.MULTISELECT.ENTER_TO_SELECT\"),\"deselect-label\":\"\",\"max-height\":160,options:t.dropdownValues,\"allow-empty\":!1,\"option-height\":104},model:{value:t.values,callback:function(e){t.values=e},expression:\"values\"}})],1):\"date\"===t.inputType?e(\"div\",{staticClass:\"multiselect-wrap--small\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.values,expression:\"values\"}],staticClass:\"mb-0 datepicker\",attrs:{type:\"date\",editable:!1},domProps:{value:t.values},on:{input:function(e){e.target.composing||(t.values=e.target.value)}}})]):e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.values,expression:\"values\"}],staticClass:\"mb-0\",attrs:{type:\"text\",placeholder:\"Enter value\"},domProps:{value:t.values},on:{input:function(e){e.target.composing||(t.values=e.target.value)}}})]):t._e(),t._v(\" \"),e(\"woot-button\",{attrs:{icon:\"dismiss\",variant:\"clear\",\"color-scheme\":\"secondary\"},on:{click:t.removeFilter}})],1),t._v(\" \"),t.v.values.$dirty&&t.v.values.$error?e(\"p\",{staticClass:\"filter-error\"},[t._v(\"\\n      \"+t._s(t.$t(\"FILTER.EMPTY_VALUE_ERROR\"))+\"\\n    \")]):t._e()]),t._v(\" \"),t.showQueryOperator?e(\"div\",{staticClass:\"flex items-center justify-center relative my-2.5 mx-0\"},[e(\"hr\",{staticClass:\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"}),t._v(\" \"),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.query_operator,expression:\"query_operator\"}],staticClass:\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.query_operator=e.target.multiple?n:n[0]}}},[e(\"option\",{attrs:{value:\"and\"}},[t._v(\"\\n        \"+t._s(t.$t(\"FILTER.QUERY_DROPDOWN_LABELS.AND\"))+\"\\n      \")]),t._v(\" \"),e(\"option\",{attrs:{value:\"or\"}},[t._v(\"\\n        \"+t._s(t.$t(\"FILTER.QUERY_DROPDOWN_LABELS.OR\"))+\"\\n      \")])])]):t._e()])}),[],!1,null,\"de5a525e\",null);e.a=u.exports},2741:function(t,e,n){\"use strict\";n(2680)},2991:function(t,e,n){},2992:function(t,e,n){},3127:function(t,e,n){\"use strict\";n(2991)},3128:function(t,e,n){\"use strict\";n(2992)},3352:function(t,e,n){\"use strict\";n.r(e);n(36),n(51),n(43),n(13),n(9),n(11),n(15),n(12),n(16),n(10),n(28);var a=n(32),o=(n(22),n(25),n(79)),i=(n(88),n(158),n(357),n(322),n(75),n(102),n(37),n(39),n(23),n(72),n(69),n(1928)),r=n(1923),s=n(2985);function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={computed:p(p({},Object(a.mapGetters)({agents:\"agents/getAgents\",campaigns:\"campaigns/getAllCampaigns\",contacts:\"contacts/getContacts\",inboxes:\"inboxes/getInboxes\",labels:\"labels/getLabels\",teams:\"teams/getTeams\",slaPolicies:\"sla/getSLA\"})),{},{booleanFilterOptions:function(){return[{id:!0,name:this.$t(\"FILTER.ATTRIBUTE_LABELS.TRUE\")},{id:!1,name:this.$t(\"FILTER.ATTRIBUTE_LABELS.FALSE\")}]},statusFilterOptions:function(){var t=this.$t(\"CHAT_LIST.CHAT_STATUS_FILTER_ITEMS\");return[].concat(u(Object.keys(t).map((function(e){return{id:e,name:t[e].TEXT}}))),[{id:\"all\",name:this.$t(\"CHAT_LIST.FILTER_ALL\")}])}}),methods:{getFileName:s.k,onEventChange:function(){this.automation.conditions=Object(s.j)(this.automation.event_name),this.automation.actions=Object(s.i)()},getAttributes:function(t){return this.automationTypes[t].conditions},getInputType:function(t){var e=Object(s.n)(this.allCustomAttributes,t);return e?Object(s.h)(e.attribute_display_type):this.getAutomationType(t).inputType},getOperators:function(t){if(\"edit\"===this.mode){var e=Object(s.n)(this.allCustomAttributes,t);if(e)return Object(s.l)(e.attribute_display_type)}return this.getAutomationType(t).filterOperators},getAutomationType:function(t){return this.automationTypes[this.automation.event_name].conditions.find((function(e){return e.key===t}))},getCustomAttributeType:function(t){return this.automationTypes[this.automation.event_name].conditions.find((function(e){return e.key===t})).customAttributeType},getConditionDropdownValues:function(t){var e=this.agents,n=this.allCustomAttributes,a=this.booleanFilterOptions,o=this.campaigns,u=this.contacts,l=this.inboxes,c=this.statusFilterOptions,p=this.teams;return Object(s.g)({agents:e,booleanFilterOptions:a,campaigns:o,contacts:u,customAttributes:n,inboxes:l,statusFilterOptions:c,teams:p,languages:i.a,countries:r.a,type:t})},appendNewCondition:function(){var t;(t=this.automation.conditions).push.apply(t,u(Object(s.j)(this.automation.event_name)))},appendNewAction:function(){var t;(t=this.automation.actions).push.apply(t,u(Object(s.i)()))},removeFilter:function(t){this.automation.conditions.length<=1?this.showAlert(this.$t(\"AUTOMATION.CONDITION.DELETE_MESSAGE\")):this.automation.conditions.splice(t,1)},removeAction:function(t){this.automation.actions.length<=1?this.showAlert(this.$t(\"AUTOMATION.ACTION.DELETE_MESSAGE\")):this.automation.actions.splice(t,1)},submitAutomation:function(){if(this.$v.$touch(),!this.$v.$invalid){var t=Object(s.c)(this.automation);this.$emit(\"saveAutomation\",t,this.mode)}},resetFilter:function(t,e){this.automation.conditions[t].filter_operator=this.automationTypes[this.automation.event_name].conditions.find((function(t){return t.key===e.attribute_key})).filterOperators[0].value,this.automation.conditions[t].values=\"\"},showUserInput:function(t){return!(\"is_present\"===t||\"is_not_present\"===t)},showActionInput:function(t){return\"send_email_to_team\"!==t&&\"send_message\"!==t&&!!this.automationActionTypes.find((function(e){return e.key===t})).inputType},resetAction:function(t){this.automation.actions[t].action_params=[]},manifestConditions:function(t){var e=this,n=Object(s.b)(this.allCustomAttributes);return t.conditions.map((function(a){var o=Object(s.o)(n,a.attribute_key),i=\"plain_text\";return i=o?Object(s.h)(o.type):Object(s.m)(e.automationTypes,t.event_name,a.attribute_key),p(p({},a),{},\"plain_text\"===i||\"date\"===i?{values:a.values[0]}:\"comma_separated_plain_text\"===i?{values:a.values.join(\",\")}:{query_operator:a.query_operator||\"and\",values:u(e.getConditionDropdownValues(a.attribute_key)).filter((function(t){return u(a.values).includes(t.id)}))})}))},generateActionsArray:function(t){var e=t.action_params,n=this.automationActionTypes.find((function(e){return e.key===t.action_name})).inputType;return\"multi_select\"===n||\"search_select\"===n?u(this.getActionDropdownValues(t.action_name)).filter((function(t){return u(e).includes(t.id)})):\"team_message\"===n?{team_ids:u(this.getActionDropdownValues(t.action_name)).filter((function(t){return u(e[0].team_ids).includes(t.id)})),message:e[0].message}:u(e)},manifestActions:function(t){var e=this,n=[];return t.actions.map((function(t){return t.action_params.length&&(n=e.generateActionsArray(t)),p(p({},t),{},{action_params:n})}))},formatAutomation:function(t){this.automation=p(p({},t),{},{conditions:this.manifestConditions(t),actions:this.manifestActions(t)})},getActionDropdownValues:function(t){var e=this.agents,n=this.labels,a=this.teams,o=this.slaPolicies;return Object(s.f)({agents:e,labels:n,teams:a,slaPolicies:o,languages:i.a,type:t})},manifestCustomAttributes:function(){var t,e,n,a,o=this.$store.getters[\"attributes/getAttributesByModel\"](\"conversation_attribute\"),i=this.$store.getters[\"attributes/getAttributesByModel\"](\"contact_attribute\"),r=Object(s.d)(o,\"conversation_attribute\"),l=Object(s.d)(i,\"contact_attribute\"),c=Object(s.e)(r,l,this.$t(\"AUTOMATION.CONDITION.CONVERSATION_CUSTOM_ATTR_LABEL\"),this.$t(\"AUTOMATION.CONDITION.CONTACT_CUSTOM_ATTR_LABEL\"));(t=this.automationTypes.message_created.conditions).push.apply(t,u(c)),(e=this.automationTypes.conversation_created.conditions).push.apply(e,u(c)),(n=this.automationTypes.conversation_updated.conditions).push.apply(n,u(c)),(a=this.automationTypes.conversation_opened.conditions).push.apply(a,u(c))}}},_=n(66),A={validations:{automation:{name:{required:_.required},description:{required:_.required},event_name:{required:_.required},conditions:{required:_.required,$each:{values:{required:Object(_.requiredIf)((function(t){return!(\"is_present\"===t.filter_operator||\"is_not_present\"===t.filter_operator)}))}}},actions:{required:_.required,$each:{action_params:{required:Object(_.requiredIf)((function(t){return!(\"mute_conversation\"===t.action_name||\"snooze_conversation\"===t.action_name||\"resolve_conversation\"===t.action_name)}))}}}}}},b=n(2735),y=n(2957),v=n(2986),O={message_created:{conditions:[{key:\"message_type\",name:\"Message Type\",attributeI18nKey:\"MESSAGE_TYPE\",inputType:\"search_select\",filterOperators:v.a},{key:\"content\",name:\"Message Content\",attributeI18nKey:\"MESSAGE_CONTAINS\",inputType:\"comma_separated_plain_text\",filterOperators:v.b},{key:\"email\",name:\"Email\",attributeI18nKey:\"EMAIL\",inputType:\"plain_text\",filterOperators:v.b},{key:\"inbox_id\",name:\"Inbox\",attributeI18nKey:\"INBOX\",inputType:\"multi_select\",filterOperators:v.a},{key:\"conversation_language\",name:\"Conversation Language\",attributeI18nKey:\"CONVERSATION_LANGUAGE\",inputType:\"multi_select\",filterOperators:v.a},{key:\"phone_number\",name:\"Phone Number\",attributeI18nKey:\"PHONE_NUMBER\",inputType:\"plain_text\",filterOperators:v.e}],actions:[{key:\"assign_agent\",name:\"Assign to agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"assign_team\",name:\"Assign a team\",attributeI18nKey:\"ASSIGN_TEAM\"},{key:\"add_label\",name:\"Add a label\",attributeI18nKey:\"ADD_LABEL\"},{key:\"remove_label\",name:\"Remove a label\",attributeI18nKey:\"REMOVE_LABEL\"},{key:\"send_email_to_team\",name:\"Send an email to team\",attributeI18nKey:\"SEND_EMAIL_TO_TEAM\"},{key:\"send_message\",name:\"Send a message\",attributeI18nKey:\"SEND_MESSAGE\"},{key:\"send_email_transcript\",name:\"Send an email transcript\",attributeI18nKey:\"SEND_EMAIL_TRANSCRIPT\"},{key:\"mute_conversation\",name:\"Mute conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"snooze_conversation\",name:\"Snooze conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"resolve_conversation\",name:\"Resolve conversation\",attributeI18nKey:\"RESOLVE_CONVERSATION\"},{key:\"send_webhook_event\",name:\"Send Webhook Event\",attributeI18nKey:\"SEND_WEBHOOK_EVENT\"},{key:\"send_attachment\",name:\"Send Attachment\",attributeI18nKey:\"SEND_ATTACHMENT\"}]},conversation_created:{conditions:[{key:\"status\",name:\"Status\",attributeI18nKey:\"STATUS\",inputType:\"multi_select\",filterOperators:v.a},{key:\"browser_language\",name:\"Browser Language\",attributeI18nKey:\"BROWSER_LANGUAGE\",inputType:\"search_select\",filterOperators:v.a},{key:\"mail_subject\",name:\"Email Subject\",attributeI18nKey:\"MAIL_SUBJECT\",inputType:\"plain_text\",filterOperators:v.b},{key:\"country_code\",name:\"Country\",attributeI18nKey:\"COUNTRY_NAME\",inputType:\"search_select\",filterOperators:v.a},{key:\"phone_number\",name:\"Phone Number\",attributeI18nKey:\"PHONE_NUMBER\",inputType:\"plain_text\",filterOperators:v.e},{key:\"referer\",name:\"Referrer Link\",attributeI18nKey:\"REFERER_LINK\",inputType:\"plain_text\",filterOperators:v.b},{key:\"email\",name:\"Email\",attributeI18nKey:\"EMAIL\",inputType:\"plain_text\",filterOperators:v.b},{key:\"inbox_id\",name:\"Inbox\",attributeI18nKey:\"INBOX\",inputType:\"multi_select\",filterOperators:v.a},{key:\"conversation_language\",name:\"Conversation Language\",attributeI18nKey:\"CONVERSATION_LANGUAGE\",inputType:\"multi_select\",filterOperators:v.a},{key:\"priority\",name:\"Priority\",attributeI18nKey:\"PRIORITY\",inputType:\"multi_select\",filterOperators:v.a}],actions:[{key:\"assign_agent\",name:\"Assign to agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"assign_team\",name:\"Assign a team\",attributeI18nKey:\"ASSIGN_TEAM\"},{key:\"assign_agent\",name:\"Assign an agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"send_email_to_team\",name:\"Send an email to team\",attributeI18nKey:\"SEND_EMAIL_TO_TEAM\"},{key:\"send_message\",name:\"Send a message\",attributeI18nKey:\"SEND_MESSAGE\"},{key:\"send_email_transcript\",name:\"Send an email transcript\",attributeI18nKey:\"SEND_EMAIL_TRANSCRIPT\"},{key:\"mute_conversation\",name:\"Mute conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"snooze_conversation\",name:\"Snooze conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"resolve_conversation\",name:\"Resolve conversation\",attributeI18nKey:\"RESOLVE_CONVERSATION\"},{key:\"send_webhook_event\",name:\"Send Webhook Event\",attributeI18nKey:\"SEND_WEBHOOK_EVENT\"},{key:\"send_attachment\",name:\"Send Attachment\",attributeI18nKey:\"SEND_ATTACHMENT\"}]},conversation_updated:{conditions:[{key:\"status\",name:\"Status\",attributeI18nKey:\"STATUS\",inputType:\"multi_select\",filterOperators:v.a},{key:\"browser_language\",name:\"Browser Language\",attributeI18nKey:\"BROWSER_LANGUAGE\",inputType:\"search_select\",filterOperators:v.a},{key:\"mail_subject\",name:\"Email Subject\",attributeI18nKey:\"MAIL_SUBJECT\",inputType:\"plain_text\",filterOperators:v.b},{key:\"country_code\",name:\"Country\",attributeI18nKey:\"COUNTRY_NAME\",inputType:\"search_select\",filterOperators:v.a},{key:\"referer\",name:\"Referrer Link\",attributeI18nKey:\"REFERER_LINK\",inputType:\"plain_text\",filterOperators:v.b},{key:\"phone_number\",name:\"Phone Number\",attributeI18nKey:\"PHONE_NUMBER\",inputType:\"plain_text\",filterOperators:v.e},{key:\"assignee_id\",name:\"Assignee\",attributeI18nKey:\"ASSIGNEE_NAME\",inputType:\"search_select\",filterOperators:v.c},{key:\"team_id\",name:\"Team\",attributeI18nKey:\"TEAM_NAME\",inputType:\"search_select\",filterOperators:v.c},{key:\"email\",name:\"Email\",attributeI18nKey:\"EMAIL\",inputType:\"plain_text\",filterOperators:v.b},{key:\"inbox_id\",name:\"Inbox\",attributeI18nKey:\"INBOX\",inputType:\"multi_select\",filterOperators:v.a},{key:\"conversation_language\",name:\"Conversation Language\",attributeI18nKey:\"CONVERSATION_LANGUAGE\",inputType:\"multi_select\",filterOperators:v.a},{key:\"priority\",name:\"Priority\",attributeI18nKey:\"PRIORITY\",inputType:\"multi_select\",filterOperators:v.a}],actions:[{key:\"assign_agent\",name:\"Assign to agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"assign_team\",name:\"Assign a team\",attributeI18nKey:\"ASSIGN_TEAM\"},{key:\"assign_agent\",name:\"Assign an agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"send_email_to_team\",name:\"Send an email to team\",attributeI18nKey:\"SEND_EMAIL_TO_TEAM\"},{key:\"send_message\",name:\"Send a message\",attributeI18nKey:\"SEND_MESSAGE\"},{key:\"send_email_transcript\",name:\"Send an email transcript\",attributeI18nKey:\"SEND_EMAIL_TRANSCRIPT\"},{key:\"mute_conversation\",name:\"Mute conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"snooze_conversation\",name:\"Snooze conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"resolve_conversation\",name:\"Resolve conversation\",attributeI18nKey:\"RESOLVE_CONVERSATION\"},{key:\"send_webhook_event\",name:\"Send Webhook Event\",attributeI18nKey:\"SEND_WEBHOOK_EVENT\"},{key:\"send_attachment\",name:\"Send Attachment\",attributeI18nKey:\"SEND_ATTACHMENT\"}]},conversation_opened:{conditions:[{key:\"browser_language\",name:\"Browser Language\",attributeI18nKey:\"BROWSER_LANGUAGE\",inputType:\"search_select\",filterOperators:v.a},{key:\"email\",name:\"Email\",attributeI18nKey:\"EMAIL\",inputType:\"plain_text\",filterOperators:v.b},{key:\"mail_subject\",name:\"Email Subject\",attributeI18nKey:\"MAIL_SUBJECT\",inputType:\"plain_text\",filterOperators:v.b},{key:\"country_code\",name:\"Country\",attributeI18nKey:\"COUNTRY_NAME\",inputType:\"search_select\",filterOperators:v.a},{key:\"referer\",name:\"Referrer Link\",attributeI18nKey:\"REFERER_LINK\",inputType:\"plain_text\",filterOperators:v.b},{key:\"assignee_id\",name:\"Assignee\",attributeI18nKey:\"ASSIGNEE_NAME\",inputType:\"search_select\",filterOperators:v.c},{key:\"phone_number\",name:\"Phone Number\",attributeI18nKey:\"PHONE_NUMBER\",inputType:\"plain_text\",filterOperators:v.e},{key:\"team_id\",name:\"Team\",attributeI18nKey:\"TEAM_NAME\",inputType:\"search_select\",filterOperators:v.c},{key:\"inbox_id\",name:\"Inbox\",attributeI18nKey:\"INBOX\",inputType:\"multi_select\",filterOperators:v.a},{key:\"conversation_language\",name:\"Conversation Language\",attributeI18nKey:\"CONVERSATION_LANGUAGE\",inputType:\"multi_select\",filterOperators:v.a},{key:\"priority\",name:\"Priority\",attributeI18nKey:\"PRIORITY\",inputType:\"multi_select\",filterOperators:v.a}],actions:[{key:\"assign_agent\",name:\"Assign to agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"assign_team\",name:\"Assign a team\",attributeI18nKey:\"ASSIGN_TEAM\"},{key:\"assign_agent\",name:\"Assign an agent\",attributeI18nKey:\"ASSIGN_AGENT\"},{key:\"send_email_to_team\",name:\"Send an email to team\",attributeI18nKey:\"SEND_EMAIL_TO_TEAM\"},{key:\"send_message\",name:\"Send a message\",attributeI18nKey:\"SEND_MESSAGE\"},{key:\"send_email_transcript\",name:\"Send an email transcript\",attributeI18nKey:\"SEND_EMAIL_TRANSCRIPT\"},{key:\"mute_conversation\",name:\"Mute conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"snooze_conversation\",name:\"Snooze conversation\",attributeI18nKey:\"MUTE_CONVERSATION\"},{key:\"send_webhook_event\",name:\"Send Webhook Event\",attributeI18nKey:\"SEND_WEBHOOK_EVENT\"},{key:\"send_attachment\",name:\"Send Attachment\",attributeI18nKey:\"SEND_ATTACHMENT\"}]}},T=[{key:\"conversation_created\",value:\"Conversation Created\"},{key:\"conversation_updated\",value:\"Conversation Updated\"},{key:\"message_created\",value:\"Message Created\"},{key:\"conversation_opened\",value:\"Conversation Opened\"}],f=[{key:\"assign_agent\",label:\"Assign to agent\",inputType:\"search_select\"},{key:\"assign_team\",label:\"Assign a team\",inputType:\"search_select\"},{key:\"add_label\",label:\"Add a label\",inputType:\"multi_select\"},{key:\"remove_label\",label:\"Remove a label\",inputType:\"multi_select\"},{key:\"send_email_to_team\",label:\"Send an email to team\",inputType:\"team_message\"},{key:\"send_email_transcript\",label:\"Send an email transcript\",inputType:\"email\"},{key:\"mute_conversation\",label:\"Mute conversation\",inputType:null},{key:\"snooze_conversation\",label:\"Snooze conversation\",inputType:null},{key:\"resolve_conversation\",label:\"Resolve conversation\",inputType:null},{key:\"send_webhook_event\",label:\"Send Webhook Event\",inputType:\"url\"},{key:\"send_attachment\",label:\"Send Attachment\",inputType:\"attachment\"},{key:\"send_message\",label:\"Send a message\",inputType:\"textarea\"},{key:\"change_priority\",label:\"Change Priority\",inputType:\"search_select\"},{key:\"add_sla\",label:\"Add SLA\",inputType:\"search_select\"}];function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={components:{filterInputBox:b.a,automationActionInput:y.a},mixins:[o.a,d,A],props:{onClose:{type:Function,default:function(){}}},data:function(){return{automationTypes:JSON.parse(JSON.stringify(O)),automationRuleEvent:T[0].key,automationRuleEvents:T,automationMutated:!1,show:!0,automation:{name:null,description:null,event_name:\"conversation_created\",conditions:[{attribute_key:\"status\",filter_operator:\"equal_to\",values:\"\",query_operator:\"and\",custom_attribute_type:\"\"}],actions:[{action_name:\"assign_agent\",action_params:[]}]},showDeleteConfirmationModal:!1,allCustomAttributes:[],mode:\"create\"}},computed:h(h({},Object(a.mapGetters)({accountId:\"getCurrentAccountId\",isFeatureEnabledonAccount:\"accounts/isFeatureEnabledonAccount\"})),{},{hasAutomationMutated:function(){return!(!this.automation.conditions[0].values&&!this.automation.actions[0].action_params.length)},automationActionTypes:function(){return this.isFeatureEnabled(\"sla\")?f:f.filter((function(t){return\"add_sla\"!==t.key}))}}),mounted:function(){this.$store.dispatch(\"inboxes/get\"),this.$store.dispatch(\"agents/get\"),this.$store.dispatch(\"contacts/get\"),this.$store.dispatch(\"teams/get\"),this.$store.dispatch(\"labels/get\"),this.$store.dispatch(\"campaigns/get\"),this.allCustomAttributes=this.$store.getters[\"attributes/getAttributes\"],this.manifestCustomAttributes()},methods:{isFeatureEnabled:function(t){return this.isFeatureEnabledonAccount(this.accountId,t)}}},N=(n(3127),n(8)),S=Object(N.a)(I,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"woot-modal-header\",{attrs:{\"header-title\":t.$t(\"AUTOMATION.ADD.TITLE\")}}),t._v(\" \"),e(\"div\",{staticClass:\"flex flex-col modal-content\"},[e(\"div\",{staticClass:\"w-full\"},[e(\"woot-input\",{class:{error:t.$v.automation.name.$error},attrs:{label:t.$t(\"AUTOMATION.ADD.FORM.NAME.LABEL\"),type:\"text\",error:t.$v.automation.name.$error?t.$t(\"AUTOMATION.ADD.FORM.NAME.ERROR\"):\"\",placeholder:t.$t(\"AUTOMATION.ADD.FORM.NAME.PLACEHOLDER\")},on:{blur:t.$v.automation.name.$touch},model:{value:t.automation.name,callback:function(e){t.$set(t.automation,\"name\",e)},expression:\"automation.name\"}}),t._v(\" \"),e(\"woot-input\",{class:{error:t.$v.automation.description.$error},attrs:{label:t.$t(\"AUTOMATION.ADD.FORM.DESC.LABEL\"),type:\"text\",error:t.$v.automation.description.$error?t.$t(\"AUTOMATION.ADD.FORM.DESC.ERROR\"):\"\",placeholder:t.$t(\"AUTOMATION.ADD.FORM.DESC.PLACEHOLDER\")},on:{blur:t.$v.automation.description.$touch},model:{value:t.automation.description,callback:function(e){t.$set(t.automation,\"description\",e)},expression:\"automation.description\"}}),t._v(\" \"),e(\"div\",{staticClass:\"event_wrapper\"},[e(\"label\",{class:{error:t.$v.automation.event_name.$error}},[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.EVENT.LABEL\"))+\"\\n          \"),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.automation.event_name,expression:\"automation.event_name\"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.$set(t.automation,\"event_name\",e.target.multiple?n:n[0])},function(e){return t.onEventChange()}]}},t._l(t.automationRuleEvents,(function(n){return e(\"option\",{key:n.key,domProps:{value:n.key}},[t._v(\"\\n              \"+t._s(n.value)+\"\\n            \")])})),0),t._v(\" \"),t.$v.automation.event_name.$error?e(\"span\",{staticClass:\"message\"},[t._v(\"\\n            \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.EVENT.ERROR\"))+\"\\n          \")]):t._e()]),t._v(\" \"),t.hasAutomationMutated?e(\"p\",{staticClass:\"info-message\"},[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.FORM.RESET_MESSAGE\"))+\"\\n        \")]):t._e()]),t._v(\" \"),e(\"section\",[e(\"label\",[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.CONDITIONS.LABEL\"))+\"\\n        \")]),t._v(\" \"),e(\"div\",{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[t._l(t.automation.conditions,(function(n,a){return e(\"filter-input-box\",{key:a,attrs:{\"filter-attributes\":t.getAttributes(t.automation.event_name),\"input-type\":t.getInputType(t.automation.conditions[a].attribute_key),operators:t.getOperators(t.automation.conditions[a].attribute_key),\"dropdown-values\":t.getConditionDropdownValues(t.automation.conditions[a].attribute_key),\"show-query-operator\":a!==t.automation.conditions.length-1,\"custom-attribute-type\":t.getCustomAttributeType(t.automation.conditions[a].attribute_key),v:t.$v.automation.conditions.$each[a]},on:{resetFilter:function(e){return t.resetFilter(a,t.automation.conditions[a])},removeFilter:function(e){return t.removeFilter(a)}},model:{value:t.automation.conditions[a],callback:function(e){t.$set(t.automation.conditions,a,e)},expression:\"automation.conditions[i]\"}})})),t._v(\" \"),e(\"div\",{staticClass:\"mt-4\"},[e(\"woot-button\",{attrs:{icon:\"add\",\"color-scheme\":\"success\",variant:\"smooth\",size:\"small\"},on:{click:t.appendNewCondition}},[t._v(\"\\n              \"+t._s(t.$t(\"AUTOMATION.ADD.CONDITION_BUTTON_LABEL\"))+\"\\n            \")])],1)],2)]),t._v(\" \"),e(\"section\",[e(\"label\",[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.ACTIONS.LABEL\"))+\"\\n        \")]),t._v(\" \"),e(\"div\",{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[t._l(t.automation.actions,(function(n,a){return e(\"automation-action-input\",{key:a,attrs:{\"action-types\":t.automationActionTypes,\"dropdown-values\":t.getActionDropdownValues(t.automation.actions[a].action_name),\"show-action-input\":t.showActionInput(t.automation.actions[a].action_name),v:t.$v.automation.actions.$each[a]},on:{resetAction:function(e){return t.resetAction(a)},removeAction:function(e){return t.removeAction(a)}},model:{value:t.automation.actions[a],callback:function(e){t.$set(t.automation.actions,a,e)},expression:\"automation.actions[i]\"}})})),t._v(\" \"),e(\"div\",{staticClass:\"mt-4\"},[e(\"woot-button\",{attrs:{icon:\"add\",\"color-scheme\":\"success\",variant:\"smooth\",size:\"small\"},on:{click:t.appendNewAction}},[t._v(\"\\n              \"+t._s(t.$t(\"AUTOMATION.ADD.ACTION_BUTTON_LABEL\"))+\"\\n            \")])],1)],2)]),t._v(\" \"),e(\"div\",{staticClass:\"w-full\"},[e(\"div\",{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[e(\"woot-button\",{staticClass:\"button clear\",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v(\"\\n            \"+t._s(t.$t(\"AUTOMATION.ADD.CANCEL_BUTTON_TEXT\"))+\"\\n          \")]),t._v(\" \"),e(\"woot-button\",{on:{click:t.submitAutomation}},[t._v(\"\\n            \"+t._s(t.$t(\"AUTOMATION.ADD.SUBMIT\"))+\"\\n          \")])],1)])],1)])],1)}),[],!1,null,\"75e0a7e0\",null),k=S.exports;function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R={components:{filterInputBox:b.a,automationActionInput:y.a},mixins:[o.a,d,A],props:{onClose:{type:Function,default:function(){}},selectedResponse:{type:Object,default:function(){}}},data:function(){return{automationTypes:JSON.parse(JSON.stringify(O)),automationRuleEvent:T[0].key,automationRuleEvents:T,automationMutated:!1,show:!0,automation:null,showDeleteConfirmationModal:!1,allCustomAttributes:[],mode:\"edit\"}},computed:M(M({},Object(a.mapGetters)({accountId:\"getCurrentAccountId\",isFeatureEnabledonAccount:\"accounts/isFeatureEnabledonAccount\"})),{},{hasAutomationMutated:function(){return!(!this.automation.conditions[0].values&&!this.automation.actions[0].action_params.length)},automationActionTypes:function(){return this.isFeatureEnabled(\"sla\")?f:f.filter((function(t){return\"add_sla\"!==t.key}))}}),mounted:function(){this.manifestCustomAttributes(),this.allCustomAttributes=this.$store.getters[\"attributes/getAttributes\"],this.formatAutomation(this.selectedResponse)},methods:{isFeatureEnabled:function(t){return this.isFeatureEnabledonAccount(this.accountId,t)}}},D=(n(3128),Object(N.a)(R,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"woot-modal-header\",{attrs:{\"header-title\":t.$t(\"AUTOMATION.EDIT.TITLE\")}}),t._v(\" \"),e(\"div\",{staticClass:\"flex flex-col modal-content\"},[t.automation?e(\"div\",{staticClass:\"w-full\"},[e(\"woot-input\",{class:{error:t.$v.automation.name.$error},attrs:{label:t.$t(\"AUTOMATION.ADD.FORM.NAME.LABEL\"),type:\"text\",error:t.$v.automation.name.$error?t.$t(\"AUTOMATION.ADD.FORM.NAME.ERROR\"):\"\",placeholder:t.$t(\"AUTOMATION.ADD.FORM.NAME.PLACEHOLDER\")},on:{blur:t.$v.automation.name.$touch},model:{value:t.automation.name,callback:function(e){t.$set(t.automation,\"name\",e)},expression:\"automation.name\"}}),t._v(\" \"),e(\"woot-input\",{class:{error:t.$v.automation.description.$error},attrs:{label:t.$t(\"AUTOMATION.ADD.FORM.DESC.LABEL\"),type:\"text\",error:t.$v.automation.description.$error?t.$t(\"AUTOMATION.ADD.FORM.DESC.ERROR\"):\"\",placeholder:t.$t(\"AUTOMATION.ADD.FORM.DESC.PLACEHOLDER\")},on:{blur:t.$v.automation.description.$touch},model:{value:t.automation.description,callback:function(e){t.$set(t.automation,\"description\",e)},expression:\"automation.description\"}}),t._v(\" \"),e(\"div\",{staticClass:\"event_wrapper\"},[e(\"label\",{class:{error:t.$v.automation.event_name.$error}},[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.EVENT.LABEL\"))+\"\\n          \"),e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.automation.event_name,expression:\"automation.event_name\"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.$set(t.automation,\"event_name\",e.target.multiple?n:n[0])},function(e){return t.onEventChange()}]}},t._l(t.automationRuleEvents,(function(n){return e(\"option\",{key:n.key,domProps:{value:n.key}},[t._v(\"\\n              \"+t._s(n.value)+\"\\n            \")])})),0),t._v(\" \"),t.$v.automation.event_name.$error?e(\"span\",{staticClass:\"message\"},[t._v(\"\\n            \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.EVENT.ERROR\"))+\"\\n          \")]):t._e()])]),t._v(\" \"),e(\"section\",[e(\"label\",[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.CONDITIONS.LABEL\"))+\"\\n        \")]),t._v(\" \"),e(\"div\",{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[t._l(t.automation.conditions,(function(n,a){return e(\"filter-input-box\",{key:a,attrs:{\"filter-attributes\":t.getAttributes(t.automation.event_name),\"input-type\":t.getInputType(t.automation.conditions[a].attribute_key),operators:t.getOperators(t.automation.conditions[a].attribute_key),\"dropdown-values\":t.getConditionDropdownValues(t.automation.conditions[a].attribute_key),\"custom-attribute-type\":t.getCustomAttributeType(t.automation.conditions[a].attribute_key),\"show-query-operator\":a!==t.automation.conditions.length-1,v:t.$v.automation.conditions.$each[a]},on:{resetFilter:function(e){return t.resetFilter(a,t.automation.conditions[a])},removeFilter:function(e){return t.removeFilter(a)}},model:{value:t.automation.conditions[a],callback:function(e){t.$set(t.automation.conditions,a,e)},expression:\"automation.conditions[i]\"}})})),t._v(\" \"),e(\"div\",{staticClass:\"mt-4\"},[e(\"woot-button\",{attrs:{icon:\"add\",\"color-scheme\":\"success\",variant:\"smooth\",size:\"small\"},on:{click:t.appendNewCondition}},[t._v(\"\\n              \"+t._s(t.$t(\"AUTOMATION.ADD.CONDITION_BUTTON_LABEL\"))+\"\\n            \")])],1)],2)]),t._v(\" \"),e(\"section\",[e(\"label\",[t._v(\"\\n          \"+t._s(t.$t(\"AUTOMATION.ADD.FORM.ACTIONS.LABEL\"))+\"\\n        \")]),t._v(\" \"),e(\"div\",{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[t._l(t.automation.actions,(function(n,a){return e(\"automation-action-input\",{key:a,attrs:{\"action-types\":t.automationActionTypes,\"dropdown-values\":t.getActionDropdownValues(n.action_name),\"show-action-input\":t.showActionInput(n.action_name),v:t.$v.automation.actions.$each[a],\"initial-file-name\":t.getFileName(n,t.automation.files)},on:{resetAction:function(e){return t.resetAction(a)},removeAction:function(e){return t.removeAction(a)}},model:{value:t.automation.actions[a],callback:function(e){t.$set(t.automation.actions,a,e)},expression:\"automation.actions[i]\"}})})),t._v(\" \"),e(\"div\",{staticClass:\"mt-4\"},[e(\"woot-button\",{attrs:{icon:\"add\",\"color-scheme\":\"success\",variant:\"smooth\",size:\"small\"},on:{click:t.appendNewAction}},[t._v(\"\\n              \"+t._s(t.$t(\"AUTOMATION.ADD.ACTION_BUTTON_LABEL\"))+\"\\n            \")])],1)],2)]),t._v(\" \"),e(\"div\",{staticClass:\"w-full\"},[e(\"div\",{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[e(\"woot-button\",{staticClass:\"button\",attrs:{variant:\"clear\"},on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v(\"\\n            \"+t._s(t.$t(\"AUTOMATION.EDIT.CANCEL_BUTTON_TEXT\"))+\"\\n          \")]),t._v(\" \"),e(\"woot-button\",{on:{click:t.submitAutomation}},[t._v(\"\\n            \"+t._s(t.$t(\"AUTOMATION.EDIT.SUBMIT\"))+\"\\n          \")])],1)])],1):t._e()])],1)}),[],!1,null,\"ecb536c6\",null)),$=D.exports,L=n(1917);function P(t,e,n,a,o,i,r){try{var s=t[i](r),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(a,o)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function r(t){P(i,a,o,r,s,\"next\",t)}function s(t){P(i,a,o,r,s,\"throw\",t)}r(void 0)}))}}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F={components:{AddAutomationRule:k,EditAutomationRule:$},mixins:[o.a,L.a],data:function(){return{loading:{},showAddPopup:!1,showEditPopup:!1,showDeleteConfirmationPopup:!1,selectedResponse:{},toggleModalTitle:this.$t(\"AUTOMATION.TOGGLE.ACTIVATION_TITLE\"),toggleModalDescription:this.$t(\"AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION\")}},computed:j(j({},Object(a.mapGetters)({records:[\"automations/getAutomations\"],uiFlags:\"automations/getUIFlags\",accountId:\"getCurrentAccountId\",isFeatureEnabledonAccount:\"accounts/isFeatureEnabledonAccount\"})),{},{deleteConfirmText:function(){return\"\".concat(this.$t(\"AUTOMATION.DELETE.CONFIRM.YES\"),\" \").concat(this.selectedResponse.name)},deleteRejectText:function(){return\"\".concat(this.$t(\"AUTOMATION.DELETE.CONFIRM.NO\"),\" \").concat(this.selectedResponse.name)},deleteMessage:function(){return\" \".concat(this.selectedResponse.name,\"?\")},isSLAEnabled:function(){return this.isFeatureEnabledonAccount(this.accountId,\"sla\")}}),mounted:function(){this.$store.dispatch(\"inboxes/get\"),this.$store.dispatch(\"agents/get\"),this.$store.dispatch(\"contacts/get\"),this.$store.dispatch(\"teams/get\"),this.$store.dispatch(\"labels/get\"),this.$store.dispatch(\"campaigns/get\"),this.$store.dispatch(\"automations/get\"),this.isSLAEnabled&&this.$store.dispatch(\"sla/get\")},methods:{openAddPopup:function(){this.showAddPopup=!0},hideAddPopup:function(){this.showAddPopup=!1},openEditPopup:function(t){this.selectedResponse=t,this.showEditPopup=!0},hideEditPopup:function(){this.showEditPopup=!1},openDeletePopup:function(t){this.showDeleteConfirmationPopup=!0,this.selectedResponse=t},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},confirmDeletion:function(){this.loading[this.selectedResponse.id]=!0,this.closeDeletePopup(),this.deleteAutomation(this.selectedResponse.id)},deleteAutomation:function(t){var e=this;return x(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch(\"automations/delete\",t);case 3:e.showAlert(e.$t(\"AUTOMATION.DELETE.API.SUCCESS_MESSAGE\")),e.loading[e.selectedResponse.id]=!1,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.showAlert(e.$t(\"AUTOMATION.DELETE.API.ERROR_MESSAGE\"));case 10:case\"end\":return n.stop()}}),n,null,[[0,7]])})))()},cloneAutomation:function(t){var e=this;return x(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch(\"automations/clone\",t);case 3:e.showAlert(e.$t(\"AUTOMATION.CLONE.API.SUCCESS_MESSAGE\")),e.$store.dispatch(\"automations/get\"),e.loading[e.selectedResponse.id]=!1,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),e.showAlert(e.$t(\"AUTOMATION.CLONE.API.ERROR_MESSAGE\"));case 11:case\"end\":return n.stop()}}),n,null,[[0,8]])})))()},submitAutomation:function(t,e){var n=this;return x(regeneratorRuntime.mark((function a(){var o,i,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=\"edit\"===e?\"automations/update\":\"automations/create\",i=\"edit\"===e?n.$t(\"AUTOMATION.EDIT.API.SUCCESS_MESSAGE\"):n.$t(\"AUTOMATION.ADD.API.SUCCESS_MESSAGE\"),a.next=5,n.$store.dispatch(o,t);case 5:n.showAlert(i),n.hideAddPopup(),n.hideEditPopup(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),r=\"edit\"===e?n.$t(\"AUTOMATION.EDIT.API.ERROR_MESSAGE\"):n.$t(\"AUTOMATION.ADD.API.ERROR_MESSAGE\"),n.showAlert(r);case 14:case\"end\":return a.stop()}}),a,null,[[0,10]])})))()},toggleAutomation:function(t,e){var n=this;return x(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n.toggleModalTitle=e?n.$t(\"AUTOMATION.TOGGLE.DEACTIVATION_TITLE\"):n.$t(\"AUTOMATION.TOGGLE.ACTIVATION_TITLE\"),n.toggleModalDescription=e?n.$t(\"AUTOMATION.TOGGLE.DEACTIVATION_DESCRIPTION\",{automationName:t.name}):n.$t(\"AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION\",{automationName:t.name}),a.next=5,n.$refs.confirmDialog.showConfirmation();case 5:if(!a.sent){a.next=11;break}return a.next=9,n.$store.dispatch(\"automations/update\",{id:t.id,active:!e});case 9:o=e?n.$t(\"AUTOMATION.TOGGLE.DEACTIVATION_SUCCESFUL\"):n.$t(\"AUTOMATION.TOGGLE.ACTIVATION_SUCCESFUL\"),n.showAlert(o);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n.showAlert(n.$t(\"AUTOMATION.EDIT.API.ERROR_MESSAGE\"));case 16:case\"end\":return a.stop()}}),a,null,[[0,13]])})))()},readableTime:function(t){return this.messageStamp(new Date(t),\"LLL d, h:mm a\")}}},G=Object(N.a)(F,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"flex-1 overflow-auto p-4\"},[e(\"woot-button\",{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",icon:\"add-circle\"},on:{click:function(e){return t.openAddPopup()}}},[t._v(\"\\n    \"+t._s(t.$t(\"AUTOMATION.HEADER_BTN_TXT\"))+\"\\n  \")]),t._v(\" \"),e(\"div\",{staticClass:\"flex flex-row gap-4\"},[e(\"div\",{staticClass:\"w-full lg:w-3/5\"},[t.uiFlags.isFetching||t.records.length?t._e():e(\"p\",{staticClass:\"flex h-full items-center flex-col justify-center\"},[t._v(\"\\n        \"+t._s(t.$t(\"AUTOMATION.LIST.404\"))+\"\\n      \")]),t._v(\" \"),t.uiFlags.isFetching?e(\"woot-loading-state\",{attrs:{message:t.$t(\"AUTOMATION.LOADING\")}}):t._e(),t._v(\" \"),!t.uiFlags.isFetching&&t.records.length?e(\"table\",{staticClass:\"woot-table\"},[e(\"thead\",t._l(t.$t(\"AUTOMATION.LIST.TABLE_HEADER\"),(function(n){return e(\"th\",{key:n},[t._v(\"\\n            \"+t._s(n)+\"\\n          \")])})),0),t._v(\" \"),e(\"tbody\",t._l(t.records,(function(n,a){return e(\"tr\",{key:a},[e(\"td\",[t._v(t._s(n.name))]),t._v(\" \"),e(\"td\",[t._v(t._s(n.description))]),t._v(\" \"),e(\"td\",[e(\"woot-switch\",{attrs:{value:n.active},on:{input:function(e){return t.toggleAutomation(n,n.active)}}})],1),t._v(\" \"),e(\"td\",[t._v(t._s(t.readableTime(n.created_on)))]),t._v(\" \"),e(\"td\",{staticClass:\"button-wrapper\"},[e(\"woot-button\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:t.$t(\"AUTOMATION.FORM.EDIT\"),expression:\"$t('AUTOMATION.FORM.EDIT')\",modifiers:{top:!0}}],attrs:{variant:\"smooth\",size:\"tiny\",\"color-scheme\":\"secondary\",\"class-names\":\"grey-btn\",\"is-loading\":t.loading[n.id],icon:\"edit\"},on:{click:function(e){return t.openEditPopup(n)}}}),t._v(\" \"),e(\"woot-button\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:t.$t(\"AUTOMATION.CLONE.TOOLTIP\"),expression:\"$t('AUTOMATION.CLONE.TOOLTIP')\",modifiers:{top:!0}}],attrs:{variant:\"smooth\",size:\"tiny\",\"color-scheme\":\"primary\",\"class-names\":\"grey-btn\",\"is-loading\":t.loading[n.id],icon:\"copy\"},on:{click:function(e){return t.cloneAutomation(n.id)}}}),t._v(\" \"),e(\"woot-button\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:t.$t(\"AUTOMATION.FORM.DELETE\"),expression:\"$t('AUTOMATION.FORM.DELETE')\",modifiers:{top:!0}}],attrs:{variant:\"smooth\",\"color-scheme\":\"alert\",size:\"tiny\",icon:\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":t.loading[n.id]},on:{click:function(e){return t.openDeletePopup(n,a)}}})],1)])})),0)]):t._e()],1),t._v(\" \"),e(\"div\",{staticClass:\"hidden lg:block w-1/3\"},[e(\"span\",{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:t.$t(\"AUTOMATION.SIDEBAR_TXT\"),expression:\"$t('AUTOMATION.SIDEBAR_TXT')\"}]})])]),t._v(\" \"),e(\"woot-modal\",{attrs:{show:t.showAddPopup,size:\"medium\",\"on-close\":t.hideAddPopup},on:{\"update:show\":function(e){t.showAddPopup=e}}},[t.showAddPopup?e(\"add-automation-rule\",{attrs:{\"on-close\":t.hideAddPopup},on:{saveAutomation:t.submitAutomation}}):t._e()],1),t._v(\" \"),e(\"woot-delete-modal\",{attrs:{show:t.showDeleteConfirmationPopup,\"on-close\":t.closeDeletePopup,\"on-confirm\":t.confirmDeletion,title:t.$t(\"LABEL_MGMT.DELETE.CONFIRM.TITLE\"),message:t.$t(\"AUTOMATION.DELETE.CONFIRM.MESSAGE\"),\"message-value\":t.deleteMessage,\"confirm-text\":t.deleteConfirmText,\"reject-text\":t.deleteRejectText},on:{\"update:show\":function(e){t.showDeleteConfirmationPopup=e}}}),t._v(\" \"),e(\"woot-modal\",{attrs:{show:t.showEditPopup,size:\"medium\",\"on-close\":t.hideEditPopup},on:{\"update:show\":function(e){t.showEditPopup=e}}},[t.showEditPopup?e(\"edit-automation-rule\",{attrs:{\"on-close\":t.hideEditPopup,\"selected-response\":t.selectedResponse},on:{saveAutomation:t.submitAutomation}}):t._e()],1),t._v(\" \"),e(\"woot-confirm-modal\",{ref:\"confirmDialog\",attrs:{title:t.toggleModalTitle,description:t.toggleModalDescription}})],1)}),[],!1,null,null,null);e.default=G.exports}}]);","name":"js/57-ca52bd05cdc1c0d620b2.chunk.js","map":{"version":3,"names":["window","push","module","exports","__webpack_require__","__webpack_exports__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","FilterInput_Indexvue_type_script_lang_js_","props","type","default","filterAttributes","Array","inputType","String","dataType","operators","dropdownValues","showQueryOperator","Boolean","v","showUserInput","groupedFilters","filterGroups","customAttributeType","computed","attributeKey","get","this","attribute_key","set","payload","$emit","filterOperator","filter_operator","values","query_operator","custom_attribute_type","watch","handler","immediate","methods","removeFilter","resetFilter","getInputErrorClass","isDirty","hasError","componentNormalizer","component","_vm","_c","_self","staticClass","class","$dirty","$error","directives","name","rawName","expression","on","change","$event","$$selectedVal","prototype","call","options","o","selected","map","_value","multiple","_l","group","attrs","label","attribute","domProps","_v","_s","disabled","operator","$t","placeholder","model","callback","$$v","editable","input","composing","_e","icon","variant","click","r","vuex","alertMixin","languages","countries","automationHelper","_toConsumableArray","arr","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","minLen","n","toString","slice","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","methodsMixin","agents","campaigns","contacts","inboxes","labels","teams","slaPolicies","booleanFilterOptions","id","statusFilterOptions","statusFilters","concat","status","TEXT","getFileName","onEventChange","automation","conditions","event_name","actions","getAttributes","automationTypes","getInputType","customAttribute","allCustomAttributes","attribute_display_type","getAutomationType","getOperators","mode","filterOperators","find","condition","getCustomAttributeType","getConditionDropdownValues","customAttributes","appendNewCondition","_this$automation$cond","appendNewAction","_this$automation$acti","index","showAlert","splice","removeAction","submitAutomation","$v","$touch","$invalid","currentCondition","showActionInput","action","automationActionTypes","resetAction","action_params","manifestConditions","_this","customAttr","join","item","includes","generateActionsArray","params","action_name","getActionDropdownValues","team_ids","message","manifestActions","_this2","actionParams","formatAutomation","manifestCustomAttributes","_this$automationTypes","_this$automationTypes2","_this$automationTypes3","_this$automationTypes4","conversationCustomAttributesRaw","$store","getters","contactCustomAttributesRaw","conversationCustomAttributeTypes","contactCustomAttributeTypes","manifestedCustomAttributes","message_created","conversation_created","conversation_updated","conversation_opened","validators","validationsMixin","validations","required","description","$each","prop","Index","AutomationActionInput","AUTOMATIONS","attributeI18nKey","AUTOMATION_RULE_EVENTS","AUTOMATION_ACTION_TYPES","AddAutomationRulevue_type_script_lang_js_ownKeys","AddAutomationRulevue_type_script_lang_js_objectSpread","AddAutomationRulevue_type_script_lang_js_defineProperty","automation_AddAutomationRulevue_type_script_lang_js_","components","filterInputBox","automationActionInput","mixins","onClose","Function","data","JSON","parse","stringify","automationRuleEvent","automationRuleEvents","automationMutated","show","showDeleteConfirmationModal","accountId","isFeatureEnabledonAccount","hasAutomationMutated","isFeatureEnabled","mounted","dispatch","flag","error","blur","$set","event","size","preventDefault","AddAutomationRule","EditAutomationRulevue_type_script_lang_js_ownKeys","EditAutomationRulevue_type_script_lang_js_objectSpread","EditAutomationRulevue_type_script_lang_js_defineProperty","automation_EditAutomationRulevue_type_script_lang_js_","selectedResponse","EditAutomationRule_component","files","EditAutomationRule","time","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","_asyncToGenerator","fn","self","args","err","undefined","Indexvue_type_script_lang_js_ownKeys","Indexvue_type_script_lang_js_objectSpread","Indexvue_type_script_lang_js_defineProperty","automation_Indexvue_type_script_lang_js_","loading","showAddPopup","showEditPopup","showDeleteConfirmationPopup","toggleModalTitle","toggleModalDescription","records","uiFlags","deleteConfirmText","deleteRejectText","deleteMessage","isSLAEnabled","openAddPopup","hideAddPopup","openEditPopup","response","hideEditPopup","openDeletePopup","closeDeletePopup","confirmDeletion","deleteAutomation","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","stop","cloneAutomation","_callee2","_context2","_this3","_callee3","successMessage","errorMessage","_context3","toggleAutomation","_this4","_callee4","_context4","automationName","$refs","confirmDialog","showConfirmation","sent","active","readableTime","date","messageStamp","Date","Index_component","isFetching","thHeader","created_on","modifiers","top","saveAutomation","title","ref"],"sources":["js/57-ca52bd05cdc1c0d620b2.chunk.js"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[57],{\n\n/***/ 2680:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 2735:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=template&id=de5a525e&scoped=true&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"rounded-md p-2 border border-solid\",class:_vm.getInputErrorClass(_vm.v.values.$dirty, _vm.v.values.$error)},[_c('div',{staticClass:\"flex\"},[(_vm.groupedFilters)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterGroups),function(group,i){return _c('optgroup',{key:i,attrs:{\"label\":group.name}},_vm._l((group.attributes),function(attribute){return _c('option',{key:attribute.key,domProps:{\"value\":attribute.key}},[_vm._v(\"\\n            \"+_vm._s(attribute.name)+\"\\n          \")])}),0)}),0):_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterAttributes),function(attribute){return _c('option',{key:attribute.key,attrs:{\"disabled\":attribute.disabled},domProps:{\"value\":attribute.key}},[_vm._v(\"\\n          \"+_vm._s(attribute.name)+\"\\n        \")])}),0),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterOperator),expression:\"filterOperator\"}],staticClass:\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterOperator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.operators),function(operator,o){return _c('option',{key:o,domProps:{\"value\":operator.value}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(`FILTER.OPERATOR_LABELS.${operator.value}`))+\"\\n        \")])}),0),_vm._v(\" \"),(_vm.showUserInput)?_c('div',{staticClass:\"filter__answer--wrap mr-1 flex-grow\"},[(_vm.inputType === 'multi_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"multiple\":true,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'search_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false,\"option-height\":104},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'date')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0 datepicker\",attrs:{\"type\":\"date\",\"editable\":false},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter value\"},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),_c('woot-button',{attrs:{\"icon\":\"dismiss\",\"variant\":\"clear\",\"color-scheme\":\"secondary\"},on:{\"click\":_vm.removeFilter}})],1),_vm._v(\" \"),(_vm.v.values.$dirty && _vm.v.values.$error)?_c('p',{staticClass:\"filter-error\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('FILTER.EMPTY_VALUE_ERROR'))+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.showQueryOperator)?_c('div',{staticClass:\"flex items-center justify-center relative my-2.5 mx-0\"},[_c('hr',{staticClass:\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query_operator),expression:\"query_operator\"}],staticClass:\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.query_operator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.AND'))+\"\\n      \")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.OR'))+\"\\n      \")])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=template&id=de5a525e&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=script&lang=js&\nfunction ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var Indexvue_type_script_lang_js_ = ({props:{value:{type:Object,default:function _default(){return null;}},filterAttributes:{type:Array,default:function _default(){return[];}},inputType:{type:String,default:'plain_text'},dataType:{type:String,default:'plain_text'},operators:{type:Array,default:function _default(){return[];}},dropdownValues:{type:Array,default:function _default(){return[];}},showQueryOperator:{type:Boolean,default:false},v:{type:Object,default:function _default(){return null;}},showUserInput:{type:Boolean,default:true},groupedFilters:{type:Boolean,default:false},filterGroups:{type:Array,default:function _default(){return[];}},customAttributeType:{type:String,default:''}},computed:{attributeKey:{get:function get(){if(!this.value)return null;return this.value.attribute_key;},set:function set(value){var payload=this.value||{};this.$emit('input',_objectSpread(_objectSpread({},payload),{},{attribute_key:value}));}},filterOperator:{get:function get(){if(!this.value)return null;return this.value.filter_operator;},set:function set(value){var payload=this.value||{};this.$emit('input',_objectSpread(_objectSpread({},payload),{},{filter_operator:value}));}},values:{get:function get(){if(!this.value)return null;return this.value.values;},set:function set(value){var payload=this.value||{};this.$emit('input',_objectSpread(_objectSpread({},payload),{},{values:value}));}},query_operator:{get:function get(){if(!this.value)return null;return this.value.query_operator;},set:function set(value){var payload=this.value||{};this.$emit('input',_objectSpread(_objectSpread({},payload),{},{query_operator:value}));}},custom_attribute_type:{get:function get(){if(!this.customAttributeType)return'';return this.customAttributeType;},set:function set(){var payload=this.value||{};this.$emit('input',_objectSpread(_objectSpread({},payload),{},{custom_attribute_type:this.customAttributeType}));}}},watch:{customAttributeType:{handler:function handler(value){if(value==='conversation_attribute'||value==='contact_attribute'){// eslint-disable-next-line vue/no-mutating-props\nthis.value.custom_attribute_type=this.customAttributeType;// eslint-disable-next-line vue/no-mutating-props\n}else this.value.custom_attribute_type='';},immediate:true}},methods:{removeFilter:function removeFilter(){this.$emit('removeFilter');},resetFilter:function resetFilter(){this.$emit('resetFilter');},getInputErrorClass:function getInputErrorClass(isDirty,hasError){return isDirty&&hasError?'bg-red-50 dark:bg-red-800/50 border-red-100 dark:border-red-700/50':'bg-slate-50 dark:bg-slate-800 border-slate-75 dark:border-slate-700/50';}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var FilterInput_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&\nvar Indexvue_type_style_index_0_id_de5a525e_prod_lang_scss_scoped_true_ = __webpack_require__(2741);\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/components/widgets/FilterInput/Index.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  FilterInput_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de5a525e\",\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"a\"] = (component.exports);\n\n/***/ }),\n\n/***/ 2741:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_de5a525e_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2680);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_de5a525e_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_de5a525e_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ 2991:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 2992:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 3127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_AddAutomationRule_vue_vue_type_style_index_0_id_75e0a7e0_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2991);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_AddAutomationRule_vue_vue_type_style_index_0_id_75e0a7e0_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_AddAutomationRule_vue_vue_type_style_index_0_id_75e0a7e0_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ 3128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_EditAutomationRule_vue_vue_type_style_index_0_id_ecb536c6_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2992);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_EditAutomationRule_vue_vue_type_style_index_0_id_ecb536c6_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_dist_cjs_js_ref_3_2_node_modules_sass_loader_dist_cjs_js_ref_3_3_node_modules_vue_loader_lib_index_js_vue_loader_options_EditAutomationRule_vue_vue_type_style_index_0_id_ecb536c6_prod_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ 3352:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?vue&type=template&id=28e6bac6&\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":function($event){return _vm.openAddPopup()}}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('AUTOMATION.HEADER_BTN_TXT'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row gap-4\"},[_c('div',{staticClass:\"w-full lg:w-3/5\"},[(!_vm.uiFlags.isFetching && !_vm.records.length)?_c('p',{staticClass:\"flex h-full items-center flex-col justify-center\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('AUTOMATION.LIST.404'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.uiFlags.isFetching)?_c('woot-loading-state',{attrs:{\"message\":_vm.$t('AUTOMATION.LOADING')}}):_vm._e(),_vm._v(\" \"),(!_vm.uiFlags.isFetching && _vm.records.length)?_c('table',{staticClass:\"woot-table\"},[_c('thead',_vm._l((_vm.$t('AUTOMATION.LIST.TABLE_HEADER')),function(thHeader){return _c('th',{key:thHeader},[_vm._v(\"\\n            \"+_vm._s(thHeader)+\"\\n          \")])}),0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.records),function(automation,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(automation.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(automation.description))]),_vm._v(\" \"),_c('td',[_c('woot-switch',{attrs:{\"value\":automation.active},on:{\"input\":function($event){return _vm.toggleAutomation(automation, automation.active)}}})],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.readableTime(automation.created_on)))]),_vm._v(\" \"),_c('td',{staticClass:\"button-wrapper\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.FORM.EDIT')),expression:\"$t('AUTOMATION.FORM.EDIT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id],\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.openEditPopup(automation)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.CLONE.TOOLTIP')),expression:\"$t('AUTOMATION.CLONE.TOOLTIP')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"primary\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id],\"icon\":\"copy\"},on:{\"click\":function($event){return _vm.cloneAutomation(automation.id)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.FORM.DELETE')),expression:\"$t('AUTOMATION.FORM.DELETE')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"color-scheme\":\"alert\",\"size\":\"tiny\",\"icon\":\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id]},on:{\"click\":function($event){return _vm.openDeletePopup(automation, index)}}})],1)])}),0)]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"hidden lg:block w-1/3\"},[_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.$t('AUTOMATION.SIDEBAR_TXT')),expression:\"$t('AUTOMATION.SIDEBAR_TXT')\"}]})])]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddPopup,\"size\":\"medium\",\"on-close\":_vm.hideAddPopup},on:{\"update:show\":function($event){_vm.showAddPopup=$event}}},[(_vm.showAddPopup)?_c('add-automation-rule',{attrs:{\"on-close\":_vm.hideAddPopup},on:{\"saveAutomation\":_vm.submitAutomation}}):_vm._e()],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('LABEL_MGMT.DELETE.CONFIRM.TITLE'),\"message\":_vm.$t('AUTOMATION.DELETE.CONFIRM.MESSAGE'),\"message-value\":_vm.deleteMessage,\"confirm-text\":_vm.deleteConfirmText,\"reject-text\":_vm.deleteRejectText},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showEditPopup,\"size\":\"medium\",\"on-close\":_vm.hideEditPopup},on:{\"update:show\":function($event){_vm.showEditPopup=$event}}},[(_vm.showEditPopup)?_c('edit-automation-rule',{attrs:{\"on-close\":_vm.hideEditPopup,\"selected-response\":_vm.selectedResponse},on:{\"saveAutomation\":_vm.submitAutomation}}):_vm._e()],1),_vm._v(\" \"),_c('woot-confirm-modal',{ref:\"confirmDialog\",attrs:{\"title\":_vm.toggleModalTitle,\"description\":_vm.toggleModalDescription}})],1)\n}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?vue&type=template&id=28e6bac6&\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.js\nvar vuex = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=template&id=75e0a7e0&scoped=true&\nvar AddAutomationRulevue_type_template_id_75e0a7e0_scoped_true_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AUTOMATION.ADD.TITLE')}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col modal-content\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.$v.automation.name.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.NAME.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.name.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.NAME.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.name.$touch},model:{value:(_vm.automation.name),callback:function ($$v) {_vm.$set(_vm.automation, \"name\", $$v)},expression:\"automation.name\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.$v.automation.description.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.DESC.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.description.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.DESC.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.description.$touch},model:{value:(_vm.automation.description),callback:function ($$v) {_vm.$set(_vm.automation, \"description\", $$v)},expression:\"automation.description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"event_wrapper\"},[_c('label',{class:{ error: _vm.$v.automation.event_name.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.automation.event_name),expression:\"automation.event_name\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.automation, \"event_name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.onEventChange()}]}},_vm._l((_vm.automationRuleEvents),function(event){return _c('option',{key:event.key,domProps:{\"value\":event.key}},[_vm._v(\"\\n              \"+_vm._s(event.value)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.automation.event_name.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.ERROR'))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.hasAutomationMutated)?_c('p',{staticClass:\"info-message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.FORM.RESET_MESSAGE'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.conditions),function(condition,i){return _c('filter-input-box',{key:i,attrs:{\"filter-attributes\":_vm.getAttributes(_vm.automation.event_name),\"input-type\":_vm.getInputType(_vm.automation.conditions[i].attribute_key),\"operators\":_vm.getOperators(_vm.automation.conditions[i].attribute_key),\"dropdown-values\":_vm.getConditionDropdownValues(\n                _vm.automation.conditions[i].attribute_key\n              ),\"show-query-operator\":i !== _vm.automation.conditions.length - 1,\"custom-attribute-type\":_vm.getCustomAttributeType(_vm.automation.conditions[i].attribute_key),\"v\":_vm.$v.automation.conditions.$each[i]},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.automation.conditions[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.automation.conditions[i]),callback:function ($$v) {_vm.$set(_vm.automation.conditions, i, $$v)},expression:\"automation.conditions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewCondition}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.ACTIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.actions),function(action,i){return _c('automation-action-input',{key:i,attrs:{\"action-types\":_vm.automationActionTypes,\"dropdown-values\":_vm.getActionDropdownValues(_vm.automation.actions[i].action_name),\"show-action-input\":_vm.showActionInput(_vm.automation.actions[i].action_name),\"v\":_vm.$v.automation.actions.$each[i]},on:{\"resetAction\":function($event){return _vm.resetAction(i)},\"removeAction\":function($event){return _vm.removeAction(i)}},model:{value:(_vm.automation.actions[i]),callback:function ($$v) {_vm.$set(_vm.automation.actions, i, $$v)},expression:\"automation.actions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewAction}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.ACTION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.CANCEL_BUTTON_TEXT'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.submitAutomation}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.SUBMIT'))+\"\\n          \")])],1)])],1)])],1)\n}\nvar AddAutomationRulevue_type_template_id_75e0a7e0_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=template&id=75e0a7e0&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./app/javascript/shared/mixins/alertMixin.js\nvar alertMixin = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__(158);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__(357);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__(322);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.iterator.js\nvar es_symbol_iterator = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/conversation/advancedFilterItems/languages.js\nvar languages = __webpack_require__(1928);\n\n// EXTERNAL MODULE: ./app/javascript/shared/constants/countries.js\nvar countries = __webpack_require__(1923);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/helper/automationHelper.js\nvar automationHelper = __webpack_require__(2985);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/mixins/automations/methodsMixin.js\nfunction _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!==\"undefined\"&&iter[Symbol.iterator]!=null||iter[\"@@iterator\"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var methodsMixin = ({computed:_objectSpread(_objectSpread({},Object(vuex[\"mapGetters\"])({agents:'agents/getAgents',campaigns:'campaigns/getAllCampaigns',contacts:'contacts/getContacts',inboxes:'inboxes/getInboxes',labels:'labels/getLabels',teams:'teams/getTeams',slaPolicies:'sla/getSLA'})),{},{booleanFilterOptions:function booleanFilterOptions(){return[{id:true,name:this.$t('FILTER.ATTRIBUTE_LABELS.TRUE')},{id:false,name:this.$t('FILTER.ATTRIBUTE_LABELS.FALSE')}];},statusFilterOptions:function statusFilterOptions(){var statusFilters=this.$t('CHAT_LIST.CHAT_STATUS_FILTER_ITEMS');return[].concat(_toConsumableArray(Object.keys(statusFilters).map(function(status){return{id:status,name:statusFilters[status].TEXT};})),[{id:'all',name:this.$t('CHAT_LIST.FILTER_ALL')}]);}}),methods:{getFileName:automationHelper[\"k\" /* getFileName */],onEventChange:function onEventChange(){this.automation.conditions=Object(automationHelper[\"j\" /* getDefaultConditions */])(this.automation.event_name);this.automation.actions=Object(automationHelper[\"i\" /* getDefaultActions */])();},getAttributes:function getAttributes(key){return this.automationTypes[key].conditions;},getInputType:function getInputType(key){var customAttribute=Object(automationHelper[\"n\" /* isACustomAttribute */])(this.allCustomAttributes,key);if(customAttribute){return Object(automationHelper[\"h\" /* getCustomAttributeInputType */])(customAttribute.attribute_display_type);}var type=this.getAutomationType(key);return type.inputType;},getOperators:function getOperators(key){if(this.mode==='edit'){var customAttribute=Object(automationHelper[\"n\" /* isACustomAttribute */])(this.allCustomAttributes,key);if(customAttribute){return Object(automationHelper[\"l\" /* getOperatorTypes */])(customAttribute.attribute_display_type);}}var type=this.getAutomationType(key);return type.filterOperators;},getAutomationType:function getAutomationType(key){return this.automationTypes[this.automation.event_name].conditions.find(function(condition){return condition.key===key;});},getCustomAttributeType:function getCustomAttributeType(key){var type=this.automationTypes[this.automation.event_name].conditions.find(function(i){return i.key===key;}).customAttributeType;return type;},getConditionDropdownValues:function getConditionDropdownValues(type){var agents=this.agents,customAttributes=this.allCustomAttributes,booleanFilterOptions=this.booleanFilterOptions,campaigns=this.campaigns,contacts=this.contacts,inboxes=this.inboxes,statusFilterOptions=this.statusFilterOptions,teams=this.teams;return Object(automationHelper[\"g\" /* getConditionOptions */])({agents:agents,booleanFilterOptions:booleanFilterOptions,campaigns:campaigns,contacts:contacts,customAttributes:customAttributes,inboxes:inboxes,statusFilterOptions:statusFilterOptions,teams:teams,languages:languages[\"a\" /* default */],countries:countries[\"a\" /* default */],type:type});},appendNewCondition:function appendNewCondition(){var _this$automation$cond;(_this$automation$cond=this.automation.conditions).push.apply(_this$automation$cond,_toConsumableArray(Object(automationHelper[\"j\" /* getDefaultConditions */])(this.automation.event_name)));},appendNewAction:function appendNewAction(){var _this$automation$acti;(_this$automation$acti=this.automation.actions).push.apply(_this$automation$acti,_toConsumableArray(Object(automationHelper[\"i\" /* getDefaultActions */])()));},removeFilter:function removeFilter(index){if(this.automation.conditions.length<=1){this.showAlert(this.$t('AUTOMATION.CONDITION.DELETE_MESSAGE'));}else{this.automation.conditions.splice(index,1);}},removeAction:function removeAction(index){if(this.automation.actions.length<=1){this.showAlert(this.$t('AUTOMATION.ACTION.DELETE_MESSAGE'));}else{this.automation.actions.splice(index,1);}},submitAutomation:function submitAutomation(){this.$v.$touch();if(this.$v.$invalid)return;var automation=Object(automationHelper[\"c\" /* generateAutomationPayload */])(this.automation);this.$emit('saveAutomation',automation,this.mode);},resetFilter:function resetFilter(index,currentCondition){this.automation.conditions[index].filter_operator=this.automationTypes[this.automation.event_name].conditions.find(function(condition){return condition.key===currentCondition.attribute_key;}).filterOperators[0].value;this.automation.conditions[index].values='';},showUserInput:function showUserInput(type){return!(type==='is_present'||type==='is_not_present');},showActionInput:function showActionInput(action){if(action==='send_email_to_team'||action==='send_message')return false;var type=this.automationActionTypes.find(function(i){return i.key===action;}).inputType;return!!type;},resetAction:function resetAction(index){this.automation.actions[index].action_params=[];},manifestConditions:function manifestConditions(automation){var _this=this;var customAttributes=Object(automationHelper[\"b\" /* filterCustomAttributes */])(this.allCustomAttributes);var conditions=automation.conditions.map(function(condition){var customAttr=Object(automationHelper[\"o\" /* isCustomAttribute */])(customAttributes,condition.attribute_key);var inputType='plain_text';if(customAttr){inputType=Object(automationHelper[\"h\" /* getCustomAttributeInputType */])(customAttr.type);}else{inputType=Object(automationHelper[\"m\" /* getStandardAttributeInputType */])(_this.automationTypes,automation.event_name,condition.attribute_key);}if(inputType==='plain_text'||inputType==='date'){return _objectSpread(_objectSpread({},condition),{},{values:condition.values[0]});}if(inputType==='comma_separated_plain_text'){return _objectSpread(_objectSpread({},condition),{},{values:condition.values.join(',')});}return _objectSpread(_objectSpread({},condition),{},{query_operator:condition.query_operator||'and',values:_toConsumableArray(_this.getConditionDropdownValues(condition.attribute_key)).filter(function(item){return _toConsumableArray(condition.values).includes(item.id);})});});return conditions;},generateActionsArray:function generateActionsArray(action){var params=action.action_params;var actionParams=[];var inputType=this.automationActionTypes.find(function(item){return item.key===action.action_name;}).inputType;if(inputType==='multi_select'||inputType==='search_select'){actionParams=_toConsumableArray(this.getActionDropdownValues(action.action_name)).filter(function(item){return _toConsumableArray(params).includes(item.id);});}else if(inputType==='team_message'){actionParams={team_ids:_toConsumableArray(this.getActionDropdownValues(action.action_name)).filter(function(item){return _toConsumableArray(params[0].team_ids).includes(item.id);}),message:params[0].message};}else actionParams=_toConsumableArray(params);return actionParams;},manifestActions:function manifestActions(automation){var _this2=this;var actionParams=[];var actions=automation.actions.map(function(action){if(action.action_params.length){actionParams=_this2.generateActionsArray(action);}return _objectSpread(_objectSpread({},action),{},{action_params:actionParams});});return actions;},formatAutomation:function formatAutomation(automation){this.automation=_objectSpread(_objectSpread({},automation),{},{conditions:this.manifestConditions(automation),actions:this.manifestActions(automation)});},getActionDropdownValues:function getActionDropdownValues(type){var agents=this.agents,labels=this.labels,teams=this.teams,slaPolicies=this.slaPolicies;return Object(automationHelper[\"f\" /* getActionOptions */])({agents:agents,labels:labels,teams:teams,slaPolicies:slaPolicies,languages:languages[\"a\" /* default */],type:type});},manifestCustomAttributes:function manifestCustomAttributes(){var _this$automationTypes,_this$automationTypes2,_this$automationTypes3,_this$automationTypes4;var conversationCustomAttributesRaw=this.$store.getters['attributes/getAttributesByModel']('conversation_attribute');var contactCustomAttributesRaw=this.$store.getters['attributes/getAttributesByModel']('contact_attribute');var conversationCustomAttributeTypes=Object(automationHelper[\"d\" /* generateCustomAttributeTypes */])(conversationCustomAttributesRaw,'conversation_attribute');var contactCustomAttributeTypes=Object(automationHelper[\"d\" /* generateCustomAttributeTypes */])(contactCustomAttributesRaw,'contact_attribute');var manifestedCustomAttributes=Object(automationHelper[\"e\" /* generateCustomAttributes */])(conversationCustomAttributeTypes,contactCustomAttributeTypes,this.$t('AUTOMATION.CONDITION.CONVERSATION_CUSTOM_ATTR_LABEL'),this.$t('AUTOMATION.CONDITION.CONTACT_CUSTOM_ATTR_LABEL'));(_this$automationTypes=this.automationTypes.message_created.conditions).push.apply(_this$automationTypes,_toConsumableArray(manifestedCustomAttributes));(_this$automationTypes2=this.automationTypes.conversation_created.conditions).push.apply(_this$automationTypes2,_toConsumableArray(manifestedCustomAttributes));(_this$automationTypes3=this.automationTypes.conversation_updated.conditions).push.apply(_this$automationTypes3,_toConsumableArray(manifestedCustomAttributes));(_this$automationTypes4=this.automationTypes.conversation_opened.conditions).push.apply(_this$automationTypes4,_toConsumableArray(manifestedCustomAttributes));}}});\n// EXTERNAL MODULE: ./node_modules/vuelidate/lib/validators/index.js\nvar validators = __webpack_require__(66);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/mixins/automations/validationsMixin.js\n/* harmony default export */ var validationsMixin = ({validations:{automation:{name:{required:validators[\"required\"]},description:{required:validators[\"required\"]},event_name:{required:validators[\"required\"]},conditions:{required:validators[\"required\"],$each:{values:{required:Object(validators[\"requiredIf\"])(function(prop){return!(prop.filter_operator==='is_present'||prop.filter_operator==='is_not_present');})}}},actions:{required:validators[\"required\"],$each:{action_params:{required:Object(validators[\"requiredIf\"])(function(prop){return!(prop.action_name==='mute_conversation'||prop.action_name==='snooze_conversation'||prop.action_name==='resolve_conversation');})}}}}}});\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/FilterInput/Index.vue + 4 modules\nvar Index = __webpack_require__(2735);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/components/widgets/AutomationActionInput.vue + 14 modules\nvar AutomationActionInput = __webpack_require__(2957);\n\n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/operators.js\nvar operators = __webpack_require__(2986);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/constants.js\nvar AUTOMATIONS={message_created:{conditions:[{key:'message_type',name:'Message Type',attributeI18nKey:'MESSAGE_TYPE',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'content',name:'Message Content',attributeI18nKey:'MESSAGE_CONTAINS',inputType:'comma_separated_plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'email',name:'Email',attributeI18nKey:'EMAIL',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'inbox_id',name:'Inbox',attributeI18nKey:'INBOX',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'conversation_language',name:'Conversation Language',attributeI18nKey:'CONVERSATION_LANGUAGE',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'phone_number',name:'Phone Number',attributeI18nKey:'PHONE_NUMBER',inputType:'plain_text',filterOperators:operators[\"e\" /* OPERATOR_TYPES_6 */]}],actions:[{key:'assign_agent',name:'Assign to agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'assign_team',name:'Assign a team',attributeI18nKey:'ASSIGN_TEAM'},{key:'add_label',name:'Add a label',attributeI18nKey:'ADD_LABEL'},{key:'remove_label',name:'Remove a label',attributeI18nKey:'REMOVE_LABEL'},{key:'send_email_to_team',name:'Send an email to team',attributeI18nKey:'SEND_EMAIL_TO_TEAM'},{key:'send_message',name:'Send a message',attributeI18nKey:'SEND_MESSAGE'},{key:'send_email_transcript',name:'Send an email transcript',attributeI18nKey:'SEND_EMAIL_TRANSCRIPT'},{key:'mute_conversation',name:'Mute conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'snooze_conversation',name:'Snooze conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'resolve_conversation',name:'Resolve conversation',attributeI18nKey:'RESOLVE_CONVERSATION'},{key:'send_webhook_event',name:'Send Webhook Event',attributeI18nKey:'SEND_WEBHOOK_EVENT'},{key:'send_attachment',name:'Send Attachment',attributeI18nKey:'SEND_ATTACHMENT'}]},conversation_created:{conditions:[{key:'status',name:'Status',attributeI18nKey:'STATUS',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'browser_language',name:'Browser Language',attributeI18nKey:'BROWSER_LANGUAGE',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'mail_subject',name:'Email Subject',attributeI18nKey:'MAIL_SUBJECT',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'country_code',name:'Country',attributeI18nKey:'COUNTRY_NAME',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'phone_number',name:'Phone Number',attributeI18nKey:'PHONE_NUMBER',inputType:'plain_text',filterOperators:operators[\"e\" /* OPERATOR_TYPES_6 */]},{key:'referer',name:'Referrer Link',attributeI18nKey:'REFERER_LINK',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'email',name:'Email',attributeI18nKey:'EMAIL',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'inbox_id',name:'Inbox',attributeI18nKey:'INBOX',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'conversation_language',name:'Conversation Language',attributeI18nKey:'CONVERSATION_LANGUAGE',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'priority',name:'Priority',attributeI18nKey:'PRIORITY',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]}],actions:[{key:'assign_agent',name:'Assign to agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'assign_team',name:'Assign a team',attributeI18nKey:'ASSIGN_TEAM'},{key:'assign_agent',name:'Assign an agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'send_email_to_team',name:'Send an email to team',attributeI18nKey:'SEND_EMAIL_TO_TEAM'},{key:'send_message',name:'Send a message',attributeI18nKey:'SEND_MESSAGE'},{key:'send_email_transcript',name:'Send an email transcript',attributeI18nKey:'SEND_EMAIL_TRANSCRIPT'},{key:'mute_conversation',name:'Mute conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'snooze_conversation',name:'Snooze conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'resolve_conversation',name:'Resolve conversation',attributeI18nKey:'RESOLVE_CONVERSATION'},{key:'send_webhook_event',name:'Send Webhook Event',attributeI18nKey:'SEND_WEBHOOK_EVENT'},{key:'send_attachment',name:'Send Attachment',attributeI18nKey:'SEND_ATTACHMENT'}]},conversation_updated:{conditions:[{key:'status',name:'Status',attributeI18nKey:'STATUS',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'browser_language',name:'Browser Language',attributeI18nKey:'BROWSER_LANGUAGE',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'mail_subject',name:'Email Subject',attributeI18nKey:'MAIL_SUBJECT',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'country_code',name:'Country',attributeI18nKey:'COUNTRY_NAME',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'referer',name:'Referrer Link',attributeI18nKey:'REFERER_LINK',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'phone_number',name:'Phone Number',attributeI18nKey:'PHONE_NUMBER',inputType:'plain_text',filterOperators:operators[\"e\" /* OPERATOR_TYPES_6 */]},{key:'assignee_id',name:'Assignee',attributeI18nKey:'ASSIGNEE_NAME',inputType:'search_select',filterOperators:operators[\"c\" /* OPERATOR_TYPES_3 */]},{key:'team_id',name:'Team',attributeI18nKey:'TEAM_NAME',inputType:'search_select',filterOperators:operators[\"c\" /* OPERATOR_TYPES_3 */]},{key:'email',name:'Email',attributeI18nKey:'EMAIL',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'inbox_id',name:'Inbox',attributeI18nKey:'INBOX',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'conversation_language',name:'Conversation Language',attributeI18nKey:'CONVERSATION_LANGUAGE',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'priority',name:'Priority',attributeI18nKey:'PRIORITY',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]}],actions:[{key:'assign_agent',name:'Assign to agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'assign_team',name:'Assign a team',attributeI18nKey:'ASSIGN_TEAM'},{key:'assign_agent',name:'Assign an agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'send_email_to_team',name:'Send an email to team',attributeI18nKey:'SEND_EMAIL_TO_TEAM'},{key:'send_message',name:'Send a message',attributeI18nKey:'SEND_MESSAGE'},{key:'send_email_transcript',name:'Send an email transcript',attributeI18nKey:'SEND_EMAIL_TRANSCRIPT'},{key:'mute_conversation',name:'Mute conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'snooze_conversation',name:'Snooze conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'resolve_conversation',name:'Resolve conversation',attributeI18nKey:'RESOLVE_CONVERSATION'},{key:'send_webhook_event',name:'Send Webhook Event',attributeI18nKey:'SEND_WEBHOOK_EVENT'},{key:'send_attachment',name:'Send Attachment',attributeI18nKey:'SEND_ATTACHMENT'}]},conversation_opened:{conditions:[{key:'browser_language',name:'Browser Language',attributeI18nKey:'BROWSER_LANGUAGE',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'email',name:'Email',attributeI18nKey:'EMAIL',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'mail_subject',name:'Email Subject',attributeI18nKey:'MAIL_SUBJECT',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'country_code',name:'Country',attributeI18nKey:'COUNTRY_NAME',inputType:'search_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'referer',name:'Referrer Link',attributeI18nKey:'REFERER_LINK',inputType:'plain_text',filterOperators:operators[\"b\" /* OPERATOR_TYPES_2 */]},{key:'assignee_id',name:'Assignee',attributeI18nKey:'ASSIGNEE_NAME',inputType:'search_select',filterOperators:operators[\"c\" /* OPERATOR_TYPES_3 */]},{key:'phone_number',name:'Phone Number',attributeI18nKey:'PHONE_NUMBER',inputType:'plain_text',filterOperators:operators[\"e\" /* OPERATOR_TYPES_6 */]},{key:'team_id',name:'Team',attributeI18nKey:'TEAM_NAME',inputType:'search_select',filterOperators:operators[\"c\" /* OPERATOR_TYPES_3 */]},{key:'inbox_id',name:'Inbox',attributeI18nKey:'INBOX',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'conversation_language',name:'Conversation Language',attributeI18nKey:'CONVERSATION_LANGUAGE',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]},{key:'priority',name:'Priority',attributeI18nKey:'PRIORITY',inputType:'multi_select',filterOperators:operators[\"a\" /* OPERATOR_TYPES_1 */]}],actions:[{key:'assign_agent',name:'Assign to agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'assign_team',name:'Assign a team',attributeI18nKey:'ASSIGN_TEAM'},{key:'assign_agent',name:'Assign an agent',attributeI18nKey:'ASSIGN_AGENT'},{key:'send_email_to_team',name:'Send an email to team',attributeI18nKey:'SEND_EMAIL_TO_TEAM'},{key:'send_message',name:'Send a message',attributeI18nKey:'SEND_MESSAGE'},{key:'send_email_transcript',name:'Send an email transcript',attributeI18nKey:'SEND_EMAIL_TRANSCRIPT'},{key:'mute_conversation',name:'Mute conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'snooze_conversation',name:'Snooze conversation',attributeI18nKey:'MUTE_CONVERSATION'},{key:'send_webhook_event',name:'Send Webhook Event',attributeI18nKey:'SEND_WEBHOOK_EVENT'},{key:'send_attachment',name:'Send Attachment',attributeI18nKey:'SEND_ATTACHMENT'}]}};var AUTOMATION_RULE_EVENTS=[{key:'conversation_created',value:'Conversation Created'},{key:'conversation_updated',value:'Conversation Updated'},{key:'message_created',value:'Message Created'},{key:'conversation_opened',value:'Conversation Opened'}];var AUTOMATION_ACTION_TYPES=[{key:'assign_agent',label:'Assign to agent',inputType:'search_select'},{key:'assign_team',label:'Assign a team',inputType:'search_select'},{key:'add_label',label:'Add a label',inputType:'multi_select'},{key:'remove_label',label:'Remove a label',inputType:'multi_select'},{key:'send_email_to_team',label:'Send an email to team',inputType:'team_message'},{key:'send_email_transcript',label:'Send an email transcript',inputType:'email'},{key:'mute_conversation',label:'Mute conversation',inputType:null},{key:'snooze_conversation',label:'Snooze conversation',inputType:null},{key:'resolve_conversation',label:'Resolve conversation',inputType:null},{key:'send_webhook_event',label:'Send Webhook Event',inputType:'url'},{key:'send_attachment',label:'Send Attachment',inputType:'attachment'},{key:'send_message',label:'Send a message',inputType:'textarea'},{key:'change_priority',label:'Change Priority',inputType:'search_select'},{key:'add_sla',label:'Add SLA',inputType:'search_select'}];\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=script&lang=js&\nfunction AddAutomationRulevue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function AddAutomationRulevue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){AddAutomationRulevue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){AddAutomationRulevue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{AddAutomationRulevue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function AddAutomationRulevue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var AddAutomationRulevue_type_script_lang_js_ = ({components:{filterInputBox:Index[\"a\" /* default */],automationActionInput:AutomationActionInput[\"a\" /* default */]},mixins:[alertMixin[\"a\" /* default */],methodsMixin,validationsMixin],props:{onClose:{type:Function,default:function _default(){}}},data:function data(){return{automationTypes:JSON.parse(JSON.stringify(AUTOMATIONS)),automationRuleEvent:AUTOMATION_RULE_EVENTS[0].key,automationRuleEvents:AUTOMATION_RULE_EVENTS,automationMutated:false,show:true,automation:{name:null,description:null,event_name:'conversation_created',conditions:[{attribute_key:'status',filter_operator:'equal_to',values:'',query_operator:'and',custom_attribute_type:''}],actions:[{action_name:'assign_agent',action_params:[]}]},showDeleteConfirmationModal:false,allCustomAttributes:[],mode:'create'};},computed:AddAutomationRulevue_type_script_lang_js_objectSpread(AddAutomationRulevue_type_script_lang_js_objectSpread({},Object(vuex[\"mapGetters\"])({accountId:'getCurrentAccountId',isFeatureEnabledonAccount:'accounts/isFeatureEnabledonAccount'})),{},{hasAutomationMutated:function hasAutomationMutated(){if(this.automation.conditions[0].values||this.automation.actions[0].action_params.length)return true;return false;},automationActionTypes:function automationActionTypes(){var isSLAEnabled=this.isFeatureEnabled('sla');return isSLAEnabled?AUTOMATION_ACTION_TYPES:AUTOMATION_ACTION_TYPES.filter(function(action){return action.key!=='add_sla';});}}),mounted:function mounted(){this.$store.dispatch('inboxes/get');this.$store.dispatch('agents/get');this.$store.dispatch('contacts/get');this.$store.dispatch('teams/get');this.$store.dispatch('labels/get');this.$store.dispatch('campaigns/get');this.allCustomAttributes=this.$store.getters['attributes/getAttributes'];this.manifestCustomAttributes();},methods:{isFeatureEnabled:function isFeatureEnabled(flag){return this.isFeatureEnabledonAccount(this.accountId,flag);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=script&lang=js&\n /* harmony default export */ var automation_AddAutomationRulevue_type_script_lang_js_ = (AddAutomationRulevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=style&index=0&id=75e0a7e0&prod&lang=scss&scoped=true&\nvar AddAutomationRulevue_type_style_index_0_id_75e0a7e0_prod_lang_scss_scoped_true_ = __webpack_require__(3127);\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  automation_AddAutomationRulevue_type_script_lang_js_,\n  AddAutomationRulevue_type_template_id_75e0a7e0_scoped_true_render,\n  AddAutomationRulevue_type_template_id_75e0a7e0_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"75e0a7e0\",\n  null\n  \n)\n\n/* harmony default export */ var AddAutomationRule = (component.exports);\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=template&id=ecb536c6&scoped=true&\nvar EditAutomationRulevue_type_template_id_ecb536c6_scoped_true_render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AUTOMATION.EDIT.TITLE')}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col modal-content\"},[(_vm.automation)?_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.$v.automation.name.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.NAME.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.name.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.NAME.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.name.$touch},model:{value:(_vm.automation.name),callback:function ($$v) {_vm.$set(_vm.automation, \"name\", $$v)},expression:\"automation.name\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.$v.automation.description.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.DESC.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.description.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.DESC.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.description.$touch},model:{value:(_vm.automation.description),callback:function ($$v) {_vm.$set(_vm.automation, \"description\", $$v)},expression:\"automation.description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"event_wrapper\"},[_c('label',{class:{ error: _vm.$v.automation.event_name.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.automation.event_name),expression:\"automation.event_name\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.automation, \"event_name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.onEventChange()}]}},_vm._l((_vm.automationRuleEvents),function(event){return _c('option',{key:event.key,domProps:{\"value\":event.key}},[_vm._v(\"\\n              \"+_vm._s(event.value)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.automation.event_name.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.conditions),function(condition,i){return _c('filter-input-box',{key:i,attrs:{\"filter-attributes\":_vm.getAttributes(_vm.automation.event_name),\"input-type\":_vm.getInputType(_vm.automation.conditions[i].attribute_key),\"operators\":_vm.getOperators(_vm.automation.conditions[i].attribute_key),\"dropdown-values\":_vm.getConditionDropdownValues(\n                _vm.automation.conditions[i].attribute_key\n              ),\"custom-attribute-type\":_vm.getCustomAttributeType(_vm.automation.conditions[i].attribute_key),\"show-query-operator\":i !== _vm.automation.conditions.length - 1,\"v\":_vm.$v.automation.conditions.$each[i]},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.automation.conditions[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.automation.conditions[i]),callback:function ($$v) {_vm.$set(_vm.automation.conditions, i, $$v)},expression:\"automation.conditions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewCondition}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.ACTIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.actions),function(action,i){return _c('automation-action-input',{key:i,attrs:{\"action-types\":_vm.automationActionTypes,\"dropdown-values\":_vm.getActionDropdownValues(action.action_name),\"show-action-input\":_vm.showActionInput(action.action_name),\"v\":_vm.$v.automation.actions.$each[i],\"initial-file-name\":_vm.getFileName(action, _vm.automation.files)},on:{\"resetAction\":function($event){return _vm.resetAction(i)},\"removeAction\":function($event){return _vm.removeAction(i)}},model:{value:(_vm.automation.actions[i]),callback:function ($$v) {_vm.$set(_vm.automation.actions, i, $$v)},expression:\"automation.actions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewAction}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.ACTION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{staticClass:\"button\",attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.EDIT.CANCEL_BUTTON_TEXT'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.submitAutomation}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.EDIT.SUBMIT'))+\"\\n          \")])],1)])],1):_vm._e()])],1)\n}\nvar EditAutomationRulevue_type_template_id_ecb536c6_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=template&id=ecb536c6&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=script&lang=js&\nfunction EditAutomationRulevue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function EditAutomationRulevue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){EditAutomationRulevue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){EditAutomationRulevue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{EditAutomationRulevue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function EditAutomationRulevue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var EditAutomationRulevue_type_script_lang_js_ = ({components:{filterInputBox:Index[\"a\" /* default */],automationActionInput:AutomationActionInput[\"a\" /* default */]},mixins:[alertMixin[\"a\" /* default */],methodsMixin,validationsMixin],props:{onClose:{type:Function,default:function _default(){}},selectedResponse:{type:Object,default:function _default(){}}},data:function data(){return{automationTypes:JSON.parse(JSON.stringify(AUTOMATIONS)),automationRuleEvent:AUTOMATION_RULE_EVENTS[0].key,automationRuleEvents:AUTOMATION_RULE_EVENTS,automationMutated:false,show:true,automation:null,showDeleteConfirmationModal:false,allCustomAttributes:[],mode:'edit'};},computed:EditAutomationRulevue_type_script_lang_js_objectSpread(EditAutomationRulevue_type_script_lang_js_objectSpread({},Object(vuex[\"mapGetters\"])({accountId:'getCurrentAccountId',isFeatureEnabledonAccount:'accounts/isFeatureEnabledonAccount'})),{},{hasAutomationMutated:function hasAutomationMutated(){if(this.automation.conditions[0].values||this.automation.actions[0].action_params.length)return true;return false;},automationActionTypes:function automationActionTypes(){var isSLAEnabled=this.isFeatureEnabled('sla');return isSLAEnabled?AUTOMATION_ACTION_TYPES:AUTOMATION_ACTION_TYPES.filter(function(action){return action.key!=='add_sla';});}}),mounted:function mounted(){this.manifestCustomAttributes();this.allCustomAttributes=this.$store.getters['attributes/getAttributes'];this.formatAutomation(this.selectedResponse);},methods:{isFeatureEnabled:function isFeatureEnabled(flag){return this.isFeatureEnabledonAccount(this.accountId,flag);}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=script&lang=js&\n /* harmony default export */ var automation_EditAutomationRulevue_type_script_lang_js_ = (EditAutomationRulevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=style&index=0&id=ecb536c6&prod&lang=scss&scoped=true&\nvar EditAutomationRulevue_type_style_index_0_id_ecb536c6_prod_lang_scss_scoped_true_ = __webpack_require__(3128);\n\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar EditAutomationRule_component = Object(componentNormalizer[\"a\" /* default */])(\n  automation_EditAutomationRulevue_type_script_lang_js_,\n  EditAutomationRulevue_type_template_id_ecb536c6_scoped_true_render,\n  EditAutomationRulevue_type_template_id_ecb536c6_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"ecb536c6\",\n  null\n  \n)\n\n/* harmony default export */ var EditAutomationRule = (EditAutomationRule_component.exports);\n// EXTERNAL MODULE: ./app/javascript/dashboard/mixins/time.js\nvar time = __webpack_require__(1917);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?vue&type=script&lang=js&\nfunction asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err);}_next(undefined);});};}function Indexvue_type_script_lang_js_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Indexvue_type_script_lang_js_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Indexvue_type_script_lang_js_ownKeys(Object(source),true).forEach(function(key){Indexvue_type_script_lang_js_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Indexvue_type_script_lang_js_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function Indexvue_type_script_lang_js_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/* harmony default export */ var Indexvue_type_script_lang_js_ = ({components:{AddAutomationRule:AddAutomationRule,EditAutomationRule:EditAutomationRule},mixins:[alertMixin[\"a\" /* default */],time[\"a\" /* default */]],data:function data(){return{loading:{},showAddPopup:false,showEditPopup:false,showDeleteConfirmationPopup:false,selectedResponse:{},toggleModalTitle:this.$t('AUTOMATION.TOGGLE.ACTIVATION_TITLE'),toggleModalDescription:this.$t('AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION')};},computed:Indexvue_type_script_lang_js_objectSpread(Indexvue_type_script_lang_js_objectSpread({},Object(vuex[\"mapGetters\"])({records:['automations/getAutomations'],uiFlags:'automations/getUIFlags',accountId:'getCurrentAccountId',isFeatureEnabledonAccount:'accounts/isFeatureEnabledonAccount'})),{},{// Delete Modal\ndeleteConfirmText:function deleteConfirmText(){return\"\".concat(this.$t('AUTOMATION.DELETE.CONFIRM.YES'),\" \").concat(this.selectedResponse.name);},deleteRejectText:function deleteRejectText(){return\"\".concat(this.$t('AUTOMATION.DELETE.CONFIRM.NO'),\" \").concat(this.selectedResponse.name);},deleteMessage:function deleteMessage(){return\" \".concat(this.selectedResponse.name,\"?\");},isSLAEnabled:function isSLAEnabled(){return this.isFeatureEnabledonAccount(this.accountId,'sla');}}),mounted:function mounted(){this.$store.dispatch('inboxes/get');this.$store.dispatch('agents/get');this.$store.dispatch('contacts/get');this.$store.dispatch('teams/get');this.$store.dispatch('labels/get');this.$store.dispatch('campaigns/get');this.$store.dispatch('automations/get');if(this.isSLAEnabled)this.$store.dispatch('sla/get');},methods:{openAddPopup:function openAddPopup(){this.showAddPopup=true;},hideAddPopup:function hideAddPopup(){this.showAddPopup=false;},openEditPopup:function openEditPopup(response){this.selectedResponse=response;this.showEditPopup=true;},hideEditPopup:function hideEditPopup(){this.showEditPopup=false;},openDeletePopup:function openDeletePopup(response){this.showDeleteConfirmationPopup=true;this.selectedResponse=response;},closeDeletePopup:function closeDeletePopup(){this.showDeleteConfirmationPopup=false;},confirmDeletion:function confirmDeletion(){this.loading[this.selectedResponse.id]=true;this.closeDeletePopup();this.deleteAutomation(this.selectedResponse.id);},deleteAutomation:function deleteAutomation(id){var _this=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.$store.dispatch('automations/delete',id);case 3:_this.showAlert(_this.$t('AUTOMATION.DELETE.API.SUCCESS_MESSAGE'));_this.loading[_this.selectedResponse.id]=false;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);_this.showAlert(_this.$t('AUTOMATION.DELETE.API.ERROR_MESSAGE'));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},cloneAutomation:function cloneAutomation(id){var _this2=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _this2.$store.dispatch('automations/clone',id);case 3:_this2.showAlert(_this2.$t('AUTOMATION.CLONE.API.SUCCESS_MESSAGE'));_this2.$store.dispatch('automations/get');_this2.loading[_this2.selectedResponse.id]=false;_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_this2.showAlert(_this2.$t('AUTOMATION.CLONE.API.ERROR_MESSAGE'));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}))();},submitAutomation:function submitAutomation(payload,mode){var _this3=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){var action,successMessage,errorMessage;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;action=mode==='edit'?'automations/update':'automations/create';successMessage=mode==='edit'?_this3.$t('AUTOMATION.EDIT.API.SUCCESS_MESSAGE'):_this3.$t('AUTOMATION.ADD.API.SUCCESS_MESSAGE');_context3.next=5;return _this3.$store.dispatch(action,payload);case 5:_this3.showAlert(successMessage);_this3.hideAddPopup();_this3.hideEditPopup();_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);errorMessage=mode==='edit'?_this3.$t('AUTOMATION.EDIT.API.ERROR_MESSAGE'):_this3.$t('AUTOMATION.ADD.API.ERROR_MESSAGE');_this3.showAlert(errorMessage);case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}))();},toggleAutomation:function toggleAutomation(automation,status){var _this4=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(){var ok,message;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_this4.toggleModalTitle=status?_this4.$t('AUTOMATION.TOGGLE.DEACTIVATION_TITLE'):_this4.$t('AUTOMATION.TOGGLE.ACTIVATION_TITLE');_this4.toggleModalDescription=status?_this4.$t('AUTOMATION.TOGGLE.DEACTIVATION_DESCRIPTION',{automationName:automation.name}):_this4.$t('AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION',{automationName:automation.name});// Check if user confirms to proceed\n_context4.next=5;return _this4.$refs.confirmDialog.showConfirmation();case 5:ok=_context4.sent;if(!ok){_context4.next=11;break;}_context4.next=9;return _this4.$store.dispatch('automations/update',{id:automation.id,active:!status});case 9:message=status?_this4.$t('AUTOMATION.TOGGLE.DEACTIVATION_SUCCESFUL'):_this4.$t('AUTOMATION.TOGGLE.ACTIVATION_SUCCESFUL');_this4.showAlert(message);case 11:_context4.next=16;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](0);_this4.showAlert(_this4.$t('AUTOMATION.EDIT.API.ERROR_MESSAGE'));case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[0,13]]);}))();},readableTime:function readableTime(date){return this.messageStamp(new Date(date),'LLL d, h:mm a');}}});\n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var automation_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  automation_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var automation_Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=template&id=de5a525e&scoped=true&","app/javascript/dashboard/components/widgets/FilterInput/Index.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/FilterInput/Index.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/FilterInput/Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=style&index=0&id=75e0a7e0&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=style&index=0&id=ecb536c6&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=style&index=0&id=75e0a7e0&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/mini-css-extract-plugin/dist/loader.js!/home/chatwoot/chatwoot/node_modules/css-loader/dist/cjs.js??ref--3-1!/home/chatwoot/chatwoot/node_modules/postcss-loader/dist/cjs.js??ref--3-2!/home/chatwoot/chatwoot/node_modules/sass-loader/dist/cjs.js??ref--3-3!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=style&index=0&id=ecb536c6&prod&lang=scss&scoped=true&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?vue&type=template&id=28e6bac6&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=template&id=75e0a7e0&scoped=true&","/home/chatwoot/chatwoot/app/javascript/dashboard/mixins/automations/methodsMixin.js","/home/chatwoot/chatwoot/app/javascript/dashboard/mixins/automations/validationsMixin.js","/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/constants.js","app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/AddAutomationRule.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--5!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=template&id=ecb536c6&scoped=true&","app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/EditAutomationRule.vue","app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/home/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--7-0!/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue?vue&type=script&lang=js&","/home/chatwoot/chatwoot/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/automation/Index.vue"],"names":["computed","mapGetters","agents","campaigns","contacts","inboxes","labels","teams","slaPolicies","booleanFilterOptions","id","name","$t","statusFilterOptions","statusFilters","Object","keys","map","status","TEXT","methods","getFileName","onEventChange","automation","conditions","getDefaultConditions","event_name","actions","getDefaultActions","getAttributes","key","automationTypes","getInputType","customAttribute","isACustomAttribute","allCustomAttributes","getCustomAttributeInputType","attribute_display_type","type","getAutomationType","inputType","getOperators","mode","getOperatorTypes","filterOperators","find","condition","getCustomAttributeType","i","customAttributeType","getConditionDropdownValues","customAttributes","getConditionOptions","languages","countries","appendNewCondition","push","appendNewAction","removeFilter","index","length","showAlert","splice","removeAction","submitAutomation","$v","$touch","$invalid","generateAutomationPayload","$emit","resetFilter","currentCondition","filter_operator","attribute_key","value","values","showUserInput","showActionInput","action","automationActionTypes","resetAction","action_params","manifestConditions","filterCustomAttributes","customAttr","isCustomAttribute","getStandardAttributeInputType","join","query_operator","filter","item","includes","generateActionsArray","params","actionParams","action_name","getActionDropdownValues","team_ids","message","manifestActions","formatAutomation","getActionOptions","manifestCustomAttributes","conversationCustomAttributesRaw","$store","getters","contactCustomAttributesRaw","conversationCustomAttributeTypes","generateCustomAttributeTypes","contactCustomAttributeTypes","manifestedCustomAttributes","generateCustomAttributes","message_created","conversation_created","conversation_updated","conversation_opened","validations","required","description","$each","requiredIf","prop","AUTOMATIONS","attributeI18nKey","OPERATOR_TYPES_1","OPERATOR_TYPES_2","OPERATOR_TYPES_6","OPERATOR_TYPES_3","AUTOMATION_RULE_EVENTS","AUTOMATION_ACTION_TYPES","label"],"mappings":";;;;;AAAA,uC;;;;;;;;;;ACAA,+BAA+B,6BAA6B,2BAA2B,wHAAwH,YAAY,mBAAmB,oCAAoC,aAAa,kFAAkF,8IAA8I,2BAA2B,kFAAkF,kBAAkB,kBAAkB,6CAA6C,WAAW,EAAE,4EAA4E,kBAAkB,yBAAyB,GAAG,6CAA6C,sBAAsB,aAAa,oBAAoB,+CAA+C,oBAAoB,4BAA4B,uBAAuB,mEAAmE,KAAK,kBAAkB,aAAa,kFAAkF,8IAA8I,2BAA2B,kFAAkF,kBAAkB,kBAAkB,6CAA6C,WAAW,EAAE,4EAA4E,kBAAkB,yBAAyB,GAAG,mDAAmD,oBAAoB,yBAAyB,8BAA8B,WAAW,uBAAuB,+DAA+D,8BAA8B,aAAa,sFAAsF,8IAA8I,0BAA0B,kFAAkF,kBAAkB,kBAAkB,6CAA6C,WAAW,EAAE,gFAAgF,6CAA6C,oBAAoB,gBAAgB,wBAAwB,gEAAgE,eAAe,oBAAoB,+CAA+C,kDAAkD,+CAA+C,sCAAsC,oBAAoB,OAAO,2OAA2O,QAAQ,4CAA4C,eAAe,sBAAsB,oDAAoD,sCAAsC,oBAAoB,OAAO,+OAA+O,QAAQ,4CAA4C,eAAe,sBAAsB,2CAA2C,sCAAsC,cAAc,aAAa,sEAAsE,uCAAuC,+BAA+B,WAAW,qBAAqB,KAAK,yBAAyB,kCAAkC,iCAAiC,gBAAgB,aAAa,sEAAsE,4BAA4B,0CAA0C,WAAW,qBAAqB,KAAK,yBAAyB,kCAAkC,iCAAiC,2CAA2C,OAAO,8DAA8D,KAAK,0BAA0B,uEAAuE,2BAA2B,oIAAoI,oEAAoE,WAAW,0FAA0F,2BAA2B,aAAa,sFAAsF,6IAA6I,0BAA0B,kFAAkF,kBAAkB,kBAAkB,6CAA6C,WAAW,EAAE,gFAAgF,eAAe,OAAO,eAAe,gHAAgH,OAAO,cAAc;AACh+K;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;k9BC+IA,mEACA,OACA,OACA,WADA,CAEA,yCAFA,CADA,CAKA,kBACA,UADA,CAEA,sCAFA,CALA,CASA,WACA,WADA,CAEA,oBAFA,CATA,CAaA,UACA,WADA,CAEA,oBAFA,CAbA,CAiBA,WACA,UADA,CAEA,sCAFA,CAjBA,CAqBA,gBACA,UADA,CAEA,sCAFA,CArBA,CAyBA,mBACA,YADA,CAEA,aAFA,CAzBA,CA6BA,GACA,WADA,CAEA,yCAFA,CA7BA,CAiCA,eACA,YADA,CAEA,YAFA,CAjCA,CAqCA,gBACA,YADA,CAEA,aAFA,CArCA,CAyCA,cACA,UADA,CAEA,sCAFA,CAzCA,CA6CA,qBACA,WADA,CAEA,UAFA,CA7CA,CADA,CAmDA,UACA,cACA,GADA,eACA,CACA,2BACA,gCACA,CAJA,CAKA,GALA,cAKA,KALA,CAKA,CACA,2BACA,sFACA,CARA,CADA,CAWA,gBACA,GADA,eACA,CACA,2BACA,kCACA,CAJA,CAKA,GALA,cAKA,KALA,CAKA,CACA,2BACA,wFACA,CARA,CAXA,CAqBA,QACA,GADA,eACA,CACA,2BACA,yBACA,CAJA,CAKA,GALA,cAKA,KALA,CAKA,CACA,2BACA,+EACA,CARA,CArBA,CA+BA,gBACA,GADA,eACA,CACA,2BACA,iCACA,CAJA,CAKA,GALA,cAKA,KALA,CAKA,CACA,2BACA,uFACA,CARA,CA/BA,CAyCA,uBACA,GADA,eACA,CACA,sCACA,gCACA,CAJA,CAKA,GALA,eAKA,CACA,2BACA,kDACA,OADA,MAEA,8CAFA,IAIA,CAXA,CAzCA,CAnDA,CA0GA,OACA,qBACA,OADA,kBACA,KADA,CACA,CACA,GACA,kCACA,2BAFA,CAGA,CACA;AACA,0DACA;AACA,CAPA,IAOA,qCACA,CAVA,CAWA,cAXA,CADA,CA1GA,CAyHA,SACA,YADA,wBACA,CACA,2BACA,CAHA,CAIA,WAJA,uBAIA,CACA,0BACA,CANA,CAOA,kBAPA,6BAOA,OAPA,CAOA,QAPA,CAOA,CACA,yBACA,oEADA,CAEA,wEAFA,CAGA,CAXA,CAzHA,G;;ACjJuM,CAAgB,2GAAG,EAAC,C;;;;;;;;ACA3H;AACvC;AACL;AAC2C;;;AAG/F;AACsG;AACtG,gBAAgB,8CAAU;AAC1B,EAAE,yCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,sF;;;;;;;;ACnBf;AAAA;AAAA;;;;;;;;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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"rounded-md p-2 border border-solid\",class:_vm.getInputErrorClass(_vm.v.values.$dirty, _vm.v.values.$error)},[_c('div',{staticClass:\"flex\"},[(_vm.groupedFilters)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterGroups),function(group,i){return _c('optgroup',{key:i,attrs:{\"label\":group.name}},_vm._l((group.attributes),function(attribute){return _c('option',{key:attribute.key,domProps:{\"value\":attribute.key}},[_vm._v(\"\\n            \"+_vm._s(attribute.name)+\"\\n          \")])}),0)}),0):_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attributeKey),expression:\"attributeKey\"}],staticClass:\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attributeKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.resetFilter()}]}},_vm._l((_vm.filterAttributes),function(attribute){return _c('option',{key:attribute.key,attrs:{\"disabled\":attribute.disabled},domProps:{\"value\":attribute.key}},[_vm._v(\"\\n          \"+_vm._s(attribute.name)+\"\\n        \")])}),0),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterOperator),expression:\"filterOperator\"}],staticClass:\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterOperator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.operators),function(operator,o){return _c('option',{key:o,domProps:{\"value\":operator.value}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(`FILTER.OPERATOR_LABELS.${operator.value}`))+\"\\n        \")])}),0),_vm._v(\" \"),(_vm.showUserInput)?_c('div',{staticClass:\"filter__answer--wrap mr-1 flex-grow\"},[(_vm.inputType === 'multi_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"multiple\":true,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'search_select')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":'Select',\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"max-height\":160,\"options\":_vm.dropdownValues,\"allow-empty\":false,\"option-height\":104},model:{value:(_vm.values),callback:function ($$v) {_vm.values=$$v},expression:\"values\"}})],1):(_vm.inputType === 'date')?_c('div',{staticClass:\"multiselect-wrap--small\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0 datepicker\",attrs:{\"type\":\"date\",\"editable\":false},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.values),expression:\"values\"}],staticClass:\"mb-0\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter value\"},domProps:{\"value\":(_vm.values)},on:{\"input\":function($event){if($event.target.composing)return;_vm.values=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),_c('woot-button',{attrs:{\"icon\":\"dismiss\",\"variant\":\"clear\",\"color-scheme\":\"secondary\"},on:{\"click\":_vm.removeFilter}})],1),_vm._v(\" \"),(_vm.v.values.$dirty && _vm.v.values.$error)?_c('p',{staticClass:\"filter-error\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('FILTER.EMPTY_VALUE_ERROR'))+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.showQueryOperator)?_c('div',{staticClass:\"flex items-center justify-center relative my-2.5 mx-0\"},[_c('hr',{staticClass:\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query_operator),expression:\"query_operator\"}],staticClass:\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.query_operator=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.AND'))+\"\\n      \")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('FILTER.QUERY_DROPDOWN_LABELS.OR'))+\"\\n      \")])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <div>\n    <div\n      class=\"rounded-md p-2 border border-solid\"\n      :class=\"getInputErrorClass(v.values.$dirty, v.values.$error)\"\n    >\n      <div class=\"flex\">\n        <select\n          v-if=\"groupedFilters\"\n          v-model=\"attributeKey\"\n          class=\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n          @change=\"resetFilter()\"\n        >\n          <optgroup\n            v-for=\"(group, i) in filterGroups\"\n            :key=\"i\"\n            :label=\"group.name\"\n          >\n            <option\n              v-for=\"attribute in group.attributes\"\n              :key=\"attribute.key\"\n              :value=\"attribute.key\"\n            >\n              {{ attribute.name }}\n            </option>\n          </optgroup>\n        </select>\n        <select\n          v-else\n          v-model=\"attributeKey\"\n          class=\"bg-white max-w-[30%] dark:bg-slate-900 mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n          @change=\"resetFilter()\"\n        >\n          <option\n            v-for=\"attribute in filterAttributes\"\n            :key=\"attribute.key\"\n            :value=\"attribute.key\"\n            :disabled=\"attribute.disabled\"\n          >\n            {{ attribute.name }}\n          </option>\n        </select>\n\n        <select\n          v-model=\"filterOperator\"\n          class=\"bg-white dark:bg-slate-900 max-w-[20%] mb-0 mr-1 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n        >\n          <option\n            v-for=\"(operator, o) in operators\"\n            :key=\"o\"\n            :value=\"operator.value\"\n          >\n            {{ $t(`FILTER.OPERATOR_LABELS.${operator.value}`) }}\n          </option>\n        </select>\n\n        <div v-if=\"showUserInput\" class=\"filter__answer--wrap mr-1 flex-grow\">\n          <div\n            v-if=\"inputType === 'multi_select'\"\n            class=\"multiselect-wrap--small\"\n          >\n            <multiselect\n              v-model=\"values\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"'Select'\"\n              :multiple=\"true\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :options=\"dropdownValues\"\n              :allow-empty=\"false\"\n            />\n          </div>\n          <div\n            v-else-if=\"inputType === 'search_select'\"\n            class=\"multiselect-wrap--small\"\n          >\n            <multiselect\n              v-model=\"values\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"'Select'\"\n              selected-label\n              :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              :options=\"dropdownValues\"\n              :allow-empty=\"false\"\n              :option-height=\"104\"\n            />\n          </div>\n          <div v-else-if=\"inputType === 'date'\" class=\"multiselect-wrap--small\">\n            <input\n              v-model=\"values\"\n              type=\"date\"\n              :editable=\"false\"\n              class=\"mb-0 datepicker\"\n            />\n          </div>\n          <input\n            v-else\n            v-model=\"values\"\n            type=\"text\"\n            class=\"mb-0\"\n            placeholder=\"Enter value\"\n          />\n        </div>\n        <woot-button\n          icon=\"dismiss\"\n          variant=\"clear\"\n          color-scheme=\"secondary\"\n          @click=\"removeFilter\"\n        />\n      </div>\n      <p v-if=\"v.values.$dirty && v.values.$error\" class=\"filter-error\">\n        {{ $t('FILTER.EMPTY_VALUE_ERROR') }}\n      </p>\n    </div>\n\n    <div\n      v-if=\"showQueryOperator\"\n      class=\"flex items-center justify-center relative my-2.5 mx-0\"\n    >\n      <hr\n        class=\"w-full absolute border-b border-solid border-slate-75 dark:border-slate-800\"\n      />\n      <select\n        v-model=\"query_operator\"\n        class=\"bg-white dark:bg-slate-900 mb-0 w-auto relative text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600\"\n      >\n        <option value=\"and\">\n          {{ $t('FILTER.QUERY_DROPDOWN_LABELS.AND') }}\n        </option>\n        <option value=\"or\">\n          {{ $t('FILTER.QUERY_DROPDOWN_LABELS.OR') }}\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: Object,\n      default: () => null,\n    },\n    filterAttributes: {\n      type: Array,\n      default: () => [],\n    },\n    inputType: {\n      type: String,\n      default: 'plain_text',\n    },\n    dataType: {\n      type: String,\n      default: 'plain_text',\n    },\n    operators: {\n      type: Array,\n      default: () => [],\n    },\n    dropdownValues: {\n      type: Array,\n      default: () => [],\n    },\n    showQueryOperator: {\n      type: Boolean,\n      default: false,\n    },\n    v: {\n      type: Object,\n      default: () => null,\n    },\n    showUserInput: {\n      type: Boolean,\n      default: true,\n    },\n    groupedFilters: {\n      type: Boolean,\n      default: false,\n    },\n    filterGroups: {\n      type: Array,\n      default: () => [],\n    },\n    customAttributeType: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    attributeKey: {\n      get() {\n        if (!this.value) return null;\n        return this.value.attribute_key;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, attribute_key: value });\n      },\n    },\n    filterOperator: {\n      get() {\n        if (!this.value) return null;\n        return this.value.filter_operator;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, filter_operator: value });\n      },\n    },\n    values: {\n      get() {\n        if (!this.value) return null;\n        return this.value.values;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, values: value });\n      },\n    },\n    query_operator: {\n      get() {\n        if (!this.value) return null;\n        return this.value.query_operator;\n      },\n      set(value) {\n        const payload = this.value || {};\n        this.$emit('input', { ...payload, query_operator: value });\n      },\n    },\n    custom_attribute_type: {\n      get() {\n        if (!this.customAttributeType) return '';\n        return this.customAttributeType;\n      },\n      set() {\n        const payload = this.value || {};\n        this.$emit('input', {\n          ...payload,\n          custom_attribute_type: this.customAttributeType,\n        });\n      },\n    },\n  },\n  watch: {\n    customAttributeType: {\n      handler(value) {\n        if (\n          value === 'conversation_attribute' ||\n          value === 'contact_attribute'\n        ) {\n          // eslint-disable-next-line vue/no-mutating-props\n          this.value.custom_attribute_type = this.customAttributeType;\n          // eslint-disable-next-line vue/no-mutating-props\n        } else this.value.custom_attribute_type = '';\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    removeFilter() {\n      this.$emit('removeFilter');\n    },\n    resetFilter() {\n      this.$emit('resetFilter');\n    },\n    getInputErrorClass(isDirty, hasError) {\n      return isDirty && hasError\n        ? 'bg-red-50 dark:bg-red-800/50 border-red-100 dark:border-red-700/50'\n        : 'bg-slate-50 dark:bg-slate-800 border-slate-75 dark:border-slate-700/50';\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.filter__answer--wrap {\n  input {\n    @apply bg-white dark:bg-slate-900 mb-0 text-slate-800 dark:text-slate-100 border-slate-75 dark:border-slate-600;\n  }\n}\n\n.filter-error {\n  @apply text-red-500 dark:text-red-200 block my-1 mx-0;\n}\n\n.multiselect {\n  @apply mb-0;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=de5a525e&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de5a525e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=de5a525e&prod&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAutomationRule.vue?vue&type=style&index=0&id=75e0a7e0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAutomationRule.vue?vue&type=style&index=0&id=ecb536c6&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto p-4\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":function($event){return _vm.openAddPopup()}}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('AUTOMATION.HEADER_BTN_TXT'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row gap-4\"},[_c('div',{staticClass:\"w-full lg:w-3/5\"},[(!_vm.uiFlags.isFetching && !_vm.records.length)?_c('p',{staticClass:\"flex h-full items-center flex-col justify-center\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('AUTOMATION.LIST.404'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.uiFlags.isFetching)?_c('woot-loading-state',{attrs:{\"message\":_vm.$t('AUTOMATION.LOADING')}}):_vm._e(),_vm._v(\" \"),(!_vm.uiFlags.isFetching && _vm.records.length)?_c('table',{staticClass:\"woot-table\"},[_c('thead',_vm._l((_vm.$t('AUTOMATION.LIST.TABLE_HEADER')),function(thHeader){return _c('th',{key:thHeader},[_vm._v(\"\\n            \"+_vm._s(thHeader)+\"\\n          \")])}),0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.records),function(automation,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(automation.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(automation.description))]),_vm._v(\" \"),_c('td',[_c('woot-switch',{attrs:{\"value\":automation.active},on:{\"input\":function($event){return _vm.toggleAutomation(automation, automation.active)}}})],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.readableTime(automation.created_on)))]),_vm._v(\" \"),_c('td',{staticClass:\"button-wrapper\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.FORM.EDIT')),expression:\"$t('AUTOMATION.FORM.EDIT')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id],\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.openEditPopup(automation)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.CLONE.TOOLTIP')),expression:\"$t('AUTOMATION.CLONE.TOOLTIP')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"size\":\"tiny\",\"color-scheme\":\"primary\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id],\"icon\":\"copy\"},on:{\"click\":function($event){return _vm.cloneAutomation(automation.id)}}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:(_vm.$t('AUTOMATION.FORM.DELETE')),expression:\"$t('AUTOMATION.FORM.DELETE')\",modifiers:{\"top\":true}}],attrs:{\"variant\":\"smooth\",\"color-scheme\":\"alert\",\"size\":\"tiny\",\"icon\":\"dismiss-circle\",\"class-names\":\"grey-btn\",\"is-loading\":_vm.loading[automation.id]},on:{\"click\":function($event){return _vm.openDeletePopup(automation, index)}}})],1)])}),0)]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"hidden lg:block w-1/3\"},[_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.$t('AUTOMATION.SIDEBAR_TXT')),expression:\"$t('AUTOMATION.SIDEBAR_TXT')\"}]})])]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddPopup,\"size\":\"medium\",\"on-close\":_vm.hideAddPopup},on:{\"update:show\":function($event){_vm.showAddPopup=$event}}},[(_vm.showAddPopup)?_c('add-automation-rule',{attrs:{\"on-close\":_vm.hideAddPopup},on:{\"saveAutomation\":_vm.submitAutomation}}):_vm._e()],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('LABEL_MGMT.DELETE.CONFIRM.TITLE'),\"message\":_vm.$t('AUTOMATION.DELETE.CONFIRM.MESSAGE'),\"message-value\":_vm.deleteMessage,\"confirm-text\":_vm.deleteConfirmText,\"reject-text\":_vm.deleteRejectText},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showEditPopup,\"size\":\"medium\",\"on-close\":_vm.hideEditPopup},on:{\"update:show\":function($event){_vm.showEditPopup=$event}}},[(_vm.showEditPopup)?_c('edit-automation-rule',{attrs:{\"on-close\":_vm.hideEditPopup,\"selected-response\":_vm.selectedResponse},on:{\"saveAutomation\":_vm.submitAutomation}}):_vm._e()],1),_vm._v(\" \"),_c('woot-confirm-modal',{ref:\"confirmDialog\",attrs:{\"title\":_vm.toggleModalTitle,\"description\":_vm.toggleModalDescription}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AUTOMATION.ADD.TITLE')}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col modal-content\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.$v.automation.name.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.NAME.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.name.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.NAME.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.name.$touch},model:{value:(_vm.automation.name),callback:function ($$v) {_vm.$set(_vm.automation, \"name\", $$v)},expression:\"automation.name\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.$v.automation.description.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.DESC.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.description.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.DESC.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.description.$touch},model:{value:(_vm.automation.description),callback:function ($$v) {_vm.$set(_vm.automation, \"description\", $$v)},expression:\"automation.description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"event_wrapper\"},[_c('label',{class:{ error: _vm.$v.automation.event_name.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.automation.event_name),expression:\"automation.event_name\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.automation, \"event_name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.onEventChange()}]}},_vm._l((_vm.automationRuleEvents),function(event){return _c('option',{key:event.key,domProps:{\"value\":event.key}},[_vm._v(\"\\n              \"+_vm._s(event.value)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.automation.event_name.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.ERROR'))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.hasAutomationMutated)?_c('p',{staticClass:\"info-message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.FORM.RESET_MESSAGE'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.conditions),function(condition,i){return _c('filter-input-box',{key:i,attrs:{\"filter-attributes\":_vm.getAttributes(_vm.automation.event_name),\"input-type\":_vm.getInputType(_vm.automation.conditions[i].attribute_key),\"operators\":_vm.getOperators(_vm.automation.conditions[i].attribute_key),\"dropdown-values\":_vm.getConditionDropdownValues(\n                _vm.automation.conditions[i].attribute_key\n              ),\"show-query-operator\":i !== _vm.automation.conditions.length - 1,\"custom-attribute-type\":_vm.getCustomAttributeType(_vm.automation.conditions[i].attribute_key),\"v\":_vm.$v.automation.conditions.$each[i]},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.automation.conditions[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.automation.conditions[i]),callback:function ($$v) {_vm.$set(_vm.automation.conditions, i, $$v)},expression:\"automation.conditions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewCondition}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.ACTIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.actions),function(action,i){return _c('automation-action-input',{key:i,attrs:{\"action-types\":_vm.automationActionTypes,\"dropdown-values\":_vm.getActionDropdownValues(_vm.automation.actions[i].action_name),\"show-action-input\":_vm.showActionInput(_vm.automation.actions[i].action_name),\"v\":_vm.$v.automation.actions.$each[i]},on:{\"resetAction\":function($event){return _vm.resetAction(i)},\"removeAction\":function($event){return _vm.removeAction(i)}},model:{value:(_vm.automation.actions[i]),callback:function ($$v) {_vm.$set(_vm.automation.actions, i, $$v)},expression:\"automation.actions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewAction}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.ACTION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.CANCEL_BUTTON_TEXT'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.submitAutomation}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.SUBMIT'))+\"\\n          \")])],1)])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import languages from 'dashboard/components/widgets/conversation/advancedFilterItems/languages';\nimport countries from 'shared/constants/countries';\nimport {\n  generateCustomAttributeTypes,\n  getActionOptions,\n  getConditionOptions,\n  getCustomAttributeInputType,\n  getOperatorTypes,\n  isACustomAttribute,\n  getFileName,\n  getDefaultConditions,\n  getDefaultActions,\n  filterCustomAttributes,\n  generateAutomationPayload,\n  getStandardAttributeInputType,\n  isCustomAttribute,\n  generateCustomAttributes,\n} from 'dashboard/helper/automationHelper';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  computed: {\n    ...mapGetters({\n      agents: 'agents/getAgents',\n      campaigns: 'campaigns/getAllCampaigns',\n      contacts: 'contacts/getContacts',\n      inboxes: 'inboxes/getInboxes',\n      labels: 'labels/getLabels',\n      teams: 'teams/getTeams',\n      slaPolicies: 'sla/getSLA',\n    }),\n    booleanFilterOptions() {\n      return [\n        {\n          id: true,\n          name: this.$t('FILTER.ATTRIBUTE_LABELS.TRUE'),\n        },\n        {\n          id: false,\n          name: this.$t('FILTER.ATTRIBUTE_LABELS.FALSE'),\n        },\n      ];\n    },\n\n    statusFilterOptions() {\n      const statusFilters = this.$t('CHAT_LIST.CHAT_STATUS_FILTER_ITEMS');\n      return [\n        ...Object.keys(statusFilters).map(status => {\n          return {\n            id: status,\n            name: statusFilters[status].TEXT,\n          };\n        }),\n        {\n          id: 'all',\n          name: this.$t('CHAT_LIST.FILTER_ALL'),\n        },\n      ];\n    },\n  },\n  methods: {\n    getFileName,\n    onEventChange() {\n      this.automation.conditions = getDefaultConditions(\n        this.automation.event_name\n      );\n      this.automation.actions = getDefaultActions();\n    },\n    getAttributes(key) {\n      return this.automationTypes[key].conditions;\n    },\n    getInputType(key) {\n      const customAttribute = isACustomAttribute(this.allCustomAttributes, key);\n      if (customAttribute) {\n        return getCustomAttributeInputType(\n          customAttribute.attribute_display_type\n        );\n      }\n      const type = this.getAutomationType(key);\n      return type.inputType;\n    },\n    getOperators(key) {\n      if (this.mode === 'edit') {\n        const customAttribute = isACustomAttribute(\n          this.allCustomAttributes,\n          key\n        );\n        if (customAttribute) {\n          return getOperatorTypes(customAttribute.attribute_display_type);\n        }\n      }\n      const type = this.getAutomationType(key);\n      return type.filterOperators;\n    },\n    getAutomationType(key) {\n      return this.automationTypes[this.automation.event_name].conditions.find(\n        condition => condition.key === key\n      );\n    },\n    getCustomAttributeType(key) {\n      const type = this.automationTypes[\n        this.automation.event_name\n      ].conditions.find(i => i.key === key).customAttributeType;\n      return type;\n    },\n    getConditionDropdownValues(type) {\n      const {\n        agents,\n        allCustomAttributes: customAttributes,\n        booleanFilterOptions,\n        campaigns,\n        contacts,\n        inboxes,\n        statusFilterOptions,\n        teams,\n      } = this;\n      return getConditionOptions({\n        agents,\n        booleanFilterOptions,\n        campaigns,\n        contacts,\n        customAttributes,\n        inboxes,\n        statusFilterOptions,\n        teams,\n        languages,\n        countries,\n        type,\n      });\n    },\n    appendNewCondition() {\n      this.automation.conditions.push(\n        ...getDefaultConditions(this.automation.event_name)\n      );\n    },\n    appendNewAction() {\n      this.automation.actions.push(...getDefaultActions());\n    },\n    removeFilter(index) {\n      if (this.automation.conditions.length <= 1) {\n        this.showAlert(this.$t('AUTOMATION.CONDITION.DELETE_MESSAGE'));\n      } else {\n        this.automation.conditions.splice(index, 1);\n      }\n    },\n    removeAction(index) {\n      if (this.automation.actions.length <= 1) {\n        this.showAlert(this.$t('AUTOMATION.ACTION.DELETE_MESSAGE'));\n      } else {\n        this.automation.actions.splice(index, 1);\n      }\n    },\n    submitAutomation() {\n      this.$v.$touch();\n      if (this.$v.$invalid) return;\n      const automation = generateAutomationPayload(this.automation);\n      this.$emit('saveAutomation', automation, this.mode);\n    },\n    resetFilter(index, currentCondition) {\n      this.automation.conditions[index].filter_operator = this.automationTypes[\n        this.automation.event_name\n      ].conditions.find(\n        condition => condition.key === currentCondition.attribute_key\n      ).filterOperators[0].value;\n      this.automation.conditions[index].values = '';\n    },\n    showUserInput(type) {\n      return !(type === 'is_present' || type === 'is_not_present');\n    },\n    showActionInput(action) {\n      if (action === 'send_email_to_team' || action === 'send_message')\n        return false;\n      const type = this.automationActionTypes.find(\n        i => i.key === action\n      ).inputType;\n      return !!type;\n    },\n    resetAction(index) {\n      this.automation.actions[index].action_params = [];\n    },\n    manifestConditions(automation) {\n      const customAttributes = filterCustomAttributes(this.allCustomAttributes);\n      const conditions = automation.conditions.map(condition => {\n        const customAttr = isCustomAttribute(\n          customAttributes,\n          condition.attribute_key\n        );\n        let inputType = 'plain_text';\n        if (customAttr) {\n          inputType = getCustomAttributeInputType(customAttr.type);\n        } else {\n          inputType = getStandardAttributeInputType(\n            this.automationTypes,\n            automation.event_name,\n            condition.attribute_key\n          );\n        }\n        if (inputType === 'plain_text' || inputType === 'date') {\n          return {\n            ...condition,\n            values: condition.values[0],\n          };\n        }\n        if (inputType === 'comma_separated_plain_text') {\n          return {\n            ...condition,\n            values: condition.values.join(','),\n          };\n        }\n        return {\n          ...condition,\n          query_operator: condition.query_operator || 'and',\n          values: [\n            ...this.getConditionDropdownValues(condition.attribute_key),\n          ].filter(item => [...condition.values].includes(item.id)),\n        };\n      });\n      return conditions;\n    },\n    generateActionsArray(action) {\n      const params = action.action_params;\n      let actionParams = [];\n      const inputType = this.automationActionTypes.find(\n        item => item.key === action.action_name\n      ).inputType;\n      if (inputType === 'multi_select' || inputType === 'search_select') {\n        actionParams = [\n          ...this.getActionDropdownValues(action.action_name),\n        ].filter(item => [...params].includes(item.id));\n      } else if (inputType === 'team_message') {\n        actionParams = {\n          team_ids: [\n            ...this.getActionDropdownValues(action.action_name),\n          ].filter(item => [...params[0].team_ids].includes(item.id)),\n          message: params[0].message,\n        };\n      } else actionParams = [...params];\n      return actionParams;\n    },\n    manifestActions(automation) {\n      let actionParams = [];\n      const actions = automation.actions.map(action => {\n        if (action.action_params.length) {\n          actionParams = this.generateActionsArray(action);\n        }\n        return {\n          ...action,\n          action_params: actionParams,\n        };\n      });\n      return actions;\n    },\n    formatAutomation(automation) {\n      this.automation = {\n        ...automation,\n        conditions: this.manifestConditions(automation),\n        actions: this.manifestActions(automation),\n      };\n    },\n    getActionDropdownValues(type) {\n      const { agents, labels, teams, slaPolicies } = this;\n      return getActionOptions({\n        agents,\n        labels,\n        teams,\n        slaPolicies,\n        languages,\n        type,\n      });\n    },\n    manifestCustomAttributes() {\n      const conversationCustomAttributesRaw = this.$store.getters[\n        'attributes/getAttributesByModel'\n      ]('conversation_attribute');\n\n      const contactCustomAttributesRaw =\n        this.$store.getters['attributes/getAttributesByModel'](\n          'contact_attribute'\n        );\n      const conversationCustomAttributeTypes = generateCustomAttributeTypes(\n        conversationCustomAttributesRaw,\n        'conversation_attribute'\n      );\n      const contactCustomAttributeTypes = generateCustomAttributeTypes(\n        contactCustomAttributesRaw,\n        'contact_attribute'\n      );\n      let manifestedCustomAttributes = generateCustomAttributes(\n        conversationCustomAttributeTypes,\n        contactCustomAttributeTypes,\n        this.$t('AUTOMATION.CONDITION.CONVERSATION_CUSTOM_ATTR_LABEL'),\n        this.$t('AUTOMATION.CONDITION.CONTACT_CUSTOM_ATTR_LABEL')\n      );\n      this.automationTypes.message_created.conditions.push(\n        ...manifestedCustomAttributes\n      );\n      this.automationTypes.conversation_created.conditions.push(\n        ...manifestedCustomAttributes\n      );\n      this.automationTypes.conversation_updated.conditions.push(\n        ...manifestedCustomAttributes\n      );\n      this.automationTypes.conversation_opened.conditions.push(\n        ...manifestedCustomAttributes\n      );\n    },\n  },\n};\n","import { required, requiredIf } from 'vuelidate/lib/validators';\n\nexport default {\n  validations: {\n    automation: {\n      name: {\n        required,\n      },\n      description: {\n        required,\n      },\n      event_name: {\n        required,\n      },\n      conditions: {\n        required,\n        $each: {\n          values: {\n            required: requiredIf(prop => {\n              return !(\n                prop.filter_operator === 'is_present' ||\n                prop.filter_operator === 'is_not_present'\n              );\n            }),\n          },\n        },\n      },\n      actions: {\n        required,\n        $each: {\n          action_params: {\n            required: requiredIf(prop => {\n              return !(\n                prop.action_name === 'mute_conversation' ||\n                prop.action_name === 'snooze_conversation' ||\n                prop.action_name === 'resolve_conversation'\n              );\n            }),\n          },\n        },\n      },\n    },\n  },\n};\n","import {\n  OPERATOR_TYPES_1,\n  OPERATOR_TYPES_2,\n  OPERATOR_TYPES_3,\n  OPERATOR_TYPES_6,\n} from './operators';\n\nexport const AUTOMATIONS = {\n  message_created: {\n    conditions: [\n      {\n        key: 'message_type',\n        name: 'Message Type',\n        attributeI18nKey: 'MESSAGE_TYPE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'content',\n        name: 'Message Content',\n        attributeI18nKey: 'MESSAGE_CONTAINS',\n        inputType: 'comma_separated_plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'add_label',\n        name: 'Add a label',\n        attributeI18nKey: 'ADD_LABEL',\n      },\n      {\n        key: 'remove_label',\n        name: 'Remove a label',\n        attributeI18nKey: 'REMOVE_LABEL',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n\n      {\n        key: 'resolve_conversation',\n        name: 'Resolve conversation',\n        attributeI18nKey: 'RESOLVE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n  conversation_created: {\n    conditions: [\n      {\n        key: 'status',\n        name: 'Status',\n        attributeI18nKey: 'STATUS',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'browser_language',\n        name: 'Browser Language',\n        attributeI18nKey: 'BROWSER_LANGUAGE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'mail_subject',\n        name: 'Email Subject',\n        attributeI18nKey: 'MAIL_SUBJECT',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'country_code',\n        name: 'Country',\n        attributeI18nKey: 'COUNTRY_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n      {\n        key: 'referer',\n        name: 'Referrer Link',\n        attributeI18nKey: 'REFERER_LINK',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'priority',\n        name: 'Priority',\n        attributeI18nKey: 'PRIORITY',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'assign_agent',\n        name: 'Assign an agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'resolve_conversation',\n        name: 'Resolve conversation',\n        attributeI18nKey: 'RESOLVE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n  conversation_updated: {\n    conditions: [\n      {\n        key: 'status',\n        name: 'Status',\n        attributeI18nKey: 'STATUS',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'browser_language',\n        name: 'Browser Language',\n        attributeI18nKey: 'BROWSER_LANGUAGE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'mail_subject',\n        name: 'Email Subject',\n        attributeI18nKey: 'MAIL_SUBJECT',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'country_code',\n        name: 'Country',\n        attributeI18nKey: 'COUNTRY_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'referer',\n        name: 'Referrer Link',\n        attributeI18nKey: 'REFERER_LINK',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n      {\n        key: 'assignee_id',\n        name: 'Assignee',\n        attributeI18nKey: 'ASSIGNEE_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'team_id',\n        name: 'Team',\n        attributeI18nKey: 'TEAM_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'priority',\n        name: 'Priority',\n        attributeI18nKey: 'PRIORITY',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'assign_agent',\n        name: 'Assign an agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'resolve_conversation',\n        name: 'Resolve conversation',\n        attributeI18nKey: 'RESOLVE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n  conversation_opened: {\n    conditions: [\n      {\n        key: 'browser_language',\n        name: 'Browser Language',\n        attributeI18nKey: 'BROWSER_LANGUAGE',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'email',\n        name: 'Email',\n        attributeI18nKey: 'EMAIL',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'mail_subject',\n        name: 'Email Subject',\n        attributeI18nKey: 'MAIL_SUBJECT',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'country_code',\n        name: 'Country',\n        attributeI18nKey: 'COUNTRY_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'referer',\n        name: 'Referrer Link',\n        attributeI18nKey: 'REFERER_LINK',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_2,\n      },\n      {\n        key: 'assignee_id',\n        name: 'Assignee',\n        attributeI18nKey: 'ASSIGNEE_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'phone_number',\n        name: 'Phone Number',\n        attributeI18nKey: 'PHONE_NUMBER',\n        inputType: 'plain_text',\n        filterOperators: OPERATOR_TYPES_6,\n      },\n      {\n        key: 'team_id',\n        name: 'Team',\n        attributeI18nKey: 'TEAM_NAME',\n        inputType: 'search_select',\n        filterOperators: OPERATOR_TYPES_3,\n      },\n      {\n        key: 'inbox_id',\n        name: 'Inbox',\n        attributeI18nKey: 'INBOX',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'conversation_language',\n        name: 'Conversation Language',\n        attributeI18nKey: 'CONVERSATION_LANGUAGE',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n      {\n        key: 'priority',\n        name: 'Priority',\n        attributeI18nKey: 'PRIORITY',\n        inputType: 'multi_select',\n        filterOperators: OPERATOR_TYPES_1,\n      },\n    ],\n    actions: [\n      {\n        key: 'assign_agent',\n        name: 'Assign to agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'assign_team',\n        name: 'Assign a team',\n        attributeI18nKey: 'ASSIGN_TEAM',\n      },\n      {\n        key: 'assign_agent',\n        name: 'Assign an agent',\n        attributeI18nKey: 'ASSIGN_AGENT',\n      },\n      {\n        key: 'send_email_to_team',\n        name: 'Send an email to team',\n        attributeI18nKey: 'SEND_EMAIL_TO_TEAM',\n      },\n      {\n        key: 'send_message',\n        name: 'Send a message',\n        attributeI18nKey: 'SEND_MESSAGE',\n      },\n      {\n        key: 'send_email_transcript',\n        name: 'Send an email transcript',\n        attributeI18nKey: 'SEND_EMAIL_TRANSCRIPT',\n      },\n      {\n        key: 'mute_conversation',\n        name: 'Mute conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'snooze_conversation',\n        name: 'Snooze conversation',\n        attributeI18nKey: 'MUTE_CONVERSATION',\n      },\n      {\n        key: 'send_webhook_event',\n        name: 'Send Webhook Event',\n        attributeI18nKey: 'SEND_WEBHOOK_EVENT',\n      },\n      {\n        key: 'send_attachment',\n        name: 'Send Attachment',\n        attributeI18nKey: 'SEND_ATTACHMENT',\n      },\n    ],\n  },\n};\n\nexport const AUTOMATION_RULE_EVENTS = [\n  {\n    key: 'conversation_created',\n    value: 'Conversation Created',\n  },\n  {\n    key: 'conversation_updated',\n    value: 'Conversation Updated',\n  },\n  {\n    key: 'message_created',\n    value: 'Message Created',\n  },\n  {\n    key: 'conversation_opened',\n    value: 'Conversation Opened',\n  },\n];\n\nexport const AUTOMATION_ACTION_TYPES = [\n  {\n    key: 'assign_agent',\n    label: 'Assign to agent',\n    inputType: 'search_select',\n  },\n  {\n    key: 'assign_team',\n    label: 'Assign a team',\n    inputType: 'search_select',\n  },\n  {\n    key: 'add_label',\n    label: 'Add a label',\n    inputType: 'multi_select',\n  },\n  {\n    key: 'remove_label',\n    label: 'Remove a label',\n    inputType: 'multi_select',\n  },\n  {\n    key: 'send_email_to_team',\n    label: 'Send an email to team',\n    inputType: 'team_message',\n  },\n  {\n    key: 'send_email_transcript',\n    label: 'Send an email transcript',\n    inputType: 'email',\n  },\n  {\n    key: 'mute_conversation',\n    label: 'Mute conversation',\n    inputType: null,\n  },\n  {\n    key: 'snooze_conversation',\n    label: 'Snooze conversation',\n    inputType: null,\n  },\n  {\n    key: 'resolve_conversation',\n    label: 'Resolve conversation',\n    inputType: null,\n  },\n  {\n    key: 'send_webhook_event',\n    label: 'Send Webhook Event',\n    inputType: 'url',\n  },\n  {\n    key: 'send_attachment',\n    label: 'Send Attachment',\n    inputType: 'attachment',\n  },\n  {\n    key: 'send_message',\n    label: 'Send a message',\n    inputType: 'textarea',\n  },\n  {\n    key: 'change_priority',\n    label: 'Change Priority',\n    inputType: 'search_select',\n  },\n  {\n    key: 'add_sla',\n    label: 'Add SLA',\n    inputType: 'search_select',\n  },\n];\n","<template>\n  <div>\n    <woot-modal-header :header-title=\"$t('AUTOMATION.ADD.TITLE')\" />\n    <div class=\"flex flex-col modal-content\">\n      <div class=\"w-full\">\n        <woot-input\n          v-model=\"automation.name\"\n          :label=\"$t('AUTOMATION.ADD.FORM.NAME.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: $v.automation.name.$error }\"\n          :error=\"\n            $v.automation.name.$error\n              ? $t('AUTOMATION.ADD.FORM.NAME.ERROR')\n              : ''\n          \"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')\"\n          @blur=\"$v.automation.name.$touch\"\n        />\n        <woot-input\n          v-model=\"automation.description\"\n          :label=\"$t('AUTOMATION.ADD.FORM.DESC.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: $v.automation.description.$error }\"\n          :error=\"\n            $v.automation.description.$error\n              ? $t('AUTOMATION.ADD.FORM.DESC.ERROR')\n              : ''\n          \"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')\"\n          @blur=\"$v.automation.description.$touch\"\n        />\n        <div class=\"event_wrapper\">\n          <label :class=\"{ error: $v.automation.event_name.$error }\">\n            {{ $t('AUTOMATION.ADD.FORM.EVENT.LABEL') }}\n            <select v-model=\"automation.event_name\" @change=\"onEventChange()\">\n              <option\n                v-for=\"event in automationRuleEvents\"\n                :key=\"event.key\"\n                :value=\"event.key\"\n              >\n                {{ event.value }}\n              </option>\n            </select>\n            <span v-if=\"$v.automation.event_name.$error\" class=\"message\">\n              {{ $t('AUTOMATION.ADD.FORM.EVENT.ERROR') }}\n            </span>\n          </label>\n          <p v-if=\"hasAutomationMutated\" class=\"info-message\">\n            {{ $t('AUTOMATION.FORM.RESET_MESSAGE') }}\n          </p>\n        </div>\n        <!-- // Conditions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"\n          >\n            <filter-input-box\n              v-for=\"(condition, i) in automation.conditions\"\n              :key=\"i\"\n              v-model=\"automation.conditions[i]\"\n              :filter-attributes=\"getAttributes(automation.event_name)\"\n              :input-type=\"getInputType(automation.conditions[i].attribute_key)\"\n              :operators=\"getOperators(automation.conditions[i].attribute_key)\"\n              :dropdown-values=\"\n                getConditionDropdownValues(\n                  automation.conditions[i].attribute_key\n                )\n              \"\n              :show-query-operator=\"i !== automation.conditions.length - 1\"\n              :custom-attribute-type=\"\n                getCustomAttributeType(automation.conditions[i].attribute_key)\n              \"\n              :v=\"$v.automation.conditions.$each[i]\"\n              @resetFilter=\"resetFilter(i, automation.conditions[i])\"\n              @removeFilter=\"removeFilter(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewCondition\"\n              >\n                {{ $t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Conditions End -->\n        <!-- // Actions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.ACTIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"\n          >\n            <automation-action-input\n              v-for=\"(action, i) in automation.actions\"\n              :key=\"i\"\n              v-model=\"automation.actions[i]\"\n              :action-types=\"automationActionTypes\"\n              :dropdown-values=\"\n                getActionDropdownValues(automation.actions[i].action_name)\n              \"\n              :show-action-input=\"\n                showActionInput(automation.actions[i].action_name)\n              \"\n              :v=\"$v.automation.actions.$each[i]\"\n              @resetAction=\"resetAction(i)\"\n              @removeAction=\"removeAction(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewAction\"\n              >\n                {{ $t('AUTOMATION.ADD.ACTION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Actions End -->\n        <div class=\"w-full\">\n          <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n            <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n              {{ $t('AUTOMATION.ADD.CANCEL_BUTTON_TEXT') }}\n            </woot-button>\n            <woot-button @click=\"submitAutomation\">\n              {{ $t('AUTOMATION.ADD.SUBMIT') }}\n            </woot-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport automationMethodsMixin from 'dashboard/mixins/automations/methodsMixin';\nimport automationValidationsMixin from 'dashboard/mixins/automations/validationsMixin';\nimport filterInputBox from 'dashboard/components/widgets/FilterInput/Index.vue';\nimport automationActionInput from 'dashboard/components/widgets/AutomationActionInput.vue';\n\nimport {\n  AUTOMATION_RULE_EVENTS,\n  AUTOMATION_ACTION_TYPES,\n  AUTOMATIONS,\n} from './constants';\nexport default {\n  components: {\n    filterInputBox,\n    automationActionInput,\n  },\n  mixins: [alertMixin, automationMethodsMixin, automationValidationsMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n  },\n\n  data() {\n    return {\n      automationTypes: JSON.parse(JSON.stringify(AUTOMATIONS)),\n      automationRuleEvent: AUTOMATION_RULE_EVENTS[0].key,\n      automationRuleEvents: AUTOMATION_RULE_EVENTS,\n      automationMutated: false,\n      show: true,\n      automation: {\n        name: null,\n        description: null,\n        event_name: 'conversation_created',\n        conditions: [\n          {\n            attribute_key: 'status',\n            filter_operator: 'equal_to',\n            values: '',\n            query_operator: 'and',\n            custom_attribute_type: '',\n          },\n        ],\n        actions: [\n          {\n            action_name: 'assign_agent',\n            action_params: [],\n          },\n        ],\n      },\n      showDeleteConfirmationModal: false,\n      allCustomAttributes: [],\n      mode: 'create',\n    };\n  },\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledonAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    hasAutomationMutated() {\n      if (\n        this.automation.conditions[0].values ||\n        this.automation.actions[0].action_params.length\n      )\n        return true;\n      return false;\n    },\n    automationActionTypes() {\n      const isSLAEnabled = this.isFeatureEnabled('sla');\n      return isSLAEnabled\n        ? AUTOMATION_ACTION_TYPES\n        : AUTOMATION_ACTION_TYPES.filter(action => action.key !== 'add_sla');\n    },\n  },\n  mounted() {\n    this.$store.dispatch('inboxes/get');\n    this.$store.dispatch('agents/get');\n    this.$store.dispatch('contacts/get');\n    this.$store.dispatch('teams/get');\n    this.$store.dispatch('labels/get');\n    this.$store.dispatch('campaigns/get');\n    this.allCustomAttributes = this.$store.getters['attributes/getAttributes'];\n    this.manifestCustomAttributes();\n  },\n  methods: {\n    isFeatureEnabled(flag) {\n      return this.isFeatureEnabledonAccount(this.accountId, flag);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.event_wrapper {\n  select {\n    @apply m-0;\n  }\n  .info-message {\n    @apply text-xs text-green-500 dark:text-green-500 text-right;\n  }\n\n  @apply mb-6;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAutomationRule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAutomationRule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddAutomationRule.vue?vue&type=template&id=75e0a7e0&scoped=true&\"\nimport script from \"./AddAutomationRule.vue?vue&type=script&lang=js&\"\nexport * from \"./AddAutomationRule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddAutomationRule.vue?vue&type=style&index=0&id=75e0a7e0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75e0a7e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('AUTOMATION.EDIT.TITLE')}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col modal-content\"},[(_vm.automation)?_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.$v.automation.name.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.NAME.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.name.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.NAME.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.name.$touch},model:{value:(_vm.automation.name),callback:function ($$v) {_vm.$set(_vm.automation, \"name\", $$v)},expression:\"automation.name\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.$v.automation.description.$error },attrs:{\"label\":_vm.$t('AUTOMATION.ADD.FORM.DESC.LABEL'),\"type\":\"text\",\"error\":_vm.$v.automation.description.$error\n            ? _vm.$t('AUTOMATION.ADD.FORM.DESC.ERROR')\n            : '',\"placeholder\":_vm.$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')},on:{\"blur\":_vm.$v.automation.description.$touch},model:{value:(_vm.automation.description),callback:function ($$v) {_vm.$set(_vm.automation, \"description\", $$v)},expression:\"automation.description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"event_wrapper\"},[_c('label',{class:{ error: _vm.$v.automation.event_name.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.LABEL'))+\"\\n          \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.automation.event_name),expression:\"automation.event_name\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.automation, \"event_name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.onEventChange()}]}},_vm._l((_vm.automationRuleEvents),function(event){return _c('option',{key:event.key,domProps:{\"value\":event.key}},[_vm._v(\"\\n              \"+_vm._s(event.value)+\"\\n            \")])}),0),_vm._v(\" \"),(_vm.$v.automation.event_name.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.EVENT.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.conditions),function(condition,i){return _c('filter-input-box',{key:i,attrs:{\"filter-attributes\":_vm.getAttributes(_vm.automation.event_name),\"input-type\":_vm.getInputType(_vm.automation.conditions[i].attribute_key),\"operators\":_vm.getOperators(_vm.automation.conditions[i].attribute_key),\"dropdown-values\":_vm.getConditionDropdownValues(\n                _vm.automation.conditions[i].attribute_key\n              ),\"custom-attribute-type\":_vm.getCustomAttributeType(_vm.automation.conditions[i].attribute_key),\"show-query-operator\":i !== _vm.automation.conditions.length - 1,\"v\":_vm.$v.automation.conditions.$each[i]},on:{\"resetFilter\":function($event){return _vm.resetFilter(i, _vm.automation.conditions[i])},\"removeFilter\":function($event){return _vm.removeFilter(i)}},model:{value:(_vm.automation.conditions[i]),callback:function ($$v) {_vm.$set(_vm.automation.conditions, i, $$v)},expression:\"automation.conditions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewCondition}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('section',[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('AUTOMATION.ADD.FORM.ACTIONS.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"},[_vm._l((_vm.automation.actions),function(action,i){return _c('automation-action-input',{key:i,attrs:{\"action-types\":_vm.automationActionTypes,\"dropdown-values\":_vm.getActionDropdownValues(action.action_name),\"show-action-input\":_vm.showActionInput(action.action_name),\"v\":_vm.$v.automation.actions.$each[i],\"initial-file-name\":_vm.getFileName(action, _vm.automation.files)},on:{\"resetAction\":function($event){return _vm.resetAction(i)},\"removeAction\":function($event){return _vm.removeAction(i)}},model:{value:(_vm.automation.actions[i]),callback:function ($$v) {_vm.$set(_vm.automation.actions, i, $$v)},expression:\"automation.actions[i]\"}})}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('woot-button',{attrs:{\"icon\":\"add\",\"color-scheme\":\"success\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.appendNewAction}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('AUTOMATION.ADD.ACTION_BUTTON_LABEL'))+\"\\n            \")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"flex flex-row justify-end gap-2 py-2 px-0 w-full\"},[_c('woot-button',{staticClass:\"button\",attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.EDIT.CANCEL_BUTTON_TEXT'))+\"\\n          \")]),_vm._v(\" \"),_c('woot-button',{on:{\"click\":_vm.submitAutomation}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AUTOMATION.EDIT.SUBMIT'))+\"\\n          \")])],1)])],1):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <woot-modal-header :header-title=\"$t('AUTOMATION.EDIT.TITLE')\" />\n    <div class=\"flex flex-col modal-content\">\n      <div v-if=\"automation\" class=\"w-full\">\n        <woot-input\n          v-model=\"automation.name\"\n          :label=\"$t('AUTOMATION.ADD.FORM.NAME.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: $v.automation.name.$error }\"\n          :error=\"\n            $v.automation.name.$error\n              ? $t('AUTOMATION.ADD.FORM.NAME.ERROR')\n              : ''\n          \"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.NAME.PLACEHOLDER')\"\n          @blur=\"$v.automation.name.$touch\"\n        />\n        <woot-input\n          v-model=\"automation.description\"\n          :label=\"$t('AUTOMATION.ADD.FORM.DESC.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: $v.automation.description.$error }\"\n          :error=\"\n            $v.automation.description.$error\n              ? $t('AUTOMATION.ADD.FORM.DESC.ERROR')\n              : ''\n          \"\n          :placeholder=\"$t('AUTOMATION.ADD.FORM.DESC.PLACEHOLDER')\"\n          @blur=\"$v.automation.description.$touch\"\n        />\n        <div class=\"event_wrapper\">\n          <label :class=\"{ error: $v.automation.event_name.$error }\">\n            {{ $t('AUTOMATION.ADD.FORM.EVENT.LABEL') }}\n            <select v-model=\"automation.event_name\" @change=\"onEventChange()\">\n              <option\n                v-for=\"event in automationRuleEvents\"\n                :key=\"event.key\"\n                :value=\"event.key\"\n              >\n                {{ event.value }}\n              </option>\n            </select>\n            <span v-if=\"$v.automation.event_name.$error\" class=\"message\">\n              {{ $t('AUTOMATION.ADD.FORM.EVENT.ERROR') }}\n            </span>\n          </label>\n        </div>\n        <!-- // Conditions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.CONDITIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"\n          >\n            <filter-input-box\n              v-for=\"(condition, i) in automation.conditions\"\n              :key=\"i\"\n              v-model=\"automation.conditions[i]\"\n              :filter-attributes=\"getAttributes(automation.event_name)\"\n              :input-type=\"getInputType(automation.conditions[i].attribute_key)\"\n              :operators=\"getOperators(automation.conditions[i].attribute_key)\"\n              :dropdown-values=\"\n                getConditionDropdownValues(\n                  automation.conditions[i].attribute_key\n                )\n              \"\n              :custom-attribute-type=\"\n                getCustomAttributeType(automation.conditions[i].attribute_key)\n              \"\n              :show-query-operator=\"i !== automation.conditions.length - 1\"\n              :v=\"$v.automation.conditions.$each[i]\"\n              @resetFilter=\"resetFilter(i, automation.conditions[i])\"\n              @removeFilter=\"removeFilter(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewCondition\"\n              >\n                {{ $t('AUTOMATION.ADD.CONDITION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Conditions End -->\n        <!-- // Actions Start -->\n        <section>\n          <label>\n            {{ $t('AUTOMATION.ADD.FORM.ACTIONS.LABEL') }}\n          </label>\n          <div\n            class=\"w-full p-4 bg-slate-25 dark:bg-slate-700 rounded-lg border border-solid border-slate-50 dark:border-slate-700 mb-4\"\n          >\n            <automation-action-input\n              v-for=\"(action, i) in automation.actions\"\n              :key=\"i\"\n              v-model=\"automation.actions[i]\"\n              :action-types=\"automationActionTypes\"\n              :dropdown-values=\"getActionDropdownValues(action.action_name)\"\n              :show-action-input=\"showActionInput(action.action_name)\"\n              :v=\"$v.automation.actions.$each[i]\"\n              :initial-file-name=\"getFileName(action, automation.files)\"\n              @resetAction=\"resetAction(i)\"\n              @removeAction=\"removeAction(i)\"\n            />\n            <div class=\"mt-4\">\n              <woot-button\n                icon=\"add\"\n                color-scheme=\"success\"\n                variant=\"smooth\"\n                size=\"small\"\n                @click=\"appendNewAction\"\n              >\n                {{ $t('AUTOMATION.ADD.ACTION_BUTTON_LABEL') }}\n              </woot-button>\n            </div>\n          </div>\n        </section>\n        <!-- // Actions End -->\n        <div class=\"w-full\">\n          <div class=\"flex flex-row justify-end gap-2 py-2 px-0 w-full\">\n            <woot-button\n              class=\"button\"\n              variant=\"clear\"\n              @click.prevent=\"onClose\"\n            >\n              {{ $t('AUTOMATION.EDIT.CANCEL_BUTTON_TEXT') }}\n            </woot-button>\n            <woot-button @click=\"submitAutomation\">\n              {{ $t('AUTOMATION.EDIT.SUBMIT') }}\n            </woot-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport automationMethodsMixin from 'dashboard/mixins/automations/methodsMixin';\nimport automationValidationsMixin from 'dashboard/mixins/automations/validationsMixin';\nimport filterInputBox from 'dashboard/components/widgets/FilterInput/Index.vue';\nimport automationActionInput from 'dashboard/components/widgets/AutomationActionInput.vue';\n\nimport {\n  AUTOMATION_RULE_EVENTS,\n  AUTOMATION_ACTION_TYPES,\n  AUTOMATIONS,\n} from './constants';\n\nexport default {\n  components: {\n    filterInputBox,\n    automationActionInput,\n  },\n  mixins: [alertMixin, automationMethodsMixin, automationValidationsMixin],\n  props: {\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n    selectedResponse: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      automationTypes: JSON.parse(JSON.stringify(AUTOMATIONS)),\n      automationRuleEvent: AUTOMATION_RULE_EVENTS[0].key,\n      automationRuleEvents: AUTOMATION_RULE_EVENTS,\n      automationMutated: false,\n      show: true,\n      automation: null,\n      showDeleteConfirmationModal: false,\n      allCustomAttributes: [],\n      mode: 'edit',\n    };\n  },\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledonAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    hasAutomationMutated() {\n      if (\n        this.automation.conditions[0].values ||\n        this.automation.actions[0].action_params.length\n      )\n        return true;\n      return false;\n    },\n    automationActionTypes() {\n      const isSLAEnabled = this.isFeatureEnabled('sla');\n      return isSLAEnabled\n        ? AUTOMATION_ACTION_TYPES\n        : AUTOMATION_ACTION_TYPES.filter(action => action.key !== 'add_sla');\n    },\n  },\n  mounted() {\n    this.manifestCustomAttributes();\n    this.allCustomAttributes = this.$store.getters['attributes/getAttributes'];\n    this.formatAutomation(this.selectedResponse);\n  },\n  methods: {\n    isFeatureEnabled(flag) {\n      return this.isFeatureEnabledonAccount(this.accountId, flag);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.event_wrapper {\n  select {\n    @apply m-0;\n  }\n  .info-message {\n    @apply text-xs text-green-500 dark:text-green-500 text-right;\n  }\n\n  @apply mb-6;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAutomationRule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAutomationRule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditAutomationRule.vue?vue&type=template&id=ecb536c6&scoped=true&\"\nimport script from \"./EditAutomationRule.vue?vue&type=script&lang=js&\"\nexport * from \"./EditAutomationRule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditAutomationRule.vue?vue&type=style&index=0&id=ecb536c6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ecb536c6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex-1 overflow-auto p-4\">\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"add-circle\"\n      @click=\"openAddPopup()\"\n    >\n      {{ $t('AUTOMATION.HEADER_BTN_TXT') }}\n    </woot-button>\n    <div class=\"flex flex-row gap-4\">\n      <div class=\"w-full lg:w-3/5\">\n        <p\n          v-if=\"!uiFlags.isFetching && !records.length\"\n          class=\"flex h-full items-center flex-col justify-center\"\n        >\n          {{ $t('AUTOMATION.LIST.404') }}\n        </p>\n        <woot-loading-state\n          v-if=\"uiFlags.isFetching\"\n          :message=\"$t('AUTOMATION.LOADING')\"\n        />\n        <table v-if=\"!uiFlags.isFetching && records.length\" class=\"woot-table\">\n          <thead>\n            <th\n              v-for=\"thHeader in $t('AUTOMATION.LIST.TABLE_HEADER')\"\n              :key=\"thHeader\"\n            >\n              {{ thHeader }}\n            </th>\n          </thead>\n          <tbody>\n            <tr v-for=\"(automation, index) in records\" :key=\"index\">\n              <td>{{ automation.name }}</td>\n              <td>{{ automation.description }}</td>\n              <td>\n                <woot-switch\n                  :value=\"automation.active\"\n                  @input=\"toggleAutomation(automation, automation.active)\"\n                />\n              </td>\n              <td>{{ readableTime(automation.created_on) }}</td>\n              <td class=\"button-wrapper\">\n                <woot-button\n                  v-tooltip.top=\"$t('AUTOMATION.FORM.EDIT')\"\n                  variant=\"smooth\"\n                  size=\"tiny\"\n                  color-scheme=\"secondary\"\n                  class-names=\"grey-btn\"\n                  :is-loading=\"loading[automation.id]\"\n                  icon=\"edit\"\n                  @click=\"openEditPopup(automation)\"\n                />\n                <woot-button\n                  v-tooltip.top=\"$t('AUTOMATION.CLONE.TOOLTIP')\"\n                  variant=\"smooth\"\n                  size=\"tiny\"\n                  color-scheme=\"primary\"\n                  class-names=\"grey-btn\"\n                  :is-loading=\"loading[automation.id]\"\n                  icon=\"copy\"\n                  @click=\"cloneAutomation(automation.id)\"\n                />\n                <woot-button\n                  v-tooltip.top=\"$t('AUTOMATION.FORM.DELETE')\"\n                  variant=\"smooth\"\n                  color-scheme=\"alert\"\n                  size=\"tiny\"\n                  icon=\"dismiss-circle\"\n                  class-names=\"grey-btn\"\n                  :is-loading=\"loading[automation.id]\"\n                  @click=\"openDeletePopup(automation, index)\"\n                />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"hidden lg:block w-1/3\">\n        <span v-dompurify-html=\"$t('AUTOMATION.SIDEBAR_TXT')\" />\n      </div>\n    </div>\n    <woot-modal\n      :show.sync=\"showAddPopup\"\n      size=\"medium\"\n      :on-close=\"hideAddPopup\"\n    >\n      <add-automation-rule\n        v-if=\"showAddPopup\"\n        :on-close=\"hideAddPopup\"\n        @saveAutomation=\"submitAutomation\"\n      />\n    </woot-modal>\n\n    <woot-delete-modal\n      :show.sync=\"showDeleteConfirmationPopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('LABEL_MGMT.DELETE.CONFIRM.TITLE')\"\n      :message=\"$t('AUTOMATION.DELETE.CONFIRM.MESSAGE')\"\n      :message-value=\"deleteMessage\"\n      :confirm-text=\"deleteConfirmText\"\n      :reject-text=\"deleteRejectText\"\n    />\n\n    <woot-modal\n      :show.sync=\"showEditPopup\"\n      size=\"medium\"\n      :on-close=\"hideEditPopup\"\n    >\n      <edit-automation-rule\n        v-if=\"showEditPopup\"\n        :on-close=\"hideEditPopup\"\n        :selected-response=\"selectedResponse\"\n        @saveAutomation=\"submitAutomation\"\n      />\n    </woot-modal>\n    <woot-confirm-modal\n      ref=\"confirmDialog\"\n      :title=\"toggleModalTitle\"\n      :description=\"toggleModalDescription\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport AddAutomationRule from './AddAutomationRule.vue';\nimport EditAutomationRule from './EditAutomationRule.vue';\nimport alertMixin from 'shared/mixins/alertMixin';\nimport timeMixin from 'dashboard/mixins/time';\n\nexport default {\n  components: {\n    AddAutomationRule,\n    EditAutomationRule,\n  },\n  mixins: [alertMixin, timeMixin],\n  data() {\n    return {\n      loading: {},\n      showAddPopup: false,\n      showEditPopup: false,\n      showDeleteConfirmationPopup: false,\n      selectedResponse: {},\n      toggleModalTitle: this.$t('AUTOMATION.TOGGLE.ACTIVATION_TITLE'),\n      toggleModalDescription: this.$t(\n        'AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION'\n      ),\n    };\n  },\n  computed: {\n    ...mapGetters({\n      records: ['automations/getAutomations'],\n      uiFlags: 'automations/getUIFlags',\n      accountId: 'getCurrentAccountId',\n      isFeatureEnabledonAccount: 'accounts/isFeatureEnabledonAccount',\n    }),\n    // Delete Modal\n    deleteConfirmText() {\n      return `${this.$t('AUTOMATION.DELETE.CONFIRM.YES')} ${\n        this.selectedResponse.name\n      }`;\n    },\n    deleteRejectText() {\n      return `${this.$t('AUTOMATION.DELETE.CONFIRM.NO')} ${\n        this.selectedResponse.name\n      }`;\n    },\n    deleteMessage() {\n      return ` ${this.selectedResponse.name}?`;\n    },\n    isSLAEnabled() {\n      return this.isFeatureEnabledonAccount(this.accountId, 'sla');\n    },\n  },\n  mounted() {\n    this.$store.dispatch('inboxes/get');\n    this.$store.dispatch('agents/get');\n    this.$store.dispatch('contacts/get');\n    this.$store.dispatch('teams/get');\n    this.$store.dispatch('labels/get');\n    this.$store.dispatch('campaigns/get');\n    this.$store.dispatch('automations/get');\n    if (this.isSLAEnabled) this.$store.dispatch('sla/get');\n  },\n  methods: {\n    openAddPopup() {\n      this.showAddPopup = true;\n    },\n    hideAddPopup() {\n      this.showAddPopup = false;\n    },\n    openEditPopup(response) {\n      this.selectedResponse = response;\n      this.showEditPopup = true;\n    },\n    hideEditPopup() {\n      this.showEditPopup = false;\n    },\n    openDeletePopup(response) {\n      this.showDeleteConfirmationPopup = true;\n      this.selectedResponse = response;\n    },\n    closeDeletePopup() {\n      this.showDeleteConfirmationPopup = false;\n    },\n    confirmDeletion() {\n      this.loading[this.selectedResponse.id] = true;\n      this.closeDeletePopup();\n      this.deleteAutomation(this.selectedResponse.id);\n    },\n    async deleteAutomation(id) {\n      try {\n        await this.$store.dispatch('automations/delete', id);\n        this.showAlert(this.$t('AUTOMATION.DELETE.API.SUCCESS_MESSAGE'));\n        this.loading[this.selectedResponse.id] = false;\n      } catch (error) {\n        this.showAlert(this.$t('AUTOMATION.DELETE.API.ERROR_MESSAGE'));\n      }\n    },\n    async cloneAutomation(id) {\n      try {\n        await this.$store.dispatch('automations/clone', id);\n        this.showAlert(this.$t('AUTOMATION.CLONE.API.SUCCESS_MESSAGE'));\n        this.$store.dispatch('automations/get');\n        this.loading[this.selectedResponse.id] = false;\n      } catch (error) {\n        this.showAlert(this.$t('AUTOMATION.CLONE.API.ERROR_MESSAGE'));\n      }\n    },\n    async submitAutomation(payload, mode) {\n      try {\n        const action =\n          mode === 'edit' ? 'automations/update' : 'automations/create';\n        const successMessage =\n          mode === 'edit'\n            ? this.$t('AUTOMATION.EDIT.API.SUCCESS_MESSAGE')\n            : this.$t('AUTOMATION.ADD.API.SUCCESS_MESSAGE');\n        await this.$store.dispatch(action, payload);\n        this.showAlert(successMessage);\n        this.hideAddPopup();\n        this.hideEditPopup();\n      } catch (error) {\n        const errorMessage =\n          mode === 'edit'\n            ? this.$t('AUTOMATION.EDIT.API.ERROR_MESSAGE')\n            : this.$t('AUTOMATION.ADD.API.ERROR_MESSAGE');\n        this.showAlert(errorMessage);\n      }\n    },\n    async toggleAutomation(automation, status) {\n      try {\n        this.toggleModalTitle = status\n          ? this.$t('AUTOMATION.TOGGLE.DEACTIVATION_TITLE')\n          : this.$t('AUTOMATION.TOGGLE.ACTIVATION_TITLE');\n        this.toggleModalDescription = status\n          ? this.$t('AUTOMATION.TOGGLE.DEACTIVATION_DESCRIPTION', {\n              automationName: automation.name,\n            })\n          : this.$t('AUTOMATION.TOGGLE.ACTIVATION_DESCRIPTION', {\n              automationName: automation.name,\n            });\n        // Check if user confirms to proceed\n        const ok = await this.$refs.confirmDialog.showConfirmation();\n        if (ok) {\n          await await this.$store.dispatch('automations/update', {\n            id: automation.id,\n            active: !status,\n          });\n          const message = status\n            ? this.$t('AUTOMATION.TOGGLE.DEACTIVATION_SUCCESFUL')\n            : this.$t('AUTOMATION.TOGGLE.ACTIVATION_SUCCESFUL');\n          this.showAlert(message);\n        }\n      } catch (error) {\n        this.showAlert(this.$t('AUTOMATION.EDIT.API.ERROR_MESSAGE'));\n      }\n    },\n    readableTime(date) {\n      return this.messageStamp(new Date(date), 'LLL d, h:mm a');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=28e6bac6&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"]}}