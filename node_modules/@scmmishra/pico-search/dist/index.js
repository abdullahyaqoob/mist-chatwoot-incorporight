// Pico Search v0.5.1 · The MIT License · Copyright © 2023 Shivam Mishra.
"use strict";var p=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})},M=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of I(t))!x.call(e,i)&&i!==r&&p(e,i,{get:()=>t[i],enumerable:!(n=W(t,i))||n.enumerable});return e};var O=e=>M(p({},"__esModule",{value:!0}),e);var w={};C(w,{picoSearch:()=>R});module.exports=O(w);function y(e,t){if(e.length<t.length){let s=e;e=t,t=s}let r=e.length,n=t.length;if(!n)return 0;let i=Math.max(1,r/2)-1,a=Array(n).fill(!1),m=Array(r).fill(""),o=0;for(let s=0;s<r;s++){let u=e[s];for(let h=0;h<n;h++){let A=t[h];if(h<=s+i&&h+i>=1&&u===A&&!a[h]){a[h]=!0,m[o++]=u;break}}}if(!o)return 0;let c=0;for(let s=0,u=0;u<n;u++)a[u]&&(t[u]!==m[s]&&c++,s++);let l=o,g=(l/r+l/n+(l-c/2)/l)/3,f=0;n=Math.min(4,n);for(let s=0;s<n;s++)e[s]===t[s]&&f++;return g+f*.1*(1-g)}function T(e,t){if(t&&e.length!==t.length)throw new Error("The number of values must be equal to the number of weights");let r=e.reduce((i,a,m)=>{let o=t?t[m]:1;return i+a*o},0),n=t?t.reduce((i,a)=>i+a,0):e.length;return r/n}function b(e,t=0,r=1){return Math.max(t,Math.min(r,e))}function S(e){return e.split(/\s+/).filter((t,r,n)=>t&&n.indexOf(t)===r)}var d={CONTAINS_MATCH:1.2,FIRST_SIMILARITY:1.1,STARTS_WITH:1.05};function R(e,t,r,n){let i=[],a=n&&n.threshold||.8,m=t.trim().toLowerCase();return t?(e.forEach(o=>{let c=[],l=[];for(let f of r){let s=typeof f=="string"?f:f.name;if(typeof f!="string"?l.push(f.weight):l.push(1),Object.prototype.hasOwnProperty.call(o,s)&&typeof o[s]=="string"){let u=o[s].trim().toLowerCase(),h=j(u,m);c.push(h)}else c.push(0)}let g=T(c,l);g>=a&&i.push({object:o,similarity:g})}),i.sort((o,c)=>c.similarity-o.similarity),i.map(o=>o.object)):e}function j(e,t){let r=S(e),i=S(t).map(a=>{let m=r.map(l=>k(l,a)),o=Math.max(...m),c=m[0];return o===c?o*d.FIRST_SIMILARITY:b(o)});return T(i)}function k(e,t){let r=y(e,t);return e.includes(t)?r*d.CONTAINS_MATCH:r}0&&(module.exports={picoSearch});
//# sourceMappingURL=index.js.map